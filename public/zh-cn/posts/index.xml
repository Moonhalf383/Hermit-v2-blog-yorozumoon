<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/">
	<channel>
		<title>Posts on Yorozumoon</title>
		<link>http://localhost:1313/zh-cn/posts/</link>
		<description>Recent content in Posts on Yorozumoon</description>
		<generator>Hugo -- 0.152.2</generator>
		<language>zh-cn</language>
		<copyright>copyright by Moonhalf.</copyright>
		<lastBuildDate>Thu, 01 Jan 2026 21:00:42 +0800</lastBuildDate>
		<atom:link href="http://localhost:1313/zh-cn/posts/index.xml" rel="self" type="application/rss+xml" />
		
		
		<item>
			<title>Fabricè‡ªå­¦æ—¥å¿—01ï¼šå†œå¤«ä¹äº‹é‡ç»‡ç‰ˆ</title>
			<link>http://localhost:1313/zh-cn/posts/fabric%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701%E5%86%9C%E5%A4%AB%E4%B9%90%E4%BA%8B%E9%87%8D%E7%BB%87%E7%89%88/</link>
			<pubDate>Thu, 01 Jan 2026 21:00:42 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/fabric%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701%E5%86%9C%E5%A4%AB%E4%B9%90%E4%BA%8B%E9%87%8D%E7%BB%87%E7%89%88/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>æˆ‘ä¸€ç›´å¾ˆæƒ³åšmcæ¨¡ç»„ï¼Œä½†æ˜¯å¥ˆä½•javaå¼€å‘ç»éªŒçº¦ç­‰äº0ã€‚ä»Šå¤©ç»ˆäºå†³å®šå¼€å§‹è®¤çœŸç ”ç©¶fabricæ¨¡ç»„å¼€å‘ï¼Œä¹‹åä¹Ÿåº”è¯¥ä¼šä¸€ç›´æ›´æ–°fabricå­¦ä¹ ç¬”è®°ã€‚</p>
<p>ç¨‹åºå‘˜æ£®å‘¸ä»¬éƒ½è¯´ï¼Œè¯»ä»£ç å°±æ˜¯å­¦ä¹ å†™ä»£ç æœ€å¥½çš„æ–¹å¼ï¼Œäºæ˜¯ä»Šå¤©ç¬¬ä¸€å¼¹å…ˆæ¥ç ”ç©¶ä¸€ä¸‹FarmersDelightRefabricatedçš„æ–‡ä»¶ç»“æ„ä¸ä»£ç ç»„æˆã€‚FarmersDelightRefabricatedå³å†œå¤«ä¹äº‹ï¼šé‡ç»‡ç‰ˆï¼Œæ˜¯ç»å…¸æ¨¡ç»„å†œå¤«ä¹äº‹çš„fabricç«¯ç§»æ¤ç‰ˆã€‚</p>
<p>ğŸ”—å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://github.com/MehVahdJukaar/FarmersDelightRefabricated">FarmersDelightRefabricatedGithubä¸»é¡µ</a></p>
<p><a href="https://docs.fabricmc.net/develop/">fabricæ–‡æ¡£</a></p>
<p><a href="https://www.mcmod.cn/class/14196.html">mcmodé¡µé¢</a></p>
<hr>
<h2 id="æ–‡ä»¶ç»“æ„">æ–‡ä»¶ç»“æ„<a href="#%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ğŸ“ .
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ build
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ classes
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ datagen
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ generated
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ loom-cache
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ reports
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ resources
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“ tmp
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ build.gradle
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ changelog.md
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ gradle
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“ wrapper
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ gradle.properties
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ gradlew
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ gradlew.bat
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ LICENSE
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ README.md
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ run
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ config
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ downloads
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ logs
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ mods
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“„ options.txt
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ resourcepacks
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ resources
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ saves
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“„ usercache.json
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“„ settings.gradle
</span></span><span style="display:flex;"><span>â””â”€â”€ ğŸ“ src
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“ generated
</span></span><span style="display:flex;"><span>    â””â”€â”€ ğŸ“ main
</span></span></code></pre></div><p>å¦‚ä¸Šæ˜¯è¿›å…¥æ ¹ç›®å½•å<code>lt -L 2</code>å¾—åˆ°çš„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰å±•å¼€åˆ°åº•ï¼Œå¤§å¤šæ•°ä»£ç æ–‡ä»¶éƒ½æ²¡æœ‰è¢«åŒ…å«åœ¨ä»¥ä¸Šå±•ç¤ºçš„å†…å®¹ä¸­ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥å…ˆæ¥å°±æ­¤åˆ†æä¸€ä¸‹ä¸€ä¸ªfabricæ¨¡ç»„çš„ä¸»ä½“ç»“æ„ã€‚</p>
<h3 id="gradleæ„å»ºæ–‡ä»¶">Gradleæ„å»ºæ–‡ä»¶<a href="#gradle%e6%9e%84%e5%bb%ba%e6%96%87%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å†³å®šäº†é¡¹ç›®å¦‚ä½•ç¼–è¯‘ä»¥åŠæœ‰å“ªäº›ä¾èµ–ã€‚</p>
<h4 id="gradleæ–‡ä»¶buildgradle">Gradleæ–‡ä»¶ï¼š<code>build.gradle</code><a href="#gradle%e6%96%87%e4%bb%b6buildgradle" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æœ€æ ¸å¿ƒçš„æ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ¨¡ç»„çš„ç‰ˆæœ¬ã€åç§°ã€ä¾èµ–å…³ç³»ã€æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯ç­‰åŸºæœ¬ä¿¡æ¯ã€‚</p>
<p><img src="/zh-cn/posts/fabric%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701%E5%86%9C%E5%A4%AB%E4%B9%90%E4%BA%8B%E9%87%8D%E7%BB%87%E7%89%88/build.gradle.png" alt=""></p>
<h4 id="gradleæ–‡ä»¶gradleproperties">Gradleæ–‡ä»¶ï¼š<code>gradle.properties</code><a href="#gradle%e6%96%87%e4%bb%b6gradleproperties" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>é…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾Minecraftç‰ˆæœ¬ã€æ¨¡ç»„åŸºæœ¬ä¿¡æ¯ã€fabric loaderç‰ˆæœ¬ã€ä¾èµ–æ¨¡ç»„çš„åç§°å’Œç‰ˆæœ¬ã€‚</p>
<p><img src="/zh-cn/posts/fabric%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701%E5%86%9C%E5%A4%AB%E4%B9%90%E4%BA%8B%E9%87%8D%E7%BB%87%E7%89%88/gradle.properties.png" alt=""></p>
<h4 id="gradleæ–‡ä»¶settingsgradle">Gradleæ–‡ä»¶ï¼š<code>settings.gradle</code><a href="#gradle%e6%96%87%e4%bb%b6settingsgradle" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å®šä¹‰é¡¹ç›®åç§°ã€‚</p>
<p><img src="/zh-cn/posts/fabric%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701%E5%86%9C%E5%A4%AB%E4%B9%90%E4%BA%8B%E9%87%8D%E7%BB%87%E7%89%88/setting.gradle.png" alt=""></p>
<h4 id="gradleæ–‡ä»¶gradlew--gradlewbat">Gradleæ–‡ä»¶ï¼š<code>gradlew &amp; gradlew.bat</code><a href="#gradle%e6%96%87%e4%bb%b6gradlew--gradlewbat" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ä¸€é”®ç¼–è¯‘æ¨¡ç»„çš„è„šæœ¬ã€‚è¿è¡Œ<code>./gradlew build</code>åå³ä½¿ç”µè„‘ä¸Šæ²¡æœ‰å®‰è£…gradleä¹Ÿå¯ä»¥ç¼–è¯‘ã€‚</p>
<h4 id="gradleæ–‡ä»¶gradlewrapper">Gradleæ–‡ä»¶ï¼š<code>gradle/wrapper</code><a href="#gradle%e6%96%87%e4%bb%b6gradlewrapper" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å­˜æ”¾è®©ä¸Šé¢çš„è„šæœ¬å¯ä»¥æ­£å¸¸å·¥ä½œçš„å°ç¨‹åºã€‚</p>
<hr>
<h3 id="srcæºæ–‡ä»¶">srcæºæ–‡ä»¶<a href="#src%e6%ba%90%e6%96%87%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<h4 id="æ ¸å¿ƒç›®å½•srcmain">æ ¸å¿ƒç›®å½•ï¼š<code>src/main</code><a href="#%e6%a0%b8%e5%bf%83%e7%9b%ae%e5%bd%95srcmain" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ¨¡ç»„çš„ä¸»ä½“ï¼ŒåŒ…å«æ‰€æœ‰.javaä»£ç ä»¥åŠè´´å›¾ã€æ¨¡å‹ç­‰èµ„æºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ğŸ“ .
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ java
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“ vectorwing
</span></span><span style="display:flex;"><span>â”‚       â””â”€â”€ ğŸ“ farmersdelight
</span></span><span style="display:flex;"><span>â”‚           â”œâ”€â”€ ğŸ“ client
</span></span><span style="display:flex;"><span>â”‚           â”œâ”€â”€ ğŸ“ common
</span></span><span style="display:flex;"><span>â”‚           â”œâ”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>â”‚           â”œâ”€â”€ â˜• FarmersDelight.java
</span></span><span style="display:flex;"><span>â”‚           â”œâ”€â”€ ğŸ“ integration
</span></span><span style="display:flex;"><span>â”‚           â””â”€â”€ ğŸ“ refabricated
</span></span><span style="display:flex;"><span>â””â”€â”€ ğŸ“ resources
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“ assets
</span></span><span style="display:flex;"><span>    â”‚   â”œâ”€â”€ ğŸ“ emi
</span></span><span style="display:flex;"><span>    â”‚   â”‚   â””â”€â”€ ğŸ“ recipe
</span></span><span style="display:flex;"><span>    â”‚   â””â”€â”€ ğŸ“ farmersdelight
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ atlases
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ blockstates
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ lang
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ models
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ particles
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ sounds
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“„ sounds.json
</span></span><span style="display:flex;"><span>    â”‚       â””â”€â”€ ğŸ“ textures
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>    â”‚   â””â”€â”€ ğŸ“ farmersdelight
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ create
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ damage_type
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ loot_modifiers
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ loot_table
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ neoforge
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ recipe
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ scripts
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ structure
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>    â”‚       â”œâ”€â”€ ğŸ“ weapon_attributes
</span></span><span style="display:flex;"><span>    â”‚       â””â”€â”€ ğŸ“ worldgen
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“„ fabric.mod.json
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“„ farmersdelight.accesswidener
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ ğŸ“„ farmersdelight.mixins.json
</span></span><span style="display:flex;"><span>    â””â”€â”€ ğŸ–¼ï¸ icon.png
</span></span></code></pre></div><h4 id="javaç›®å½•srcmainjava">javaç›®å½•ï¼š<code>src/main/java</code><a href="#java%e7%9b%ae%e5%bd%95srcmainjava" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ‰€æœ‰çš„Javaä»£ç æ‰€åœ¨åœ°ã€‚</p>
<h4 id="ç´ æèµ„æºç›®å½•srcmainresources">ç´ æèµ„æºç›®å½•ï¼š<code>src/main/resources</code><a href="#%e7%b4%a0%e6%9d%90%e8%b5%84%e6%ba%90%e7%9b%ae%e5%bd%95srcmainresources" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ç´ ææ‰€åœ¨åœ°ã€‚</p>
<ul>
<li><code>src/main/resources/assets</code>å­˜æ”¾è´´å›¾ã€æ¨¡å‹ã€è¯­è¨€ã€å£°éŸ³æ–‡ä»¶ã€‚</li>
<li><code>src/main/resources/data</code>å­˜æ”¾åˆæˆè¡¨ã€æˆ˜åˆ©å“ã€æ ‡ç­¾ã€‚</li>
<li><code>src/main/resources/fabric.mod.json</code>è®°å½•æ¨¡ç»„idã€åç§°ã€å…¥å£ç±»ç­‰ã€‚</li>
</ul>
<hr>
<h4 id="ç”Ÿæˆèµ„æºç›®å½•srcgenerated">ç”Ÿæˆèµ„æºç›®å½•ï¼š<code>src/generated</code><a href="#%e7%94%9f%e6%88%90%e8%b5%84%e6%ba%90%e7%9b%ae%e5%bd%95srcgenerated" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ä½¿ç”¨ä»£ç ç”Ÿæˆçš„æ¸¸æˆæ•°æ®ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ğŸ“ .
</span></span><span style="display:flex;"><span>â””â”€â”€ ğŸ“ resources
</span></span><span style="display:flex;"><span>    â””â”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ c
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ create
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ createaddition
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ farmersdelight
</span></span><span style="display:flex;"><span>        â”‚   â”œâ”€â”€ ğŸ“ advancement
</span></span><span style="display:flex;"><span>        â”‚   â”œâ”€â”€ ğŸ“ enchantment
</span></span><span style="display:flex;"><span>        â”‚   â”œâ”€â”€ ğŸ“ loot_table
</span></span><span style="display:flex;"><span>        â”‚   â”œâ”€â”€ ğŸ“ recipe
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ minecraft
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ neoforge
</span></span><span style="display:flex;"><span>        â”‚   â”œâ”€â”€ ğŸ“ data_maps
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ origins
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ ğŸ“ sereneseasons
</span></span><span style="display:flex;"><span>        â”‚   â””â”€â”€ ğŸ“ tags
</span></span><span style="display:flex;"><span>        â””â”€â”€ ğŸ“ tconstruct
</span></span><span style="display:flex;"><span>            â””â”€â”€ ğŸ“ tags
</span></span></code></pre></div><p>ä»¥ä¸Šæ˜¯<code>src/generated</code>ç›®å½•ä¸‹çš„4çº§æ–‡ä»¶æ ‘ï¼Œä»ç„¶æ²¡æœ‰å±•å¼€åˆ°åº•ã€‚å±•å¼€åˆ°åº•åæ˜¯å„ç§.jsonæ–‡ä»¶ã€‚</p>
<hr>
<h3 id="run">run<a href="#run" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å½“ä½ ç‚¹å‡» IDE é‡Œçš„â€œè¿è¡Œæ¸¸æˆâ€æ—¶ï¼Œå®ƒä¼šæŠŠè¿™é‡Œå½“æˆä¸€ä¸ªç‹¬ç«‹çš„ Minecraft æ ¹ç›®å½•ã€‚</p>
<h4 id="å­˜æ¡£ç›®å½•runsaves">å­˜æ¡£ç›®å½•ï¼š<!-- raw HTML omitted --><code>run/saves</code><!-- raw HTML omitted --><a href="#%e5%ad%98%e6%a1%a3%e7%9b%ae%e5%bd%95runsaves" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å­˜æ¡£ã€‚</p>
<h4 id="è¿è¡Œæ—¥å¿—ç›®å½•runlogs">è¿è¡Œæ—¥å¿—ç›®å½•ï¼š<!-- raw HTML omitted --><code>run/logs</code><!-- raw HTML omitted --><a href="#%e8%bf%90%e8%a1%8c%e6%97%a5%e5%bf%97%e7%9b%ae%e5%bd%95runlogs" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å´©æºƒæˆ–è°ƒè¯•æ—¶çš„æ—¥å¿—ã€‚</p>
<h4 id="é…ç½®ç›®å½•runconfig">é…ç½®ç›®å½•ï¼š<!-- raw HTML omitted --><code>run/config</code><!-- raw HTML omitted --><a href="#%e9%85%8d%e7%bd%ae%e7%9b%ae%e5%bd%95runconfig" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ¨¡ç»„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åŒ…å«æœ¬æ¨¡ç»„ä»¥åŠç‹¬ç«‹æ ¹ç›®å½•çš„å…¶ä»–æ¨¡ç»„çš„æµ‹è¯•æ–‡ä»¶ã€‚</p>
<h4 id="æ¨¡ç»„ç›®å½•runmods">æ¨¡ç»„ç›®å½•ï¼š<!-- raw HTML omitted --><code>run/mods</code><!-- raw HTML omitted --><a href="#%e6%a8%a1%e7%bb%84%e7%9b%ae%e5%bd%95runmods" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>è°ƒè¯•æ—¶æƒ³è¦åŠ è½½çš„å…¶ä»–æ¨¡ç»„ï¼Œæ¯”å¦‚jeiã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ğŸ“ .
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ config
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“ fabric
</span></span><span style="display:flex;"><span>â”‚   â”‚   â””â”€â”€ ğŸ“„ indigo-renderer.properties
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“„ farmersdelight-client.json
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ğŸ“„ farmersdelight-common.json
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“„ modmenu.json
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“„ fabricDefaultResourcePacks.dat
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ downloads
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“„ log.json
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ logs
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ï† debug.log
</span></span><span style="display:flex;"><span>â”‚   â”œâ”€â”€ ï† latest.log
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“ telemetry
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ mods
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ï…œ options.txt
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ resourcepacks
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ resources
</span></span><span style="display:flex;"><span>â”œâ”€â”€ ğŸ“ saves
</span></span><span style="display:flex;"><span>â”‚   â””â”€â”€ ğŸ“ <span style="color:#e6db74">&#39;New World&#39;</span>
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ advancements
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ data
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ datapacks
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ DIM-1
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ DIM1
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ entities
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ–¼ï¸ icon.png
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“„ level.dat
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“„ level.dat_old
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ playerdata
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ poi
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ“ region
</span></span><span style="display:flex;"><span>â”‚       â”œâ”€â”€ ğŸ”’ session.lock
</span></span><span style="display:flex;"><span>â”‚       â””â”€â”€ ğŸ“ stats
</span></span><span style="display:flex;"><span>â””â”€â”€ ğŸ“„ usercache.json
</span></span></code></pre></div><hr>
<h3 id="ç¼–è¯‘äº§ç‰©build">ç¼–è¯‘äº§ç‰©build<a href="#%e7%bc%96%e8%af%91%e4%ba%a7%e7%89%a9build" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æ¯æ¬¡ç¼–è¯‘ågradleè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ç¼–è¯‘æ—¶çš„å„ç§ä¸´æ—¶æ–‡ä»¶ã€‚æ­¤æ–‡ä»¶å¤¹å¯ä»¥éšæ—¶åˆ é™¤ï¼Œä¸‹æ¬¡ç¼–è¯‘çš„æ—¶å€™ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p>
<hr>
<h1 id="å¦‚ä½•æ­£ç¡®åœ°çœ‹å¾…ä¸€ä¸ªfabricæ¨¡ç»„çš„æ–‡ä»¶ç»“æ„">å¦‚ä½•æ­£ç¡®åœ°çœ‹å¾…ä¸€ä¸ªfabricæ¨¡ç»„çš„æ–‡ä»¶ç»“æ„ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e6%ad%a3%e7%a1%ae%e5%9c%b0%e7%9c%8b%e5%be%85%e4%b8%80%e4%b8%aafabric%e6%a8%a1%e7%bb%84%e7%9a%84%e6%96%87%e4%bb%b6%e7%bb%93%e6%9e%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>ä»ä¸Šé¢çš„ç®€è¦åˆ†æä¸­ï¼Œä½ ä¼šæ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼šå³ä½¿æ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å…¶è²Œä¸æ‰¬çš„æ¨¡ç»„ï¼Œå®ƒçš„æ–‡ä»¶ç»“æ„ä¹Ÿå¤æ‚åˆ°äº†ç›¸å½“é€†å¤©çš„æ°´å¹³ã€‚å¯¹äºæˆ‘ä»¬è¿™ç§äººç±»ç¨‹åºå‘˜æ¥è¯´ï¼Œæˆ‘ä»¬å¾ˆéš¾åšåˆ°æ‰‹åŠ¨ä¿®æ”¹æ¯ä¸€ä¸ªåœ°æ–¹æ¥å®ç°åŠŸèƒ½ã€‚ä¸€ä¸ªæ­£å¸¸çš„æƒ³æ³•æ˜¯ï¼šè¿™æ ·çš„æ¨¡ç»„é¡¹ç›®çœŸçš„æ˜¯äººèƒ½ç»„ç»‡èµ·æ¥çš„ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯è¿˜çœŸä¸æ˜¯ï¼Œè¿™å°±æ˜¯javaå¸¦ç»™æˆ‘çš„è‡ªä¿¡ã€‚çœŸå®æƒ…å†µæ˜¯ï¼šä¸€ä¸ªfabricæ¨¡ç»„çœ‹èµ·æ¥ç»“æ„éå¸¸å¤æ‚ï¼Œä½†æ˜¯å¯¹äºå…¶ä¸­çš„ç»å¤§å¤šæ•°æ–‡ä»¶ï¼Œä½ å…¶å®æ ¹æœ¬æ— éœ€å»æ”¹åŠ¨ã€‚</p>
<ul>
<li><strong>Gradleæ–‡ä»¶</strong>ï¼šé™¤éä½ è¦ä¿®æ”¹ç‰ˆæœ¬å·æˆ–è€…æ·»åŠ ä¾èµ–ï¼Œå¦åˆ™åŸºæœ¬æ— éœ€ä¿®æ”¹ã€‚</li>
<li><strong>&quot;.&ldquo;å¼€å¤´çš„éšè—æ–‡ä»¶</strong>ï¼šæ— è§†ã€‚</li>
<li><strong>src/main</strong>ï¼šå®é™…çš„å·¥ä½œåŒºï¼Œè¿™é‡Œçš„æ–‡ä»¶æ‰æ˜¯ä½ åˆ›é€ çš„ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼Œä¸€ä¸ªæ¨¡ç»„å¼€å‘è€…çœ¼é‡Œåº”è¯¥åªæœ‰ä¸¤æ¡è·¯ï¼š</p>
<blockquote>
<ol>
<li><strong>src/main/java</strong>: ç¼–å†™<strong>é€»è¾‘</strong>çš„åœ°æ–¹ï¼ˆæ–¹å—æ€ä¹ˆè¿ä½œã€æŒ‰é”®æœ‰ä»€ä¹ˆååº”ï¼‰ã€‚</li>
<li><strong>src/main/resources</strong>: å­˜æ”¾<strong>æ•°æ®</strong>çš„åœ°æ–¹ï¼ˆæ–¹å—é•¿ä»€ä¹ˆæ ·ã€å«ä»€ä¹ˆåå­—ã€æè´¨è´´å›¾ï¼‰ã€‚</li>
</ol>
</blockquote>
<p>å¦‚æœä½ æƒ³æ·»åŠ ä¸€ä¸ªä¸œè¥¿ï¼š</p>
<blockquote>
<p>å…ˆæ€è€ƒæ€ä¹ˆæ³¨å†Œã€‚</p>
</blockquote>
<p>å¦‚æœä½ æƒ³æ·»åŠ jsonï¼ˆé…æ–¹ã€lootã€æ¨¡å‹ï¼‰ï¼š</p>
<blockquote>
<p>ä½¿ç”¨Data generationç³»ç»Ÿã€‚</p>
</blockquote>
<p>å¦‚æœä½ æƒ³ä¿®æ”¹åŸç‰ˆæœºåˆ¶ï¼š</p>
<blockquote>
<p>ä½¿ç”¨mixinã€‚</p>
</blockquote>
<hr>
<h1 id="ä¸¾ä¸ªä¾‹å­01">ä¸¾ä¸ªä¾‹å­01<a href="#%e4%b8%be%e4%b8%aa%e4%be%8b%e5%ad%9001" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<blockquote>
<p>ï¼ˆç«™åœ¨FarmersDelightRefabricatedå¼€å‘è€…è§†è§’ï¼‰æˆ‘æƒ³åšä¸€ä¸ªå¨é”…ã€‚</p>
</blockquote>
<h2 id="q1å¨é”…æ˜¯ä¸€ä¸ªæ–¹å—ä½†æ˜¯å¯¹äºå¨é”…ç‰©å“æˆ‘æœ‰å¿…è¦è‡ªå·±å»å†™æ£€æµ‹å³é”®è®¡ç®—åæ ‡æ”¾ç½®æ–¹å—ç­‰æ–¹å—çš„åŸºæœ¬å±æ€§å—">Q1ï¼šå¨é”…æ˜¯ä¸€ä¸ªæ–¹å—ï¼Œä½†æ˜¯å¯¹äºå¨é”…ç‰©å“ï¼Œæˆ‘æœ‰å¿…è¦è‡ªå·±å»å†™â€œæ£€æµ‹å³é”®ã€è®¡ç®—åæ ‡ã€æ”¾ç½®æ–¹å—â€ç­‰æ–¹å—çš„åŸºæœ¬å±æ€§å—ï¼Ÿ<a href="#q1%e5%8e%a8%e9%94%85%e6%98%af%e4%b8%80%e4%b8%aa%e6%96%b9%e5%9d%97%e4%bd%86%e6%98%af%e5%af%b9%e4%ba%8e%e5%8e%a8%e9%94%85%e7%89%a9%e5%93%81%e6%88%91%e6%9c%89%e5%bf%85%e8%a6%81%e8%87%aa%e5%b7%b1%e5%8e%bb%e5%86%99%e6%a3%80%e6%b5%8b%e5%8f%b3%e9%94%ae%e8%ae%a1%e7%ae%97%e5%9d%90%e6%a0%87%e6%94%be%e7%bd%ae%e6%96%b9%e5%9d%97%e7%ad%89%e6%96%b9%e5%9d%97%e7%9a%84%e5%9f%ba%e6%9c%ac%e5%b1%9e%e6%80%a7%e5%90%97" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>ç­”æ¡ˆï¼šä¸éœ€è¦ã€‚å› ä¸ºMinecraftæ‰€æœ‰çš„<strong>èƒŒåŒ…é‡Œçš„</strong>æ–¹å—éƒ½æ˜¯<code>BLockItem</code>çš„å®ä¾‹ã€‚ä½ åªéœ€è¦ç»§æ‰¿è‡ª<code>BLockItem</code>å°±å¯ä»¥è‡ªåŠ¨è·å¾—å®ƒçš„ä¸€åˆ‡ç‰¹å¾ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ï¼ˆå¼€å‘è€…ï¼‰å…ˆåœ¨<code>/src/main/java/xxx/farmersdelight/common/item/</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>CookingPotItem.java</code>ï¼Œç„¶åå†™å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> vectorwing.farmersdelight.common.item;
</span></span></code></pre></div><p>å†å†™å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CookingPotItem</span> <span style="color:#66d9ef">extends</span> BlockItem
</span></span></code></pre></div><p>ä»£è¡¨<code>CookingPotItem</code>ç›´æ¥ç»§æ‰¿è‡ª<code>BlockItem</code>ã€‚</p>
<h2 id="q2ç‰©å“å¯ä»¥æœ‰ä¸€ä¸ªç»¿è‰²çš„æ¡baræ¥è¡¨ç¤ºè€ä¹…æˆ‘çš„å¨é”…æ²¡æœ‰è€ä¹…ä½†æ˜¯æˆ‘ä¹Ÿæƒ³ç”¨è¿™ä¸ªbaræ¥è¡¨ç¤ºé‡Œé¢è£…äº†å¤šå°‘é¥­æ€ä¹ˆå®ç°å‘¢">Q2ï¼šç‰©å“å¯ä»¥æœ‰ä¸€ä¸ªç»¿è‰²çš„æ¡ï¼ˆbarï¼‰æ¥è¡¨ç¤ºè€ä¹…ã€‚æˆ‘çš„å¨é”…æ²¡æœ‰è€ä¹…ï¼Œä½†æ˜¯æˆ‘ä¹Ÿæƒ³ç”¨è¿™ä¸ªbaræ¥è¡¨ç¤ºé‡Œé¢è£…äº†å¤šå°‘é¥­ï¼Œæ€ä¹ˆå®ç°å‘¢ï¼Ÿ<a href="#q2%e7%89%a9%e5%93%81%e5%8f%af%e4%bb%a5%e6%9c%89%e4%b8%80%e4%b8%aa%e7%bb%bf%e8%89%b2%e7%9a%84%e6%9d%a1bar%e6%9d%a5%e8%a1%a8%e7%a4%ba%e8%80%90%e4%b9%85%e6%88%91%e7%9a%84%e5%8e%a8%e9%94%85%e6%b2%a1%e6%9c%89%e8%80%90%e4%b9%85%e4%bd%86%e6%98%af%e6%88%91%e4%b9%9f%e6%83%b3%e7%94%a8%e8%bf%99%e4%b8%aabar%e6%9d%a5%e8%a1%a8%e7%a4%ba%e9%87%8c%e9%9d%a2%e8%a3%85%e4%ba%86%e5%a4%9a%e5%b0%91%e9%a5%ad%e6%80%8e%e4%b9%88%e5%ae%9e%e7%8e%b0%e5%91%a2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>ç­”æ¡ˆï¼šåŠ«æŒåŸç‰ˆçš„åŸç‰ˆçš„uiæœºåˆ¶ï¼Œè®©å®ƒç›´æ¥ä¸ºè‡ªå·±æœåŠ¡ã€‚ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæ˜¯åŸç‰ˆçš„ä»£ç æä¾›äº†æ¥å£ç±»ï¼Œä½¿å¾—ç¨‹åºå‘˜å¯ä»¥å°†è‡ªå·±çš„ç‰¹æ®Šå®ç°å¡è¿›å»ã€‚</p>
<p>æˆ‘ï¼ˆå¼€å‘è€…ï¼‰ï¼šæˆ‘å¸Œæœ›æˆ‘çš„å¨é”…æ¡æœ‰ä»¥ä¸‹é€»è¾‘ï¼š</p>
<h3 id="1-åªåœ¨å¨é”…å†…éƒ¨è£…äº†ä¸œè¥¿çš„æ—¶å€™æ‰æ˜¾ç¤º">1. åªåœ¨å¨é”…å†…éƒ¨è£…äº†ä¸œè¥¿çš„æ—¶å€™æ‰æ˜¾ç¤º<a href="#1-%e5%8f%aa%e5%9c%a8%e5%8e%a8%e9%94%85%e5%86%85%e9%83%a8%e8%a3%85%e4%ba%86%e4%b8%9c%e8%a5%bf%e7%9a%84%e6%97%b6%e5%80%99%e6%89%8d%e6%98%be%e7%a4%ba" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æ‰€ä»¥æˆ‘å†™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isBarVisible</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> getServingCount(stack) <span style="color:#f92672">&gt;</span> 0;
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h3 id="2-barçš„é•¿åº¦èƒ½åæ˜ å†…éƒ¨è£…äº†å¤šå°‘ä¸œè¥¿">2. Barçš„é•¿åº¦èƒ½åæ˜ å†…éƒ¨è£…äº†å¤šå°‘ä¸œè¥¿<a href="#2-bar%e7%9a%84%e9%95%bf%e5%ba%a6%e8%83%bd%e5%8f%8d%e6%98%a0%e5%86%85%e9%83%a8%e8%a3%85%e4%ba%86%e5%a4%9a%e5%b0%91%e4%b8%9c%e8%a5%bf" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æ‰€ä»¥æˆ‘å†™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getBarWidth</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> Math.<span style="color:#a6e22e">min</span>(1 <span style="color:#f92672">+</span> 12 <span style="color:#f92672">*</span> getServingCount(stack) <span style="color:#f92672">/</span> 64, 13);
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h2 id="3-ä¸ç®¡é‡Œé¢è£…äº†å¤šå°‘ä¸œè¥¿baréƒ½åªæ˜¯è“è‰²çš„">3. ä¸ç®¡é‡Œé¢è£…äº†å¤šå°‘ä¸œè¥¿ï¼ŒBaréƒ½åªæ˜¯è“è‰²çš„<a href="#3-%e4%b8%8d%e7%ae%a1%e9%87%8c%e9%9d%a2%e8%a3%85%e4%ba%86%e5%a4%9a%e5%b0%91%e4%b8%9c%e8%a5%bfbar%e9%83%bd%e5%8f%aa%e6%98%af%e8%93%9d%e8%89%b2%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>æ‰€ä»¥æˆ‘å†™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getBarColor</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> BAR_COLOR;
</span></span><span style="display:flex;"><span> }
</span></span></code></pre></div><h2 id="q3æˆ‘æƒ³">Q3ï¼šæˆ‘æƒ³<a href="#q3%e6%88%91%e6%83%b3" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>å…ˆåˆ«æ€¥ï¼Œæ¥ä¸‹æ¥èƒ½åšçš„äº‹æƒ…å·²ç»ä¸æ˜¯ä»…å‡­å†™è¿™ä¸ªjavaä»£ç å°±èƒ½å®Œæˆçš„äº†ã€‚æˆ‘ï¼ˆå¼€å‘è€…ï¼‰æ„è¯†åˆ°æˆ‘åšçš„ä¸œè¥¿æ˜¯ä¸€ä¸ªæ–¹å—ï¼Œè€Œä¸€ä¸ªæ–¹å—è¿œè¿œä¸æ­¢æ˜¯ä¸€ä¸ªç‰©å“æ ä¸­çš„ç‰©å“é‚£ä¹ˆç®€å•ã€‚</p>
<p>æˆ‘ï¼ˆå¼€å‘è€…ï¼‰è¿˜éœ€è¦åšè¿™äº›äº‹æƒ…ï¼š</p>
<ol>
<li>æ³¨å†Œã€‚æˆ‘åªæ˜¯å†™äº†<strong>å¨é”…ä½œä¸ºç‰©å“å­˜åœ¨æ—¶çš„éƒ¨åˆ†å±æ€§</strong>ï¼Œæˆ‘éœ€è¦è®©è¿™ä¸ªå¨é”…<strong>å­˜åœ¨</strong>ã€‚</li>
<li>å¤„ç†å®ƒçš„<strong>æ–¹å—å±æ€§</strong>ã€‚æˆ‘éœ€è¦åœ¨<code>/src/main/java/xxx/farmersdelight/common/block/</code>ä¸‹å†™ç‚¹ä»€ä¹ˆã€‚</li>
<li>æ·»åŠ tooltipã€‚æˆ‘éœ€è¦åœ¨<code>/src/main/java/xxx/farmersdelight/client/</code>ä¸‹å†™ç‚¹ä»€ä¹ˆã€‚</li>
<li>&hellip;</li>
</ol>
<p>æ‰€ä»¥ï¼Œæˆ‘ï¼ˆå¼€å‘è€…ï¼‰å†™äº†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B                   â”Œâ”€ â˜• CookingPotRecipeBuilder.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B                â”Œâ”€ ğŸ“ builder
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”Œâ”€ ğŸ“ data
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚     â”Œâ”€ â˜• CookingPotRecipeBookTab.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”Œâ”€ ğŸ“ recipebook
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚  â”Œâ”€ â˜• CookingPotRecipeBookComponent.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚  â”œâ”€ â˜• CookingPotTooltip.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”œâ”€ â˜• CookingPotScreen.java
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">16384</span> B             â”‚  â”œâ”€ ğŸ“ gui
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">20480</span> B             â”œâ”€ ğŸ“ client
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚        â”Œâ”€ â˜• CookingPotEmiRecipeHandler.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚     â”Œâ”€ ğŸ“ handler
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚     â”‚  â”Œâ”€ â˜• CookingPotEmiRecipe.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚     â”œâ”€ ğŸ“ recipe
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">12288</span> B             â”‚  â”Œâ”€ ğŸ“ emi
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚     â”Œâ”€ â˜• CookingPotDisplay.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚  â”Œâ”€ ğŸ“ display
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚  â”Œâ”€ â˜• CookingPotCategory.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”œâ”€ ğŸ“ categories
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">12288</span> B             â”‚  â”œâ”€ ğŸ“ rei
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚  â”Œâ”€ â˜• CTCookingPotRecipeBookTab.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚  â”Œâ”€ â˜• CookingPotRecipeHandler.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”œâ”€ ğŸ“ handlers
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚  â”Œâ”€ â˜• CookingPotRecipeManager.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”œâ”€ ğŸ“ managers
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">20480</span> B             â”‚  â”œâ”€ ğŸ“ crafttweaker
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">45056</span> B             â”œâ”€ ğŸ“ integration
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚     â”Œâ”€ â˜• CookingPotItem.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”Œâ”€ ğŸ“ item
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”Œâ”€ â˜• CookingPotRecipe.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”œâ”€ ğŸ“ crafting
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">0</span> B             â”‚  â”‚     â”Œâ”€ â˜• CookingPotSupport.java
</span></span><span style="display:flex;"><span>       -             â”‚  â”‚  â”Œâ”€ ğŸ“ state
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">12288</span> B             â”‚  â”‚  â”œâ”€ â˜• CookingPotBlock.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚     â”Œâ”€ â˜• CookingPotItemHandler.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚  â”Œâ”€ ğŸ“ inventory
</span></span><span style="display:flex;"><span>     <span style="color:#ae81ff">0</span> B             â”‚  â”‚  â”‚  â”‚  â”Œâ”€ â˜• CookingPotMealSlot.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">4096</span> B             â”‚  â”‚  â”‚  â”‚  â”œâ”€ â˜• CookingPotResultSlot.java
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">8192</span> B             â”‚  â”‚  â”‚  â”‚  â”œâ”€ â˜• CookingPotMenu.java
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">12288</span> B             â”‚  â”‚  â”‚  â”œâ”€ ğŸ“ container
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">24576</span> B             â”‚  â”‚  â”‚  â”œâ”€ â˜• CookingPotBlockEntity.java
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">45056</span> B             â”‚  â”‚  â”œâ”€ ğŸ“ entity
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">57344</span> B             â”‚  â”œâ”€ ğŸ“ block
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">69632</span> B             â”œâ”€ ğŸ“ common
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">143360</span> B          â”Œâ”€ ğŸ“ farmersdelight
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">143360</span> B       â”Œâ”€ ğŸ“ vectorwing
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">143360</span> B    â”Œâ”€ ğŸ“ java
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">143360</span> B â”Œâ”€ ğŸ“ main
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">143360</span> B ğŸ“ src
</span></span></code></pre></div><p>æˆ‘ä»¬å…ˆæš‚æ—¶ä¸å°è¯•å®Œå…¨ç†è§£æ¯ä¸ªæ–‡ä»¶åœ¨å¹²ä»€ä¹ˆï¼Œä½†æ˜¯ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„ç‰¹å¾ï¼Œæ‰€æœ‰çš„è¿™äº›æ–‡ä»¶æ— ä¸€ä¾‹å¤–å­˜æ”¾åœ¨<code>src/main/java/vectorwing/farmersdelight/</code>ä¸­ã€‚æ‰€ä»¥ï¼Œå°½ç®¡çœ‹èµ·æ¥æ–‡ä»¶å¾ˆå¤æ‚ï¼Œä½ åªéœ€è¦çŸ¥é“ä¸€ç‚¹ï¼šæ¯ä¸€ä¸ªjavaæ–‡ä»¶çš„åŠŸèƒ½å°±æ˜¯åšå¥½ä¸€ä»¶äº‹ï¼Œæœ‰çš„è´Ÿè´£å¤„ç†ç‰©å“é€»è¾‘ï¼Œæœ‰çš„è´Ÿè´£å¤„ç†æ–¹å—é€»è¾‘ï¼Œæœ‰çš„è´Ÿè´£å¤„ç†ç‰©å“æ§½é€»è¾‘ï¼Œç­‰ç­‰ã€‚</p>
<p>æ‰€è°“çš„æ–‡ä»¶ç›®å½•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¯¹äºjavaæ¨¡å—æŒ‰ç…§åŠŸèƒ½è¿›è¡Œåˆ†ç±»ã€‚è¿™æ ·çœ‹æ¥ï¼Œä¸€ä¸ªjavaæ¨¡ç»„çš„ç»“æ„å°±ä¸€ç›®äº†ç„¶äº†ã€‚ç¨‹åºå‘˜åªéœ€è¦äº‹å…ˆæ€è€ƒå¥½è¦å®ç°çš„ä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Œæœ‰å“ªäº›åŠŸèƒ½ï¼Œå¦‚ä½•åˆ†ç±»è¿™äº›åŠŸèƒ½ï¼Œä¸€ä¸ªæ¨¡ç»„çš„æ–‡ä»¶ç»“æ„å°±å»ºç«‹èµ·æ¥äº†ã€‚</p>
<p>å›åˆ°<code>CookingPotItem.java</code>ï¼Œå®Œæ•´ç‰ˆå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> vectorwing.farmersdelight.common.item;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.core.component.DataComponents;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.nbt.CompoundTag;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.util.Mth;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.world.inventory.tooltip.TooltipComponent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.world.item.BlockItem;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.world.item.ItemStack;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.world.item.component.CustomData;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> net.minecraft.world.level.block.Block;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> vectorwing.farmersdelight.client.gui.CookingPotTooltip;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> vectorwing.farmersdelight.common.block.entity.CookingPotBlockEntity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Optional;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CookingPotItem</span> <span style="color:#66d9ef">extends</span> BlockItem
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> BAR_COLOR <span style="color:#f92672">=</span> Mth.<span style="color:#a6e22e">color</span>(0.<span style="color:#a6e22e">4F</span>, 0.<span style="color:#a6e22e">4F</span>, 1.<span style="color:#a6e22e">0F</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">CookingPotItem</span>(Block block, Properties properties) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">super</span>(block, properties);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isBarVisible</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> getServingCount(stack) <span style="color:#f92672">&gt;</span> 0;
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getBarWidth</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> Math.<span style="color:#a6e22e">min</span>(1 <span style="color:#f92672">+</span> 12 <span style="color:#f92672">*</span> getServingCount(stack) <span style="color:#f92672">/</span> 64, 13);
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getBarColor</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> BAR_COLOR;
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">public</span> Optional<span style="color:#f92672">&lt;</span>TooltipComponent<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">getTooltipImage</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  ItemStack mealStack <span style="color:#f92672">=</span> CookingPotBlockEntity.<span style="color:#a6e22e">getMealFromItem</span>(stack);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> Optional.<span style="color:#a6e22e">of</span>(<span style="color:#66d9ef">new</span> CookingPotTooltip.<span style="color:#a6e22e">CookingPotTooltipComponent</span>(mealStack));
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getServingCount</span>(ItemStack stack) {
</span></span><span style="display:flex;"><span>  ItemStack mealStack <span style="color:#f92672">=</span> CookingPotBlockEntity.<span style="color:#a6e22e">getMealFromItem</span>(stack);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> mealStack.<span style="color:#a6e22e">getCount</span>();
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="q4ä¸ºä»€ä¹ˆä¸è®²importéƒ¨åˆ†">Q4ï¼šä¸ºä»€ä¹ˆä¸è®²importéƒ¨åˆ†ï¼Ÿ<a href="#q4%e4%b8%ba%e4%bb%80%e4%b9%88%e4%b8%8d%e8%ae%b2import%e9%83%a8%e5%88%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>importæ˜¯ideçš„äº‹æƒ…ï¼Œç¨‹åºå‘˜å¾ˆéš¾ä¹Ÿæ²¡å¿…è¦è‡ªå·±å»å†™importã€‚</p>
<h2 id="q5åé¢ä¸¤ä¸ªæ²¡è®²çš„æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„">Q5ï¼šåé¢ä¸¤ä¸ªæ²¡è®²çš„æ–¹æ³•æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ<a href="#q5%e5%90%8e%e9%9d%a2%e4%b8%a4%e4%b8%aa%e6%b2%a1%e8%ae%b2%e7%9a%84%e6%96%b9%e6%b3%95%e6%98%af%e5%81%9a%e4%bb%80%e4%b9%88%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>åˆ†åˆ«æ˜¯ç”¨æ¥å¤„ç†tooltipä¿¡æ¯å’Œå†…éƒ¨ç‰©å“ä¿¡æ¯ã€‚å› ä¸ºä¼šç‰µæ‰¯åˆ°å…¶ä»–javaæ¨¡å—ï¼Œæ‰€ä»¥æš‚æ—¶ä¸è®¨è®ºã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>D2Lè‡ªå­¦æ—¥å¿—01ï¼špreliminaries</title>
			<link>http://localhost:1313/zh-cn/posts/d2l%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701preliminaries/</link>
			<pubDate>Tue, 30 Dec 2025 18:14:36 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/d2l%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%9701preliminaries/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h1 id="æœºå™¨å­¦ä¹ åŸºç¡€çŸ¥è¯†">æœºå™¨å­¦ä¹ åŸºç¡€çŸ¥è¯†<a href="#%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<ul>
<li>å¤šç»´æ•°ç»„</li>
<li>pandasï¼ˆæ•°æ®å¤„ç†ï¼‰</li>
<li>linear-algebraï¼ˆçº¿æ€§ä»£æ•°ï¼‰</li>
<li>calculusï¼ˆå¾®ç§¯åˆ†ï¼‰</li>
<li>autogradï¼ˆè‡ªåŠ¨å¾®åˆ†ï¼‰</li>
<li>probabilityï¼ˆæ¦‚ç‡ï¼‰</li>
</ul>
<hr>
<h2 id="å¤šç»´æ•°ç»„åŸºæœ¬çŸ¥è¯†">å¤šç»´æ•°ç»„åŸºæœ¬çŸ¥è¯†<a href="#%e5%a4%9a%e7%bb%b4%e6%95%b0%e7%bb%84%e5%9f%ba%e6%9c%ac%e7%9f%a5%e8%af%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">12</span>) <span style="color:#75715e"># tensor([0,1,2,3,4,5,6,7,8,9,10,11])</span>
</span></span></code></pre></div><p><code>torch.arange(x,y,z)</code>çš„è¯­æ³•å’ŒpythonåŸç”Ÿçš„<code>range()</code>è¯­æ³•ä¸€è‡´ï¼Œå·¦é—­å³å¼€ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ­¥é•¿ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x<span style="color:#f92672">.</span>shape
</span></span></code></pre></div><p>ä¸€ä¸ªå¼ é‡çš„å½¢çŠ¶ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªä¸€ä¸ª<code>torch.Size</code>å¯¹è±¡ã€‚ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ä¸ªåˆ—è¡¨ï¼Œç›´æ¥é€šè¿‡æ–¹æ‹¬å·è®¿é—®ç»´åº¦ç´¢å¼•å€¼å¯ä»¥å¾—åˆ°è¯¥å¼ é‡çš„æŸä¸ªç»´åº¦çš„å¤§å°ã€‚</p>
<p>å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">24</span>)<span style="color:#f92672">.</span>reshape([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>shape) <span style="color:#75715e"># torch.Size([2,3,4])</span>
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]) <span style="color:#75715e"># 3</span>
</span></span></code></pre></div><p><code>torch.reshape([x,y,z,...])</code>å¯ä»¥ä¿®æ”¹ä¸€ä¸ªå¼ é‡çš„å½¢çŠ¶ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å…ˆæŠŠè¿™ä¸ªå¼ é‡æ‹‰æˆä¸€ç»´ï¼Œå†ä¾æ¬¡æŒ‰ç…§å¯¹åº”ç»´åº¦çš„å¤§å°å¯¹ä¸€ç»´å¼ é‡è¿›è¡Œå‡åˆ†ã€‚</p>
<p>æ¯”å¦‚ï¼šä¸€ä¸ª<code>x = torch.arange(24)</code>ï¼Œæˆ‘ä»¬å¯¹å®ƒè¿›è¡Œ<code>.reshape([2,3,4])</code>æ“ä½œï¼Œä½ å¯ä»¥çœ‹åšï¼šä¸€ä¸ª<code>arange(24)</code>å…ˆè¿›è¡Œshape[0]å¤„æ•°å­—å‡åˆ†ï¼Œå˜æˆå‰åäºŒä¸ªå’ŒååäºŒä¸ªï¼Œç„¶åå¯¹ä¸¤ä¸ª12é•¿åº¦çš„å­å¼ é‡å†æŒ‰ç…§shape[1]å¤„æ•°å­—è¿›è¡Œå‡åˆ†ï¼Œåˆ†åˆ«å˜ä¸ºä¸‰ä¸ªé•¿åº¦4çš„å­å¼ é‡ï¼Œæœ€åå¯¹æ¯ä¸ªé•¿åº¦4çš„å­å¼ é‡å†æ¬¡å‡åˆ†ï¼Œå¾—åˆ°é•¿åº¦ä¸º1çš„å­å¼ é‡ã€‚æ¯ä¸€æ¬¡å‡åˆ†éƒ½ä»£è¡¨è¿›å…¥ä¸‹ä¸€ä¸ªç»´åº¦ã€‚</p>
<p><code>x.numel()</code>è¿”å›xå¼ é‡çš„æ€»å…ƒç´ ä¸ªæ•°ã€‚</p>
<p><code>torch.zeros((2,3,4))</code>ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ä¸º<code>torch.Size([2,3,4])</code>çš„æ‰€æœ‰å…ƒç´ ä¸º0çš„å¼ é‡ã€‚</p>
<p><code>torch.ones((2,3,4))</code>ç”Ÿæˆä¸€ä¸ªå½¢çŠ¶ä¸º<code>torch.Size([2,3,4])</code>çš„æ‰€æœ‰å…ƒç´ ä¸º1çš„å¼ é‡ã€‚</p>
<hr>
<h3 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦<a href="#%e8%bf%90%e7%ae%97%e7%ac%a6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å¸¸è§çš„æ ‡å‡†è¿ç®—ç¬¦ï¼ˆ+ï¼Œ-ï¼Œ*ï¼Œ\ï¼Œ**ï¼‰éƒ½ä¼šè¢«å‡çº§ä¸ºæŒ‰å…ƒç´ è®¡ç®—ã€‚</p>
<p><code>torch.exp(x)</code>å¾—åˆ°ä¸€ä¸ªå½¢çŠ¶å’Œxä¸€è‡´ï¼Œä½†æ˜¯å¯¹åº”ä½ç½®å…ƒç´ ä¸ºexp(x)çš„å¼ é‡ã€‚</p>
<p><code>torch.cat((X, Y), dim = 1)</code>å°†ä¸¤ä¸ªå¼ é‡æ²¿1ç»´åº¦å¯¹æ¥èµ·æ¥ï¼Œå‰ææ˜¯ä¸¤è€…å…¶ä»–ç»´åº¦å½¢çŠ¶ä¸€è‡´ã€‚</p>
<p>å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>X <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">12</span>, dtype<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>float32)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>Y <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor([[<span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>]])
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>cat((X, Y), dim<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), torch<span style="color:#f92672">.</span>cat((X, Y), dim<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><p>ç»“æœï¼š</p>
<pre tabindex="0"><code>(tensor([[ 0.,  1.,  2.,  3.],
         [ 4.,  5.,  6.,  7.],
         [ 8.,  9., 10., 11.],
         [ 2.,  1.,  4.,  3.],
         [ 1.,  2.,  3.,  4.],
         [ 4.,  3.,  2.,  1.]]),
 tensor([[ 0.,  1.,  2.,  3.,  2.,  1.,  4.,  3.],
         [ 4.,  5.,  6.,  7.,  1.,  2.,  3.,  4.],
         [ 8.,  9., 10., 11.,  4.,  3.,  2.,  1.]]))
</code></pre><p><code>X == Y</code>å¾—åˆ°ä¸€ä¸ªå¼ é‡ï¼Œå…ƒç´ ä¸ºå¸ƒå°”å€¼ï¼Œè‹¥Xå’ŒYå¯¹åº”ä½ç½®ç›¸ç­‰ï¼Œåˆ™å¯¹åº”ä½ç½®çš„ç»“æœä¸ºTrueï¼Œå¦åˆ™ä¸ºFalseã€‚</p>
<p><code>X.sum()</code>å¾—åˆ°ä¸€ä¸ªå•å…ƒç´ å¼ é‡ï¼Œæ•°å€¼ä¸ºXæ‰€æœ‰å…ƒç´ çš„æ€»å’Œï¼Œå¦‚æœæƒ³ç›´æ¥å¾—åˆ°è¿™ä¸ªå€¼ï¼Œåº”è¯¥å†™<code>X.sum().item()</code>ã€‚</p>
<hr>
<h3 id="å¹¿æ’­æœºåˆ¶">å¹¿æ’­æœºåˆ¶<a href="#%e5%b9%bf%e6%92%ad%e6%9c%ba%e5%88%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å½“å°è¯•å¯¹ä¸¤ä¸ªå½¢çŠ¶å¹¶ä¸åŒ¹é…çš„å¼ é‡ç›¸äº’è®¡ç®—æ—¶ï¼Œè‹¥ä¸åŒ¹é…çš„ç»´åº¦ä¸­æŸä¸ªå¼ é‡çš„é•¿åº¦ä¸º1ï¼Œtorchå°±ä¼šè‡ªåŠ¨åœ¨è¿™ä¸ªç»´åº¦ä¸Šé€šè¿‡å¤åˆ¶çš„æ–¹å¼ä½¿ä¸¤ä¸ªå¼ é‡å¼ºè¡ŒåŒ¹é…æ•°æ®ã€‚</p>
<p>å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>a, b
</span></span></code></pre></div><p>ç»“æœä¸ºï¼š</p>
<pre tabindex="0"><code>(tensor([[0],
         [1],
         [2]]),
 tensor([[0, 1]]))
</code></pre><p>ä½†æ˜¯ï¼š</p>
<pre tabindex="0"><code>a + b
</code></pre><p>ç»“æœä¸ºï¼š</p>
<pre tabindex="0"><code>tensor([[0, 1],
        [1, 2],
        [2, 3]])
</code></pre><hr>
<h3 id="åˆ‡ç‰‡">åˆ‡ç‰‡<a href="#%e5%88%87%e7%89%87" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>X[2, 3:5]</code>è¡¨ç¤ºçš„å°±æ˜¯Xå¼ é‡ä¸­0ç»´åº¦åæ ‡2ã€1ç»´åº¦åæ ‡3ï¼Œ4çš„å…ƒç´ ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ç»™å¤šä¸ªå…ƒç´ èµ‹åŒæ ·çš„å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦ç´¢å¼•æ‰€æœ‰å…ƒç´ ï¼Œç„¶åèµ‹å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">12</span>)<span style="color:#f92672">.</span>reshape([<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>x[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>, :] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
</span></span></code></pre></div><p>å¾—åˆ°çš„xï¼š</p>
<pre tabindex="0"><code>tensor([[12., 12., 12., 12.],
        [12., 12., 12., 12.],
        [ 8.,  9., 10., 11.]])
</code></pre><hr>
<h3 id="è½¬æ¢ä¸ºå…¶ä»–å¯¹è±¡">è½¬æ¢ä¸ºå…¶ä»–å¯¹è±¡<a href="#%e8%bd%ac%e6%8d%a2%e4%b8%ba%e5%85%b6%e4%bb%96%e5%af%b9%e8%b1%a1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è½¬æ¢ä¸ºnumpyå¤šç»´æ•°ç»„ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x<span style="color:#f92672">.</span>numpy()
</span></span></code></pre></div><p>è½¬æ¢ä¸ºtorch.Tensorï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>Tensor(x)
</span></span></code></pre></div><hr>
<h2 id="pandas">pandas<a href="#pandas" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>æ•°æ®é¢„å¤„ç†ã€‚</p>
<p>å†™å…¥æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>makedirs(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;..&#39;</span>, <span style="color:#e6db74">&#39;data&#39;</span>), exist_ok<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>data_file <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;..&#39;</span>, <span style="color:#e6db74">&#39;data&#39;</span>, <span style="color:#e6db74">&#39;house_tiny.csv&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(data_file, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;NumRooms,Alley,Price</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  <span style="color:#75715e"># åˆ—å</span>
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;NA,Pave,127500</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  <span style="color:#75715e"># æ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®æ ·æœ¬</span>
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;2,NA,106000</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;4,NA,178100</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;NA,NA,140000</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><p>è¯»å–æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(data_file)
</span></span><span style="display:flex;"><span>print(data)
</span></span></code></pre></div><hr>
<h3 id="å¤„ç†ç¼ºå¤±å€¼">å¤„ç†ç¼ºå¤±å€¼<a href="#%e5%a4%84%e7%90%86%e7%bc%ba%e5%a4%b1%e5%80%bc" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å°†nanå€¼å¡«è¡¥ä¸ºå¹³å‡å€¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>inputs, outputs <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>iloc[:, <span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>], data<span style="color:#f92672">.</span>iloc[:, <span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>inputs <span style="color:#f92672">=</span> inputs<span style="color:#f92672">.</span>fillna(inputs<span style="color:#f92672">.</span>mean())
</span></span><span style="display:flex;"><span>print(inputs)
</span></span></code></pre></div><hr>
<h3 id="pandaséƒ¨åˆ†ç»ƒä¹ ">pandaséƒ¨åˆ†ç»ƒä¹ <a href="#pandas%e9%83%a8%e5%88%86%e7%bb%83%e4%b9%a0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">generate_row</span>():
</span></span><span style="display:flex;"><span>    row_data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>        added_data <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>random()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> added_data <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0.2</span>:
</span></span><span style="display:flex;"><span>            added_data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;NA&#34;</span>
</span></span><span style="display:flex;"><span>        row_data <span style="color:#f92672">+=</span> str(added_data)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">!=</span> <span style="color:#ae81ff">4</span>:
</span></span><span style="display:flex;"><span>            row_data <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;,&#39;</span>
</span></span><span style="display:flex;"><span>    row_data <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> row_data
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>os<span style="color:#f92672">.</span>makedirs(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;..&#39;</span>, <span style="color:#e6db74">&#39;Moonhalf_data&#39;</span>), exist_ok <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>mh_file <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;..&#39;</span>, <span style="color:#e6db74">&#39;Moonhalf_data&#39;</span>, <span style="color:#e6db74">&#39;mh_data.csv&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(mh_file, <span style="color:#e6db74">&#39;w&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;NumA,NumB,NumC,NumD,NumE</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  <span style="color:#75715e"># åˆ—å</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">50</span>):
</span></span><span style="display:flex;"><span>        f<span style="color:#f92672">.</span>write(generate_row())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(mh_file)
</span></span><span style="display:flex;"><span>print(data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max_na <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>isna()<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>max()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># print(target_column)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>refined_data <span style="color:#f92672">=</span> data<span style="color:#f92672">.</span>loc[:, data<span style="color:#f92672">.</span>isna()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">&lt;</span> max_na]
</span></span><span style="display:flex;"><span>print(refined_data)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>refined_data <span style="color:#f92672">=</span> refined_data<span style="color:#f92672">.</span>fillna(refined_data<span style="color:#f92672">.</span>mean())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>refined_tensor <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor(refined_data<span style="color:#f92672">.</span>to_numpy(dtype <span style="color:#f92672">=</span> float))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(refined_tensor)
</span></span></code></pre></div><p>è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ï¼šç”Ÿæˆä¸€ä¸ª50 * 5çš„éšæœºæ•°æ•°æ®é›†ï¼Œåˆ é™¤ç¼ºå¤±å€¼æœ€å¤šçš„åˆ—ï¼Œå¹¶å°†é¢„å¤„ç†åçš„æ•°æ®é›†è½¬æ¢ä¸ºå¼ é‡æ ¼å¼ã€‚</p>
<hr>
<h2 id="çº¿æ€§ä»£æ•°">çº¿æ€§ä»£æ•°<a href="#%e7%ba%bf%e6%80%a7%e4%bb%a3%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p><code>X.T</code>è½¬ç½®ã€‚</p>
<p><code>X.clone()</code>ä¸€ä¸ªå’ŒXä¸€æ¨¡ä¸€æ ·çš„å¼ é‡ï¼Œä½†æ˜¯é‡æ–°åˆ†é…å†…å­˜ã€‚</p>
<p><code>A.sum(axis = 1)</code>è®©Aæ²¿ç€1ç»´åæ ‡è½´æ±‚å’Œï¼Œå¾—åˆ°n-1ç»´å¼ é‡ã€‚ï¼ˆæƒ³è±¡è¿™ä¸ªå¼ é‡æ²¿ç€1ç»´å‹æ‰ï¼Œé‡å çš„åœ°æ–¹å°±æ±‚å’Œï¼‰</p>
<p>æ¯”å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>test_sum <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">24</span>)<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>print(test_sum)
</span></span><span style="display:flex;"><span>print(test_sum<span style="color:#f92672">.</span>sum(axis <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>print(test_sum<span style="color:#f92672">.</span>sum(axis <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>print(test_sum<span style="color:#f92672">.</span>sum(axis <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>print(test_sum<span style="color:#f92672">.</span>sum(axis <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>]))
</span></span></code></pre></div><p>ç»“æœï¼š</p>
<pre tabindex="0"><code>tensor([[[ 0,  1,  2,  3],
         [ 4,  5,  6,  7],
         [ 8,  9, 10, 11]],

        [[12, 13, 14, 15],
         [16, 17, 18, 19],
         [20, 21, 22, 23]]])
tensor([[12, 14, 16, 18],
        [20, 22, 24, 26],
        [28, 30, 32, 34]])
tensor([[12, 15, 18, 21],
        [48, 51, 54, 57]])
tensor([[ 6, 22, 38],
        [54, 70, 86]])
tensor([60, 66, 72, 78])
</code></pre><p><code>A.mean(axis = 1)</code>æ²¿ç€1ç»´æ±‚å¹³å‡å€¼ï¼Œè§„åˆ™ç±»ä¼¼sumã€‚</p>
<p>ä¸é™ç»´æ±‚å’Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum_A <span style="color:#f92672">=</span> A<span style="color:#f92672">.</span>sum(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, keepdims<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>sum_A
</span></span></code></pre></div><hr>
<h3 id="ç‚¹ç§¯">ç‚¹ç§¯<a href="#%e7%82%b9%e7%a7%af" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>torch.dot(X, Y)</code>å°†Xå’ŒYå¯¹åº”ä½ç½®å…ƒç´ ç›¸ä¹˜æ±‚å’Œï¼Œå¾—åˆ°ä¸€ä¸ªå•å…ƒç´ å¼ é‡ã€‚</p>
<p>æ³¨æ„ï¼šè™½ç„¶å¬èµ·æ¥å¾ˆåºŸè¯ï¼Œä½†æ˜¯dotåªèƒ½é€‚ç”¨äº1Då¼ é‡ã€‚</p>
<hr>
<h3 id="å‘é‡ç§¯">å‘é‡ç§¯<a href="#%e5%90%91%e9%87%8f%e7%a7%af" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>torch.mv(X, Y)</code>å¯¹ä¸¤ä¸ªå‘é‡æ±‚å‰ä¹˜ã€‚</p>
<hr>
<h3 id="çŸ©é˜µä¹˜æ³•">çŸ©é˜µä¹˜æ³•<a href="#%e7%9f%a9%e9%98%b5%e4%b9%98%e6%b3%95" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>torch.mm(X, Y)</code>å¯¹ä¸¤ä¸ªçŸ©é˜µåšçŸ©é˜µä¹˜æ³•ï¼Œæ³¨æ„è¿™ä¸æ˜¯å¯¹åº”ä½ç½®å…ƒç´ ç›¸ä¹˜ï¼ˆHadamardç§¯ï¼‰ã€‚</p>
<hr>
<h3 id="èŒƒæ•°">èŒƒæ•°<a href="#%e8%8c%83%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ç”¨æ¥è¡¡é‡ä¸€ä¸ªå¼ é‡çš„å¤§å°ã€‚</p>
<hr>
<h3 id="l2èŒƒæ•°">L2èŒƒæ•°<a href="#l2%e8%8c%83%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>torch.norm()</code>å¾—åˆ°ä¸€ä¸ªå‘é‡çš„é•¿åº¦ã€‚å¯¹äºä¸€ä¸ªå¤šç»´å¼ é‡æ¥è¯´ï¼Œå®ƒçš„å«ä¹‰æ˜¯æ±‚æ‰€æœ‰å…ƒç´ å¹³æ–¹å’Œå†å¼€æ ¹å·ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>u <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor([<span style="color:#ae81ff">3.0</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4.0</span>])
</span></span><span style="display:flex;"><span>v <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor([<span style="color:#ae81ff">3.0</span>,<span style="color:#ae81ff">4.0</span>,<span style="color:#ae81ff">5.0</span>])
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>norm(u), torch<span style="color:#f92672">.</span>norm(v)
</span></span></code></pre></div><p>ç»“æœï¼š</p>
<pre tabindex="0"><code>(tensor(5.), tensor(7.0711))
</code></pre><hr>
<h3 id="l1èŒƒæ•°">L1èŒƒæ•°<a href="#l1%e8%8c%83%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>torch.abs(x).sum()</code>å¾—åˆ°æ‰€æœ‰åˆ†é‡ç»å¯¹å€¼ä¹‹å’Œã€‚</p>
<hr>
<h2 id="è‡ªåŠ¨æ±‚å¯¼autograd">è‡ªåŠ¨æ±‚å¯¼ï¼ˆautogradï¼‰<a href="#%e8%87%aa%e5%8a%a8%e6%b1%82%e5%af%bcautograd" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor([<span style="color:#ae81ff">2.0</span>], requires_grad<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> x <span style="color:#f92672">**</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>y<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>grad) <span style="color:#75715e"># æ­¤æ—¶æ˜¯ 4.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>z <span style="color:#f92672">=</span> x <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>z<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>grad) <span style="color:#75715e"># æ­¤æ—¶æ˜¯ 4.0 + 3.0 = 7.0 ï¼</span>
</span></span></code></pre></div><hr>
<h3 id="ä¸ºä»€ä¹ˆxgradä¼¼ä¹å¹¶ä¸ç¬¦åˆé€šå¸¸çš„ç¨‹åºè®¾è®¡åŸåˆ™">ä¸ºä»€ä¹ˆx.gradä¼¼ä¹å¹¶ä¸ç¬¦åˆé€šå¸¸çš„ç¨‹åºè®¾è®¡åŸåˆ™ï¼Ÿ<a href="#%e4%b8%ba%e4%bb%80%e4%b9%88xgrad%e4%bc%bc%e4%b9%8e%e5%b9%b6%e4%b8%8d%e7%ac%a6%e5%90%88%e9%80%9a%e5%b8%b8%e7%9a%84%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e5%8e%9f%e5%88%99" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>x.grad</code>åœ¨é€šå¸¸çš„oopç¨‹åºè®¾è®¡ä¸­åº”è¯¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä½†æ˜¯åœ¨torchä¸­<code>x.grad</code>ä¼šéšç€ä½¿ç”¨xçš„è¡¨è¾¾å¼backward()è€Œå‘ç”Ÿæ”¹å˜ï¼Œå¯¹äºä¸€èˆ¬çš„ç¨‹åºè®¾è®¡è€Œè¨€ï¼Œè¿™ç§è®¾è®¡æ˜¯æ¯”è¾ƒåç›´è§‰çš„ã€‚</p>
<p>å¯¹äºä¸åŒçš„è¡¨è¾¾å¼ï¼Œtorchå¯¹äºæ¢¯åº¦çš„æ“ä½œå¹¶éè¦†ç›–è€Œæ˜¯ç´¯åŠ ã€‚ä»ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°x.gradæœ€åçš„å€¼ä¸º7.0ã€‚è‡³äºä¸ºä»€ä¹ˆè¦è®¾è®¡æˆç´¯åŠ çš„æ¨¡å¼ï¼Œä¸€æ–¹é¢æ˜¯æ•°å­¦ä¸Šçš„ä¾¿åˆ©ï¼Œæ ¹æ®å¾®ç§¯åˆ†çš„é“¾å¼æ³•åˆ™ï¼Œå¦‚æœä¸€ä¸ªå˜é‡xåŒæ—¶å½±å“äº†å¤šä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆæ€»æ¢¯åº¦å°±æ˜¯å„ä¸ªåˆ†æ”¯æ¢¯åº¦çš„å’Œï¼›å¦ä¸€æ–¹é¢è¿™æ ·åšæ›´èƒ½èŠ‚çœå†…å­˜ï¼Œå³ä½¿ä½ çš„ç½‘ç»œæå…¶å¤æ‚ï¼Œåˆ†æˆå¥½å‡ è·¯è¾“å‡ºï¼ŒPyTorchä¹Ÿä¸éœ€è¦ä¸ºæ¯ä¸€è·¯éƒ½å¼€è¾Ÿæ–°çš„ç©ºé—´å­˜æ¢¯åº¦ï¼Œåªéœ€è¦åœ¨x.gradè¿™ä¸€ç›¸åŒåœ°å€ä¸ŠåšåŠ æ³•å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">24</span>)<span style="color:#f92672">.</span>reshape([<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">6</span>])<span style="color:#f92672">.</span>to(torch<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>requires_grad_(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> (x <span style="color:#f92672">*</span> x)<span style="color:#f92672">.</span>sum()
</span></span><span style="display:flex;"><span>y<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>grad
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡å¤šç»´æ•°ç»„å¯¹å¤šç»´æ•°ç»„çš„æ±‚å¯¼åœ¨æ•°å­¦ä¸Šæ˜¯æœ‰æ„ä¹‰çš„ï¼Œpytorchä¸­ä»…æ”¯æŒä»æ ‡é‡å¼€å§‹çš„åå‘ä¼ æ’­ã€‚æ¯”å¦‚ï¼Œåœ¨å¦‚ä¸Šçš„ä¾‹å­ä¸­ï¼Œyæ˜¯ä¸€ä¸ªå•å…ƒç´ å¼ é‡ï¼Œæ­¤æ—¶å¯ä»¥å¯¹å®ƒè¿›è¡Œbackward()æ“ä½œï¼Œä½†æ˜¯å¦‚æœ<code>y = 2 * x</code>ï¼Œé‚£ä¹ˆå†å°è¯•<code>y.backward()</code>å°±ä¼šæŠ¥é”™ã€‚</p>
<p>åŸå› åŒæ ·æ˜¯å‡ºäºå¯¹æœºå™¨å­¦ä¹ å®é™…è®¡ç®—å·¥ä½œçš„å¦¥åï¼Œåœ¨å·¥ç¨‹ä¸Šç›´æ¥å¯¹å¤šç»´æ•°ç»„ä¹‹é—´è¿›è¡Œæ±‚å¯¼æ„å‘³ç€æˆ‘ä»¬ä¼šéœ€è¦è®¡ç®—ä¸¤ä¸ªæ•°ç»„å…ƒç´ ä¸ªæ•°ä¹‹ç§¯æ¬¡è®¡ç®—ï¼Œè€Œæœºå™¨å­¦ä¹ ä¸­æˆ‘ä»¬å¤„ç†çš„æ•°ç»„å¤§å°æœ‰æ—¶å¯ä»¥è¾¾åˆ°ç™¾ä¸‡æ•°é‡çº§ã€‚ç›´æ¥æ±‚å¯¼ä¼šå¯¼è‡´æå¤§çš„æ˜¾å­˜æ¶ˆè€—ã€‚</p>
<hr>
<p>æˆ‘ä»¬å°è¯•é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥è§£é‡Špytorchçš„ä¼˜åŒ–é€»è¾‘ï¼š</p>
<p>å‡è®¾ï¼š</p>
<ul>
<li>x = [x1, x2, &hellip;]æ˜¯ä¸€ä¸ª10000ç»´å‘é‡ã€‚</li>
<li>y = [y1, y2, &hellip;]ä¹Ÿæ˜¯ä¸€ä¸ª10000ç»´å‘é‡ï¼Œä½†æ˜¯å®ƒæ˜¯ç”±xè®¡ç®—å‡ºæ¥çš„ã€‚</li>
<li>L = f(y)æ˜¯ä¸€ä¸ª<strong>æ ‡é‡</strong>ã€‚åœ¨æœºå™¨å­¦ä¹ çš„è¯­å¢ƒä¸‹å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªè¯¯å·®å‡½æ•°ã€‚</li>
</ul>
<p>ä½ çš„ç›®æ ‡æ˜¯æ±‚$\frac{\partial L}{\partial x}$ã€‚</p>
<p>å¯¹äºé€šå¸¸çš„æ•°å­¦ä¹¦æ±‚æ³•ï¼Œæˆ‘ä»¬ä¼šéœ€è¦ä½¿ç”¨é“¾å¼æ³•åˆ™ï¼Œè®¡ç®—$\frac{\partial L}{\partial y}$ï¼Œå†è®¡ç®—$\frac{\partial y}{\partial x}$ï¼Œå†å°†ä¸¤è€…ç›¸ä¹˜ã€‚å…¶ä¸­åè€…å°±æ˜¯å‘é‡å¯¹å‘é‡æ±‚å¯¼ï¼Œå³<strong>é›…å¯æ¯”çŸ©é˜µ</strong>ã€‚å½“xã€yä½“ç§¯å·¨å¤§æ—¶ï¼Œç›´æ¥è®¡ç®—è¿™ä¸ªé›…å¯æ¯”çŸ©é˜µçš„è®¡ç®—é‡ä¼šç›´æ¥çˆ†ç‚¸ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè™½ç„¶xå’Œyä½“ç§¯å·¨å¤§ï¼Œä½†æ˜¯çœŸæ­£è¿›è¡Œç›¸äº’è®¡ç®—çš„æ—¶å€™ï¼Œå¯¹äºå®ƒä»¬çš„æ¯ä¸ªåˆ†é‡æ¥è¯´ï¼Œå¦ä¸€ä¸ªå‘é‡ä¸­å’Œå®ƒç›¸å…³çš„åˆ†é‡ä¸ªæ•°æ˜¯ç›¸å½“æœ‰é™çš„ã€‚å°¤å…¶åœ¨æœºå™¨å­¦ä¹ çš„æƒ…æ™¯ä¸‹ï¼Œå‡å¦‚ä½ è®¡ç®—å‡ºäº†é›…å¯æ¯”çŸ©é˜µï¼Œä½ ä¼šå‘ç°å®ƒç›¸å½“çš„ç¨€ç–ï¼Œå…¶ä¸­ç»å¤§å¤šæ•°çš„æ•°å­—éƒ½æ˜¯0ã€‚å› ä¸ºå¤§å¤šæ•°çš„åˆ†é‡ä¹‹é—´éƒ½æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p>
<p>ä½†æ˜¯å¯¹äºä¸€ä¸ªçŸ©é˜µè®¡ç®—æ¥è¯´ï¼Œå®ƒå¿…é¡»è¦å­˜å‚¨æ‰€æœ‰åˆ†é‡å’Œæ‰€æœ‰åˆ†é‡ä¹‹é—´çš„å…³ç³»ï¼Œè¿™æ„å‘³ç€å³ä½¿æ˜¯ä¸¤è€…æ²¡æœ‰ä»»ä½•å…³ç³»ï¼ŒçŸ©é˜µä¹Ÿå¿…é¡»è¦å ç”¨ç©ºé—´æ¥è¡¨ç¤ºè¿™ç§æ²¡æœ‰å…³ç³»çš„å…³ç³»ã€‚</p>
<p>pytorchçš„ä¼˜åŒ–æ€è·¯å…¶å®å¾ˆç®€å•ï¼šæˆ‘ä»¬å¤§å¯ä»¥åªç«™åœ¨åˆ†é‡çš„è§†è§’çœ‹å¾…é—®é¢˜ï¼Œåªå»è®°å½•é‚£äº›å’Œè‡ªå·±æœ‰å…³çš„åˆ†é‡ä»¥åŠè¿‡ç¨‹ä¸­çš„è®¡ç®—æ–¹å¼ï¼Œè€Œå¯¹äºé‚£äº›å’Œè‡ªå·±æ— å…³çš„åˆ†é‡ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸å»è®°å½•ï¼Œä¹Ÿè‡ªç„¶ä¸ä¼šäº§ç”Ÿå…³è”ã€‚</p>
<p>æˆ‘ä»¬æ¥ç”¨ä¸€ä¸ªç›¸å¯¹ç®€å•çš„ä¾‹å­è§£é‡Štorchçš„å·¥ä½œåŸç†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>Tensor([<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>requires_grad_(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y1_mask <span style="color:#f92672">=</span> x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y1 <span style="color:#f92672">=</span> x[y1_mask]<span style="color:#f92672">.</span>squeeze(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y2 <span style="color:#f92672">=</span> (x <span style="color:#f92672">*</span> x)<span style="color:#f92672">.</span>sum()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># print(y1, y2)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>L <span style="color:#f92672">=</span> y1 <span style="color:#f92672">+</span> y2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;L: </span><span style="color:#e6db74">{</span>L<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>L<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>grad)
</span></span></code></pre></div><p>è¿è¡Œå¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>L: 33.0
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">([</span>4., 6., 9.<span style="color:#f92672">])</span>
</span></span></code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œy1æ˜¯xä¸­å¤§äº3çš„å…ƒç´ æ„æˆçš„å•å…ƒç´ å¼ é‡ï¼Œy2æ˜¯xå¯¹è‡ªå·±çš„ç‚¹ç§¯ç»„æˆçš„å•å…ƒç´ å¼ é‡ï¼ŒLåˆ™æ˜¯y1å’Œy2æ±‚å’Œå¾—åˆ°çš„å•å…ƒç´ å¼ é‡ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è®¡ç®—y1æ—¶ï¼ŒtorchåŒæ—¶è®°å½•ä¸‹äº†â€œy1æ˜¯ç”±xé€šè¿‡y1_maskç­›é€‰å‡ºæ¥çš„â€ï¼›è®¡ç®—y2æ—¶ï¼Œtorchä¹ŸåŒæ—¶è®°å½•ä¸‹äº†â€œy2æ˜¯ç”±xå¯¹è‡ªå·±æŒ‰å…ƒç´ æ±‚ä¹˜ç§¯å†æ±‚å’Œå¾—åˆ°çš„â€ã€‚æœ€åï¼Œè®¡ç®—Læ—¶ï¼Œtorchä¼šè®°å½•ä¸‹â€œLæ˜¯ç”±y1åŠ ä¸Šy2å¾—åˆ°çš„â€ã€‚</p>
<p>å½“æˆ‘ä»¬å¯¹Lè¿›è¡Œbackwardæ—¶ï¼Œtorchä¼šå»æŸ¥è¯¢Lçš„è®¡ç®—æ–¹å¼ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å‡è®¾æˆ‘ä»¬éœ€è¦Lå¢åŠ 1ï¼Œtorchä¼šæŠŠè¿™ä¸ª1ä¼ é€’ç»™è®¡ç®—å¾—åˆ°Lçš„y1å’Œy2ï¼Œå› ä¸ºLå¯¹y1å’Œy2æ±‚åå¯¼å¾—åˆ°çš„æ˜¯1ï¼Œæ‰€ä»¥y1å’Œy2è¢«ä¼ é€’å¾—åˆ°1ï¼Œæ„å‘³ç€y1å’Œy2å¯¹äºLçš„è´¡çŒ®éƒ½æ˜¯1ã€‚</p>
<p>æ¥ç€ï¼Œtorchä¼šå»æŸ¥è¯¢y1å’Œy2çš„è®¡ç®—æ–¹å¼ï¼Œy1æ˜¯ç”±xçš„ç¬¬ä¸‰ä¸ªå…ƒç´ ç»„æˆçš„ï¼Œæ‰€ä»¥xçš„ç¬¬ä¸‰ä¸ªå…ƒç´ å¯¹y1çš„è´¡çŒ®æ˜¯1ï¼Œè¿›è€Œå¯¹Lçš„è´¡çŒ®ä¹Ÿæ˜¯1ï¼›y2ç”±xè‡ªä¹˜æ±‚å’Œå¾—åˆ°ï¼Œæ‰€ä»¥xæ¯ä¸ªå…ƒç´ å¯¹y2çš„è´¡çŒ®æ˜¯2 * xï¼Œåœ¨x = [2, 3, 4]æ—¶ï¼Œxä¸­å…ƒç´ å¯¹y2çš„è´¡çŒ®ä¾æ¬¡ä¸º4ã€6ã€8ï¼Œè¿›è€Œå¯¹Lçš„è´¡çŒ®ä¹Ÿæ˜¯4ï¼Œ6ï¼Œ8ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å¯¹xä¸­æ¯ä¸ªå…ƒç´ å¯¹Lçš„å„ç§è´¡çŒ®è¿›è¡Œæ±‚å’Œï¼Œæˆ‘ä»¬å¾—åˆ°xä¸­æ¯ä¸ªå…ƒç´ åœ¨å½“å‰æ•°å€¼ä¸‹å¯¹äºLçš„è´¡çŒ®ä¾æ¬¡ä¸º4ï¼Œ6ï¼Œ9ï¼Œå³ä¸ºæˆ‘ä»¬æœ€åå¾—åˆ°çš„<code>tensor([4.,6.,9.,])</code></p>
<p>éœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œè´¡çŒ®è¿™ä¸ªè¯çš„ä½¿ç”¨å®é™…ä¸Šå¯èƒ½æ•°å­¦å¹¶ä¸å‡†ç¡®ã€‚æˆ‘ä»¬æœ€åå¾—åˆ°çš„ä¸œè¥¿å®é™…ä¸Šæ˜¯Lè¿™ä¸ªæ ‡é‡å¯¹xçš„æ¢¯åº¦ï¼Œå³âˆ‡Lï¼Œå…¶æ„ä¹‰å¯ä»¥ç®€å•ç†è§£ä¸ºLåœ¨éšxå„ä¸ªç»´åº¦æ”¹å˜è€Œæ”¹å˜çš„é€Ÿç‡ã€‚</p>
<hr>
<h3 id="éæ ‡é‡å˜é‡çš„åå‘ä¼ æ’­">éæ ‡é‡å˜é‡çš„åå‘ä¼ æ’­<a href="#%e9%9d%9e%e6%a0%87%e9%87%8f%e5%8f%98%e9%87%8f%e7%9a%84%e5%8f%8d%e5%90%91%e4%bc%a0%e6%92%ad" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ä»æˆ‘ä»¬ä¸Šé¢çš„æ¨å¯¼ä¸­å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªæ ‡é‡ç»“æœè¿›è¡Œåå‘ä¼ æ’­ï¼Œæœ€åå¾—åˆ°çš„å‘é‡æ˜¯xä¸­å¯¹åº”å…ƒç´ å¯¹ç»“æœçš„è´¡çŒ®å€¼ã€‚è€Œç†è®ºä¸Šå‡å¦‚æˆ‘ä»¬èƒ½ç›´æ¥å¯¹ä¸€ä¸ªå‘é‡è¿›è¡Œåå‘ä¼ æ’­ï¼Œæœ€åå¾—åˆ°çš„åº”è¯¥æ˜¯ä¸€ä¸ªé›…å¯æ¯”çŸ©é˜µã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬éœ€è¦çš„äº‹å®ä¸Šæ ¹æœ¬ä¸æ˜¯è¿™ä¸ªçŸ©é˜µï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯æŸå¤±å‘é‡é€šè¿‡è¿™ä¸ªçŸ©é˜µå˜æ¢å¾—åˆ°çš„ç»“æœï¼Œè¿›è€Œæ›´æ–°å‚æ•°ã€‚å¯¹äºæˆ‘ä»¬çš„å®é™…åº”ç”¨ä¸­ï¼Œè¿™ä¸ªçŸ©é˜µæœ¬èº«æ²¡æœ‰ä»»ä½•åº”ç”¨ä»·å€¼ã€‚</p>
<p>ç”¨æ›´åŠ ç²¾è¾Ÿçš„è¯­è¨€æ¥è¯´ï¼š</p>
<blockquote>
<p>Pytorchçš„åå‘ä¼ æ’­æ ¹æœ¬ä¸éœ€è¦è¿”å›ä¸€ä¸ªçŸ©é˜µï¼Œå› ä¸ºå®ƒæœ¬èº«å°±åœ¨æ¨¡æ‹Ÿé›…å¯æ¯”çŸ©é˜µçš„çº¿æ€§ç®—å­åŠŸèƒ½ã€‚</p>
</blockquote>
<p>ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…æ™¯ä¸‹æˆ‘ä»¬ç¡®å®ä¼šéœ€è¦è®¡ç®—éæ ‡é‡å˜é‡çš„åå‘ä¼ æ’­ï¼Œæ¯”å¦‚å¤šä¸ªbatchåŒæ—¶è¿›è¡Œè®­ç»ƒï¼Œä½†æ˜¯å³ä½¿åœ¨è¿™ç§æƒ…æ™¯ï¼Œæˆ‘ä»¬æœ€åéœ€è¦å¾—åˆ°çš„ä¾ç„¶æ˜¯ä¸€ä¸ªå‘é‡ã€‚å®ç°æ–¹å¼æ˜¯è®©æ‰¹é‡ä¸­æ¯ä¸ªæ ·æœ¬å¯¹xæ±‚æ¢¯åº¦ï¼Œæœ€åå†æ±‚å’Œæˆ–è€…æ±‚å¹³å‡ï¼Œæˆ–è€…åŠ æƒå¹³å‡ã€‚æ€»è€Œè¨€ä¹‹ï¼Œåå‘ä¼ æ’­å½’æ ¹ç»“åº•æ˜¯è·å–ä¸€ä¸ªç”¨æ¥æ›´æ–°å‚æ•°çš„å‘é‡ï¼Œè·å–äºŒç»´åŠä»¥ä¸Šçš„å¼ é‡æ²¡æœ‰ä»€ä¹ˆå®é™…æ„ä¹‰ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># å¯¹éæ ‡é‡è°ƒç”¨backwardéœ€è¦ä¼ å…¥ä¸€ä¸ªgradientå‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šå¾®åˆ†å‡½æ•°å…³äºselfçš„æ¢¯åº¦ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æœ¬ä¾‹åªæƒ³æ±‚åå¯¼æ•°çš„å’Œï¼Œæ‰€ä»¥ä¼ é€’ä¸€ä¸ª1çš„æ¢¯åº¦æ˜¯åˆé€‚çš„</span>
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>grad<span style="color:#f92672">.</span>zero_()
</span></span><span style="display:flex;"><span>print(x<span style="color:#f92672">.</span>grad, x)
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> x <span style="color:#f92672">*</span> x
</span></span><span style="display:flex;"><span>print(y)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç­‰ä»·äºy.backward(torch.ones(len(x)))</span>
</span></span><span style="display:flex;"><span>y<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>grad
</span></span></code></pre></div><p>æ‰€è°“çš„gradientå‚æ•°ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªå’Œxä¸€æ ·é•¿åº¦çš„å‘é‡ï¼Œå«ä¹‰æ˜¯<strong>yçš„æ¯ä¸ªåˆ†é‡</strong>å¯¹äºæœ€ç»ˆç»“æœçš„è´¡çŒ®ã€‚åœ¨è¿™é‡Œï¼Œå¦‚æœæˆ‘ä»¬å†™<code>y.sum()</code>ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å°†yçš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ±‚å’Œï¼Œæ‰€ä»¥yçš„æ¯ä¸ªå…ƒç´ å¯¹æœ€ç»ˆç»“æœçš„è´¡çŒ®ä¸º1ï¼›å¦‚æœå†™<code>torch.ones(len(x))</code>æ„æ€å°±æ˜¯yçš„æ¯ä¸ªå‚æ•°å¯¹äºæœ€ç»ˆç»“æœçš„è´¡çŒ®éƒ½æ˜¯1ï¼Œæ‰€ä»¥ä¸¤è€…å…¶å®æ˜¯ç­‰ä»·çš„ã€‚</p>
<hr>
<h3 id="åˆ†ç¦»è®¡ç®—">åˆ†ç¦»è®¡ç®—<a href="#%e5%88%86%e7%a6%bb%e8%ae%a1%e7%ae%97" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æœ‰æ—¶å€™æˆ‘ä»¬åªæƒ³è¦æŠŠä¸€ä¸ª<code>torch.Tensor</code>å½“åšä¸€ä¸ªå¸¸æ•°æ¥è®¡ç®—ï¼Œä½†æ˜¯å¾—åˆ°è¿™ä¸ª<code>torch.Tensor</code>çš„è¿‡ç¨‹ä¸­ç»è¿‡äº†ä¸€äº›è®¡ç®—ï¼Œä½¿å¾—æœ€ååå‘ä¼ æ’­çš„æ—¶å€™å¯èƒ½å½±å“æœ€åçš„ç»“æœã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ä¼šå¸Œæœ›å¾—åˆ°è¿™ä¸ªtensorï¼Œä½†æ˜¯æŠ¹é™¤å®ƒæ‰€æœ‰çš„è®¡ç®—å†å²ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>grad<span style="color:#f92672">.</span>zero_()
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> x <span style="color:#f92672">*</span> x
</span></span><span style="display:flex;"><span>u <span style="color:#f92672">=</span> y<span style="color:#f92672">.</span>detach()
</span></span><span style="display:flex;"><span>print(u)
</span></span><span style="display:flex;"><span>z <span style="color:#f92672">=</span> u <span style="color:#f92672">*</span> x
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>z<span style="color:#f92672">.</span>sum()<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>grad <span style="color:#f92672">==</span> u
</span></span></code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œuè¢«èµ‹å€¼ä¸º<code>y.detach()</code>ï¼Œå«ä¹‰æ˜¯ä½¿uçš„å¼ é‡å†…å®¹å’Œyä¸€æ ·ï¼Œä½†æ˜¯å¤±å»äº†æ‰€æœ‰è®¡ç®—è®°å½•ã€‚è¿™æ ·ï¼Œåç»­çš„åå‘ä¼ é€’è¿‡ç¨‹ä¸­uå¤„å°±ä¸ä¼šå‘åä¼ é€’ã€‚</p>
<p>ç»“æœæ˜¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>tensor<span style="color:#f92672">([</span>True, True, True, True<span style="color:#f92672">])</span>
</span></span></code></pre></div><hr>
<h3 id="å¦‚ä½•å®ç°äºŒé˜¶å¯¼">å¦‚ä½•å®ç°äºŒé˜¶å¯¼?<a href="#%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e4%ba%8c%e9%98%b6%e5%af%bc" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>tensor([<span style="color:#ae81ff">2.0</span>], requires_grad<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. å®šä¹‰å‡½æ•°</span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> x <span style="color:#f92672">**</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. è®¡ç®—ä¸€é˜¶å¯¼æ•°</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ grad å‡½æ•°ï¼Œå¹¶å¼€å¯ create_graph=True</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿™ä¼šæŠŠâ€œè®¡ç®—ä¸€é˜¶å¯¼æ•°â€çš„è¿‡ç¨‹ä¹Ÿè®°å½•åœ¨è®¡ç®—å›¾é‡Œ</span>
</span></span><span style="display:flex;"><span>grads <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>autograd<span style="color:#f92672">.</span>grad(y, x, create_graph<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;ä¸€é˜¶å¯¼æ•°åœ¨ x=2 æ—¶: </span><span style="color:#e6db74">{</span>grads<span style="color:#f92672">.</span>item()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 3 * 2^2 = 12.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. å¯¹ä¸€é˜¶å¯¼æ•°å†æ¬¡æ±‚å¯¼</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿™æ¬¡ä¸éœ€è¦å†åˆ›å»ºå›¾äº†ï¼ˆé™¤éä½ è¦ç®—ä¸‰é˜¶å¯¼ï¼‰</span>
</span></span><span style="display:flex;"><span>grads2 <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>autograd<span style="color:#f92672">.</span>grad(grads, x)[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;äºŒé˜¶å¯¼æ•°åœ¨ x=2 æ—¶: </span><span style="color:#e6db74">{</span>grads2<span style="color:#f92672">.</span>item()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 6 * 2 = 12.0</span>
</span></span></code></pre></div><p>æˆ‘ä»¬æ²¡åŠæ³•é€šè¿‡backwardå®ç°äºŒé˜¶å¯¼ï¼ˆæ¯”å¦‚L.backward().backward()ï¼‰ï¼Œå› ä¸ºåå‘ä¼ æ’­çš„è®¡ç®—æœ¬èº«å¹¶ä¸ä¼šè¢«å­˜å‚¨åœ¨è®¡ç®—å›¾ä¸­ï¼Œä½†æ˜¯ä¸ºäº†å®ç°äºŒé˜¶å¯¼ï¼Œæˆ‘ä»¬éœ€è¦ä¸€é˜¶å¯¼çš„è®¡ç®—å›¾ã€‚å› æ­¤åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ä½¿ç”¨<code>torch.autograd.grad()</code>å‡½æ•°ï¼Œå¹¶æ·»åŠ <code>create_graph=True</code>å‚æ•°æ¥ç”ŸæˆåŒ…å«ä¸€é˜¶å¯¼è®¡ç®—å›¾çš„æ¢¯åº¦å‘é‡ã€‚</p>
<hr>
<h3 id="æ§åˆ¶æµ">æ§åˆ¶æµ<a href="#%e6%8e%a7%e5%88%b6%e6%b5%81" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randn(size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,), requires_grad<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> a<span style="color:#f92672">.</span>norm() <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>sum()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> (a <span style="color:#f92672">*</span> a)<span style="color:#f92672">.</span>sum()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>grad)
</span></span></code></pre></div><p>torchæ”¯æŒæ§åˆ¶æµæ¢¯åº¦è®¡ç®—ï¼Œè¿™æ„å‘³ç€å³ä½¿ä¸åŒæƒ…å†µä¸‹è®¡ç®—bçš„æ–¹å¼å¯èƒ½ä¸åŒï¼Œå¯¹bè¿›è¡Œåå‘ä¼ æ’­ä»ç„¶å¯ä»¥å¾—åˆ°å½“å‰è®¡ç®—æ–¹å¼ä¸‹çš„å¯¹åº”æ¢¯åº¦ã€‚</p>
<hr>
<h3 id="ç»˜åˆ¶å‡½æ•°ä¸å¯¼å‡½æ•°å›¾åƒä¸ç›´æ¥è®¡ç®—å¯¼æ•°">ç»˜åˆ¶å‡½æ•°ä¸å¯¼å‡½æ•°å›¾åƒï¼ˆä¸ç›´æ¥è®¡ç®—å¯¼æ•°ï¼‰<a href="#%e7%bb%98%e5%88%b6%e5%87%bd%e6%95%b0%e4%b8%8e%e5%af%bc%e5%87%bd%e6%95%b0%e5%9b%be%e5%83%8f%e4%b8%8d%e7%9b%b4%e6%8e%a5%e8%ae%a1%e7%ae%97%e5%af%bc%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib_inline <span style="color:#f92672">import</span> backend_inline
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> d2l <span style="color:#f92672">import</span> torch <span style="color:#66d9ef">as</span> d2l
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">use_svg_display</span>():  <span style="color:#75715e">#@save</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;ä½¿ç”¨svgæ ¼å¼åœ¨Jupyterä¸­æ˜¾ç¤ºç»˜å›¾&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    backend_inline<span style="color:#f92672">.</span>set_matplotlib_formats(<span style="color:#e6db74">&#39;svg&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">set_figsize</span>(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">3.5</span>, <span style="color:#ae81ff">2.5</span>)):  <span style="color:#75715e">#@save</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;è®¾ç½®matplotlibçš„å›¾è¡¨å¤§å°&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    use_svg_display()
</span></span><span style="display:flex;"><span>    d2l<span style="color:#f92672">.</span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;figure.figsize&#39;</span>] <span style="color:#f92672">=</span> figsize
</span></span><span style="display:flex;"><span><span style="color:#75715e">#@save</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">set_axes</span>(axes, xlabel, ylabel, xlim, ylim, xscale, yscale, legend):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;è®¾ç½®matplotlibçš„è½´&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_xlabel(xlabel)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_ylabel(ylabel)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_xscale(xscale)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_yscale(yscale)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_xlim(xlim)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>set_ylim(ylim)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> legend:
</span></span><span style="display:flex;"><span>        axes<span style="color:#f92672">.</span>legend(legend)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>grid()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#@save</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plot</span>(X, Y<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, xlabel<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, ylabel<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, legend<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, xlim<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,
</span></span><span style="display:flex;"><span>         ylim<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, xscale<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;linear&#39;</span>, yscale<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;linear&#39;</span>,
</span></span><span style="display:flex;"><span>         fmts<span style="color:#f92672">=</span>(<span style="color:#e6db74">&#39;-&#39;</span>, <span style="color:#e6db74">&#39;m--&#39;</span>, <span style="color:#e6db74">&#39;g-.&#39;</span>, <span style="color:#e6db74">&#39;r:&#39;</span>), figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">3.5</span>, <span style="color:#ae81ff">2.5</span>), axes<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;ç»˜åˆ¶æ•°æ®ç‚¹&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> legend <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        legend <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    set_figsize(figsize)
</span></span><span style="display:flex;"><span>    axes <span style="color:#f92672">=</span> axes <span style="color:#66d9ef">if</span> axes <span style="color:#66d9ef">else</span> d2l<span style="color:#f92672">.</span>plt<span style="color:#f92672">.</span>gca()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å¦‚æœXæœ‰ä¸€ä¸ªè½´ï¼Œè¾“å‡ºTrue</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">has_one_axis</span>(X):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> (hasattr(X, <span style="color:#e6db74">&#34;ndim&#34;</span>) <span style="color:#f92672">and</span> X<span style="color:#f92672">.</span>ndim <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">or</span> isinstance(X, list)
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> hasattr(X[<span style="color:#ae81ff">0</span>], <span style="color:#e6db74">&#34;__len__&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> has_one_axis(X):
</span></span><span style="display:flex;"><span>        X <span style="color:#f92672">=</span> [X]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> Y <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        X, Y <span style="color:#f92672">=</span> [[]] <span style="color:#f92672">*</span> len(X), X
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> has_one_axis(Y):
</span></span><span style="display:flex;"><span>        Y <span style="color:#f92672">=</span> [Y]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> len(X) <span style="color:#f92672">!=</span> len(Y):
</span></span><span style="display:flex;"><span>        X <span style="color:#f92672">=</span> X <span style="color:#f92672">*</span> len(Y)
</span></span><span style="display:flex;"><span>    axes<span style="color:#f92672">.</span>cla()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> x, y, fmt <span style="color:#f92672">in</span> zip(X, Y, fmts):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> len(x):
</span></span><span style="display:flex;"><span>            axes<span style="color:#f92672">.</span>plot(x, y, fmt)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            axes<span style="color:#f92672">.</span>plot(y, fmt)
</span></span><span style="display:flex;"><span>    set_axes(axes, xlabel, ylabel, xlim, ylim, xscale, yscale, legend)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> d2l<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> math<span style="color:#f92672">.</span>pi, <span style="color:#ae81ff">0.05</span><span style="color:#f92672">*</span>math<span style="color:#f92672">.</span>pi)
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>requires_grad_(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> d2l<span style="color:#f92672">.</span>sin(x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> f(x)<span style="color:#f92672">.</span>sum()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>y<span style="color:#f92672">.</span>backward()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plot(x<span style="color:#f92672">.</span>detach(), [f(x)<span style="color:#f92672">.</span>detach(), x<span style="color:#f92672">.</span>grad],<span style="color:#e6db74">&#34;x&#34;</span>, <span style="color:#e6db74">&#34;f(x)&#34;</span>)
</span></span></code></pre></div><p>éœ€è¦ä½¿ç”¨d2låº“å’Œjupyter labã€‚</p>
<hr>
<h2 id="æ¦‚ç‡">æ¦‚ç‡<a href="#%e6%a6%82%e7%8e%87" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<h3 id="å¤šé¡¹åˆ†å¸ƒmultinomial-distribution">å¤šé¡¹åˆ†å¸ƒ(multinomial distribution)<a href="#%e5%a4%9a%e9%a1%b9%e5%88%86%e5%b8%83multinomial-distribution" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å°†æ¦‚ç‡åˆ†é…ç»™ä¸€äº›ç¦»æ•£é€‰é¡¹çš„åˆ†å¸ƒç§°ä¸ºå¤šé¡¹åˆ†å¸ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> torch.distributions <span style="color:#f92672">import</span> multinomial
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fair_probs <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>ones([<span style="color:#ae81ff">6</span>]) <span style="color:#f92672">/</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(multinomial<span style="color:#f92672">.</span>Multinomial(<span style="color:#ae81ff">1</span>, fair_probs)<span style="color:#f92672">.</span>sample())
</span></span><span style="display:flex;"><span>print(multinomial<span style="color:#f92672">.</span>Multinomial(<span style="color:#ae81ff">2</span>, fair_probs)<span style="color:#f92672">.</span>sample())
</span></span><span style="display:flex;"><span>print(multinomial<span style="color:#f92672">.</span>Multinomial(<span style="color:#ae81ff">10</span>, fair_probs)<span style="color:#f92672">.</span>sample())
</span></span></code></pre></div><p><code>multinomial.Multinomial()</code>ç”¨æ¥ç”Ÿæˆä¸€ä¸ªé‡‡æ ·å™¨ï¼Œè¿™ä¸ªé‡‡æ ·å™¨æ¯æ¬¡é‡‡æ ·ä¼šæ ¹æ®<code>fair_probs</code>ä¹Ÿå°±æ˜¯æ¦‚ç‡å‘é‡å¯¹åº”çš„æ¦‚ç‡æ¥æŠ½å–ä¸€ä¸ªä½ç½®ç´¢å¼•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ—¶ä¸€æ¬¡é‡‡æ ·çš„æŠ½å–æ¬¡æ•°ã€‚æœ€åå¾—åˆ°çš„å‘é‡ä¸­å¯¹åº”ä½ç½®çš„æ•°å­—å³è¿™ä¸ªä½ç½®è¢«æŠ½ä¸­çš„æ¬¡æ•°ã€‚</p>
<p>ä¸Šè¿°ä»£ç çš„æŸæ¬¡ç”Ÿæˆç»“æœä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tensor([<span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>])
</span></span><span style="display:flex;"><span>tensor([<span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">2.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">0.</span>])
</span></span><span style="display:flex;"><span>tensor([<span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">2.</span>, <span style="color:#ae81ff">1.</span>, <span style="color:#ae81ff">5.</span>])
</span></span></code></pre></div><hr>
<h3 id="è”åˆæ¦‚ç‡">è”åˆæ¦‚ç‡<a href="#%e8%81%94%e5%90%88%e6%a6%82%e7%8e%87" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>\(P(A=a,B=b)\)ï¼ŒAå’ŒBåŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚</p>
<h3 id="æ¡ä»¶æ¦‚ç‡">æ¡ä»¶æ¦‚ç‡<a href="#%e6%9d%a1%e4%bb%b6%e6%a6%82%e7%8e%87" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>\(0 \leq \frac{P(A=a, B=b)}{P(A=a)} \leq 1\) ï¼ŒAå‘ç”Ÿçš„å‰æä¸‹Aã€BåŒæ—¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚</p>
<h3 id="è´å¶æ–¯å®šç†">è´å¶æ–¯å®šç†<a href="#%e8%b4%9d%e5%8f%b6%e6%96%af%e5%ae%9a%e7%90%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
$$P(A \mid B) = \frac{P(B \mid A) P(A)}{P(B)}.$$<h3 id="è¾¹é™…åŒ–">è¾¹é™…åŒ–<a href="#%e8%be%b9%e9%99%85%e5%8c%96" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
$$P(B) = \sum_{A} P(A, B),$$]]></content>
		</item>
		
		<item>
			<title>å†ç”¨è…¾è®¯äº‘æˆ‘å°±æ˜¯ğŸ¶</title>
			<link>http://localhost:1313/zh-cn/posts/%E5%86%8D%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E6%88%91%E5%B0%B1%E6%98%AF%E7%8B%97/</link>
			<pubDate>Thu, 25 Dec 2025 10:27:53 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/%E5%86%8D%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E6%88%91%E5%B0%B1%E6%98%AF%E7%8B%97/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>ä»Šå¤©çªç„¶å‘ç°<code>whois.com</code>é‡Œå¯ä»¥ç›´æ¥é€šè¿‡æˆ‘çš„åŸŸåæŸ¥åˆ°æˆ‘çš„çœŸå®å§“åï¼Œèµ¶ç´§è·‘åˆ°è…¾è®¯äº‘æƒ³æ¥å¼€å¯éšç§ä¿æŠ¤ï¼Œç»“æœå‘ç°è¦.cnåŸŸåè¦èŠ±é¢å¤–39å¤§æ´‹ã€‚è¿«äºé—®é¢˜å¤ªä¸¥é‡ï¼ˆè™½ç„¶è£¸å¥”äº†è¿™ä¹ˆé•¿æ—¶é—´ä¹Ÿä¸å·®è¿™å‡ å¤©äº†ï¼‰ç›´æ¥å°±ä»˜é’±äº†ï¼Œå‘ç°ä¹Ÿæ²¡åŠæ³•é€€ã€‚</p>
<p>æ˜å¹´çœŸçš„å¾—æ¢åŸŸå/åŸŸåå•†äº†ï¼Œå†ç”¨è…¾è®¯äº‘æˆ‘å°±æ˜¯ç‹—ã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>å·¥å…·ä¸å›¾é‰´03ï¼šè™šæ‹Ÿç¯å¢ƒ&amp;conda</title>
			<link>http://localhost:1313/zh-cn/posts/venvminiconda/</link>
			<pubDate>Tue, 16 Dec 2025 23:23:35 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/venvminiconda/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯è™šæ‹Ÿç¯å¢ƒ">ä»€ä¹ˆæ˜¯è™šæ‹Ÿç¯å¢ƒ?<a href="#%e4%bb%80%e4%b9%88%e6%98%af%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>å¤šæ•°è¯­å¢ƒä¸‹ï¼Œè™šæ‹Ÿç¯å¢ƒæ˜¯ä¸€ä¸ªç‹¬å±äºpythonçš„æœ¯è¯­ã€‚pythonå› å…¶å¯¹ç¬¬ä¸‰æ–¹åº“çš„é«˜åº¦ä¾èµ–æ€§ä»¥åŠpythonè‡ªèº«ç‰ˆæœ¬æœ¬æ¥å°±æ¯”è¾ƒæ··ä¹±ï¼Œå¯¼è‡´ç»å¸¸å‡ºç°pythonä¸å„è·¯ä¾èµ–å’Œç¬¬ä¸‰æ–¹åº“ä¹±æˆä¸€é”…ç²¥çš„æƒ…å†µã€‚</p>
<p>æƒ³è¦è§£å†³è¿™ç§å›°å¢ƒå€’ä¹Ÿå¹¶ä¸å›°éš¾ã€‚æˆ‘ä»¬ä¸å¦¨è®¾æƒ³è¿™æ ·çš„åœºæ™¯ï¼šå‡å¦‚ä½ å…»äº†ä¸€åªçŒ«å’Œä¸€æ¡ç‹—ï¼Œä½†æ˜¯çŒ«ç‹—æ”¾åœ¨ä¸€èµ·å°±ä¼šå¼€å§‹æ‰“æ¶ï¼Œä½ åˆæƒ³åŒæ—¶å…»è¿™ä¸¤ä¸ªåŠ¨ç‰©ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œä½ åªéœ€è¦å°†çŒ«å’Œç‹—éš”å¼€æ¥å…»å³å¯ï¼Œæ¯”å¦‚ç»™å®ƒä»¬å„è‡ªå®‰æ’ä¸€ä¸ªæˆ¿é—´ã€‚</p>
<p>è¿™æ ·çš„ä¸€ä¸ªæˆ¿é—´ï¼Œåœ¨pythonè¯­å¢ƒä¸‹å°±æ˜¯ä¸€ä¸ª<strong>è™šæ‹Ÿç¯å¢ƒ</strong>ã€‚é€šå¸¸æ¥è¯´ï¼Œä½ æœ€å¥½è®©ç»™æ¯ä¸ªé¡¹ç›®éƒ½å•ç‹¬åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œè¿™æ ·å®ƒä»¬ä¹‹é—´å°±å¯ä»¥äº’ä¸å¹²æ‰°ï¼Œå¯ä»¥ç›¸äº’é‡å¤ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹åˆ é™¤ã€‚å°±åƒä¸€ä¸ªåŠ¨ç‰©å›­ï¼Œå‡å¦‚æŠŠæ‰€æœ‰åŠ¨ç‰©å…³åœ¨ä¸€èµ·å°±ä¼šå¼€å§‹é¥¥é¥¿æ¸¸æˆï¼Œä½†æ˜¯æŠŠæ¯ç§åŠ¨ç‰©åˆ†å¼€å…³åœ¨å„è‡ªçš„å›­åŒºï¼Œå½¼æ­¤ä¹‹é—´å°±å¯ä»¥ç›¸å®‰æ— äº‹ã€‚</p>
<hr>
<h3 id="è™šæ‹Ÿç¯å¢ƒæ˜¯æ€ä¹ˆå®ç°çš„">è™šæ‹Ÿç¯å¢ƒæ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ<a href="#%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83%e6%98%af%e6%80%8e%e4%b9%88%e5%ae%9e%e7%8e%b0%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨è®¡ç®—æœºä¸–ç•Œï¼Œç¨‹åºå‘˜ä¸ºäº†ç¯å¢ƒéš”ç¦»å®é™…ä¸Šæœ‰è¿‡ç›¸å½“å¤šçš„å°è¯•ï¼Œæ¯”å¦‚è™šæ‹Ÿæœºå¯ä»¥æ¨¡æ‹Ÿä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œdockerå®¹å™¨å¯ä»¥æŠŠè¿›ç¨‹è£…åœ¨ä¸€ä¸ªçœ‹èµ·æ¥åƒç‹¬ç«‹ç³»ç»Ÿçš„ç›’å­é‡Œã€‚</p>
<p>ä½†æ˜¯ä¸€ä¸ªpythonè™šæ‹Ÿç¯å¢ƒæ‰€åšçš„äº‹æƒ…è¿œæ¯”ä¸Šè¿°å°è¯•è½»é‡çš„å¤šã€‚ä¸€ä¸ªpythonè™šæ‹Ÿç¯å¢ƒåªåšä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>ä½¿ç”¨ç‹¬ç«‹çš„pythonå¯æ‰§è¡Œæ–‡ä»¶ã€‚éš”ç¦»ä¸åŒpythonç‰ˆæœ¬ã€‚</li>
<li>ä½¿ç”¨ç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹ç›®å½•åº“ï¼Œéš”ç¦»ç¬¬ä¸‰æ–¹åº“ã€‚</li>
<li>æ§åˆ¶å¯¼å…¥é¡ºåºã€‚</li>
</ol>
<hr>
<h3 id="å¦‚ä½•åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ">å¦‚ä½•åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒåœ¨æœºå™¨ä¸­çš„è¡¨ç°å½¢å¼å…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…å«äº†è¿™ä¸ªç¯å¢ƒçš„å„ç§ä¿¡æ¯ã€‚é€šå¸¸æ¥è¯´ï¼Œäººä»¬ä¼šæŠŠè¿™ä¸ªæ–‡ä»¶å¤¹å»ºç«‹åœ¨é¡¹ç›®æ–‡ä»¶ä¸­ã€‚</p>
<p>ä½†æ˜¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒè¢«æ¿€æ´»ä¹‹åï¼Œä½ æ— è®ºå¤„åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Œåªè¦ä¸å…³é—­è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œä½ éƒ½å¤„åœ¨è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè™šæ‹Ÿç¯å¢ƒä¸ä½ çš„ç›®å½•ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ç†è®ºä¸Šåªè¦æ‰¾çš„åˆ°ï¼Œä½ æŠŠå®ƒæ”¾åœ¨ä»»ä½•ä¸€ä¸ªçŠ„è§’æ—®æ—¯é‡Œéƒ½å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œä»ç„¶å»ºè®®ä½ ç›´æ¥æŠŠè™šæ‹Ÿç¯å¢ƒç›´æ¥å»ºåœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œè¿™æ ·é¡¹ç›®å’Œç¯å¢ƒå¯ä»¥æ–¹ä¾¿çš„åŒæ­¥è¿ç§»ï¼Œå¹¶ä¸”å¯ä»¥ç¡®ä¿ä½ çš„ideå¯ä»¥è¯†åˆ«åˆ°è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚</p>
<hr>
<h4 id="venv">venv<a href="#venv" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>è¿™æ˜¯pythonè‡ªå¸¦çš„è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python3.10 -m venv .venv
</span></span></code></pre></div><p>è¿™å¥æŒ‡ä»¤çš„æ„ä¹‰æ˜¯åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª.venvæ–‡ä»¶å¤¹ï¼Œé‡Œé¢è£…çš„å°±æ˜¯è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒçš„ä¿¡æ¯ã€‚</p>
<p>é’ˆå¯¹æ¯ä¸ªå‚æ•°ï¼Œé€ä¸€åˆ†æä¸€ä¸‹è¿™å¥æŒ‡ä»¤ï¼š</p>
<hr>
<h5 id="python310">python3.10<a href="#python310" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h5>
<p>æŒ‡å®šå¯åŠ¨è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒçš„pythonç‰ˆæœ¬ã€‚ä»¥é˜²ä½ ä¸çŸ¥é“ï¼Œä¸€å°æœºå™¨æ˜¯å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªpythonç‰ˆæœ¬çš„ã€‚æ¯”å¦‚<code>pkg install python3.10</code>å°±å¯ä»¥å¼ºåˆ¶è¦æ±‚å®‰è£…3.10ç‰ˆæœ¬çš„pythonã€‚</p>
<h5 id="-m">-m<a href="#-m" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h5>
<p>è®©åé¢çš„åå­—ï¼ˆåœ¨æˆ‘ä»¬è¿™é‡Œæ˜¯venvï¼‰ä½œä¸ºä¸€ä¸ªpythonæ¨¡å—æ¥è¿è¡Œã€‚</p>
<h5 id="venv-1">venv<a href="#venv-1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h5>
<p>è¿™æ˜¯ä¸€ä¸ªpythonæ ‡å‡†åº“ä¸­çš„æ¨¡å—ï¼ŒåŠŸèƒ½æ˜¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚å› ä¸ºå®ƒæœ¬è´¨ä¸Šä¸æ˜¯ä¸€ä¸ªä½äºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä½ æ²¡åŠæ³•ç›´æ¥é€šè¿‡è¿è¡Œæ–‡ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå‰é¢å¿…é¡»è¦åŠ <code>-m</code>å‚æ•°æ‰èƒ½ä½¿ç”¨ã€‚</p>
<h5 id="venv-2">.venv<a href="#venv-2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h5>
<p>åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆçš„è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹åç§°ã€‚è¿™åªæ˜¯ä¸€ä¸ªåç§°è€Œå·²ï¼Œä½ å¯ä»¥éšæ„æŠŠå®ƒæ¢æˆä½ å–œæ¬¢çš„åå­—ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python3.12 -m venv .asdf1234
</span></span></code></pre></div><p>ä¹‹æ‰€ä»¥åŠ <code>.</code>æ˜¯ä¸ºäº†è®©è¿™ä¸ªæ–‡ä»¶å¤¹æˆä¸ºä¸€ä¸ªéšè—æ–‡ä»¶å¤¹ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¥ç¨‹æƒ¯ä¾‹ã€‚å®é™…ä¸Šä¸åŠ <code>.</code>ä¹Ÿæ— æ‰€è°“ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ">å¦‚ä½•ä½¿ç”¨ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e4%b8%80%e4%b8%aa%e8%99%9a%e6%8b%9f%e7%8e%af%e5%a2%83" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨ä½ åˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹ä¸‹ï¼Œä½ å¯ä»¥çœ‹åˆ°å¤§è‡´è¿™æ ·çš„ç›®å½•ç»“æ„ï¼š</p>
<p><img src="/zh-cn/posts/venvminiconda/venv.jpg" alt=""></p>
<p>ä½ å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡ŒåŒ…å«äº†ä»€ä¹ˆï¼šæœ‰è™šæ‹Ÿç¯å¢ƒè‡ªå·±çš„pythonã€pipï¼Œä»¥åŠä¸“é—¨å­˜æ”¾libçš„æ–‡ä»¶ç›®å½•ã€‚æ­¤å¤–ï¼Œåœ¨binç›®å½•ä¸‹ï¼Œä½ è¿˜å¯ä»¥æ‰¾åˆ°<code>activate</code>æ–‡ä»¶ï¼Œè¿™å°±æ˜¯è™šæ‹Ÿç¯å¢ƒçš„å¯åŠ¨è„šæœ¬ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>source .venv/bin/activate
</span></span></code></pre></div><p>è¿è¡Œè¿™ä¸ªæŒ‡ä»¤ï¼Œè™šæ‹Ÿç¯å¢ƒå°±æˆåŠŸæ¿€æ´»äº†ã€‚æƒ³è¦å…³é—­è™šæ‹Ÿç¯å¢ƒï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>deactivate
</span></span></code></pre></div><hr>
<p>åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½ æ‹¥æœ‰ä¸€å¥—å’Œå¤–ç•Œç¯å¢ƒéš”ç¦»çš„ç¬¬ä¸‰æ–¹åº“ç›®å½•ã€‚ä½ å¯ä»¥éšæ„å¢åˆ å½“å‰è™šæ‹Ÿç¯å¢ƒä¸­çš„ç¬¬ä¸‰æ–¹åº“ï¼Œè¿™äº›æ“ä½œéƒ½ä¸ä¼šå¯¹å¤–ç•Œç¯å¢ƒé€ æˆå½±å“ã€‚ä½œä¸ºè¡¥å……ï¼Œè¿™é‡Œç½—åˆ—ä¸€äº›pipå¸¸ç”¨çš„æŒ‡ä»¤ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip install numpy <span style="color:#75715e"># ä¸‹è½½numpyåº“</span>
</span></span></code></pre></div><p>æ³¨æ„ï¼Œè¿™é‡Œä¹‹æ‰€ä»¥å…ˆå†™<code>python -m</code>å†å†™pipï¼Œæ˜¯ä¸ºäº†ç¡®ä¿ä½¿ç”¨å½“å‰è™šæ‹Ÿç¯å¢ƒä¸‹çš„pipã€‚pipæ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œè€Œæ¨¡å—æ°¸è¿œå±äºæŸä¸ªpythonã€‚ä½¿ç”¨<code>-m</code>å‚æ•°å¯ä»¥ç¡®ä¿æ°¸è¿œä¸ä¼šè£…é”™ç¯å¢ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip install numpy<span style="color:#f92672">==</span>1.26.4 <span style="color:#75715e"># æŒ‡å®šå®‰è£…ç‰ˆæœ¬</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip list <span style="color:#75715e"># åˆ—å‡ºå½“å‰ç¯å¢ƒä¸‹å®‰è£…äº†å“ªäº›åŒ…</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip uninstall numpy <span style="color:#75715e"># å¸è½½numpy</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip show numpy <span style="color:#75715e"># æ˜¾ç¤ºæŸä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç‰ˆæœ¬ã€å®‰è£…è·¯å¾„ã€ä¾èµ–å…³ç³»ã€‚</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip install --upgrade numpy <span style="color:#75715e"># åœ¨å·²ç»å®‰è£…äº†numpyçš„åŸºç¡€ä¸Šå¯¹å®ƒè¿›è¡Œæ›´æ–°</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip freeze &gt; requirements.txt <span style="color:#75715e"># å¯¼å‡ºå½“å‰ç¯å¢ƒä¾èµ–åˆ°requirements.txtæ–‡ä»¶</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>python -m pip install -r requirements.txt <span style="color:#75715e"># ä»requirements.txtå®‰è£…</span>
</span></span></code></pre></div><p>å¦‚æœä½ æƒ³è¦åˆ é™¤ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒï¼Œä¸éœ€è¦ä½¿ç”¨ä»€ä¹ˆç‰¹æ®Šçš„æŒ‡ä»¤ï¼Œç›´æ¥rmæ‰ä½ å»ºç«‹çš„è™šæ‹Ÿç¯å¢ƒæ–‡ä»¶å¤¹å³å¯ã€‚</p>
<hr>
<h2 id="condaæ˜¯ä»€ä¹ˆ">Condaæ˜¯ä»€ä¹ˆ?<a href="#conda%e6%98%af%e4%bb%80%e4%b9%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>ä¸€å¥è¯å®šä½conda:</p>
<blockquote>
<p>condaä¸æ˜¯æ›´é«˜çº§çš„venvï¼Œ
è€Œæ˜¯ï¼šâ€œ<strong>ä¸€ä¸ªè·¨è¯­è¨€+è·¨å¹³å°+å¯ç®¡ç†pythonç‰ˆæœ¬çš„ç¯å¢ƒä¸åŒ…ç®¡ç†ç³»ç»Ÿ</strong>â€</p>
</blockquote>
<p>pythonå®˜æ–¹çš„pipä»¥åŠvenvåªèƒ½ç®¡ç†pythonåŒ…ï¼Œä½†æ˜¯åœ¨ç°å®ä¸­çš„ç§‘å­¦è®¡ç®—ä»¥åŠæœºå™¨å­¦ä¹ ç­‰åº”ç”¨åœºæ™¯ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„ç¯å¢ƒä¼šæ¶‰åŠå¾ˆå¤šépythonçš„ä¾èµ–ï¼Œå¹¶ä¸”éœ€è¦å¤„ç†å„ç§è·¨å¹³å°é—®é¢˜ã€‚è¿™å°±å·²ç»è§¦åŠåˆ°äº†pythonåŸç”Ÿå·¥å…·çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p>condaçš„å‡ºç°æ—¨åœ¨ä¸€æ¬¡æ€§è§£å†³è¿™äº›é—®é¢˜ã€‚conda<strong>åŒæ—¶</strong>æ˜¯ä¸€ä¸ª<strong>ç¯å¢ƒç®¡ç†å™¨</strong>ï¼ˆä½ å¯ä»¥ç”¨å®ƒå»ºç«‹è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶ä¸”æ¯”venvéš”ç¦»çš„æ›´åŠ å½»åº•ï¼‰ã€<strong>åŒ…ç®¡ç†å™¨</strong>ï¼ˆconda install numpyï¼‰ï¼Œå…¼<strong>pythonç‰ˆæœ¬ç®¡ç†å™¨</strong>ï¼ˆä¸ç®¡ä½ ç³»ç»Ÿä¸­æœ‰æ²¡æœ‰å®‰è£…pythonï¼‰ã€‚</p>
<hr>
<h3 id="anacondaminicondaæ˜¯ä»€ä¹ˆ">Anaconda/Minicondaæ˜¯ä»€ä¹ˆï¼Ÿ<a href="#anacondaminiconda%e6%98%af%e4%bb%80%e4%b9%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>Anaconda = conda + ä¸€å¤§å †ç§‘å­¦è®¡ç®—åº“</p>
<p>Miniconda = conda + Python</p>
<p>é€šå¸¸è®¤ä¸ºAnacondaæ›´é€‚åˆç”¨æ¥å¿«é€Ÿä¸Šæ‰‹ï¼Œä½†æ˜¯æ¯”è¾ƒå†—ä½™ã€‚å¦‚æœæƒ³è¦æ›´è½»é‡å¯æ§çš„ç¯å¢ƒï¼Œæ›´å»ºè®®ä½¿ç”¨Minicondaã€‚</p>
<hr>
<h3 id="å¦‚ä½•å®‰è£…conda">å¦‚ä½•å®‰è£…conda?<a href="#%e5%a6%82%e4%bd%95%e5%ae%89%e8%a3%85conda" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è¿™é‡Œä»¥Minicondaä¸ºä¾‹ã€‚</p>
<p><a href="https://www.anaconda.com/docs/getting-started/miniconda/main">Minicondaå®˜ç½‘</a></p>
<hr>
<h4 id="æ–¹æ³•ä¸€å»å®˜ç½‘ä¸‹è½½å®‰è£…è„šæœ¬">æ–¹æ³•ä¸€ï¼šå»å®˜ç½‘ä¸‹è½½å®‰è£…è„šæœ¬<a href="#%e6%96%b9%e6%b3%95%e4%b8%80%e5%8e%bb%e5%ae%98%e7%bd%91%e4%b8%8b%e8%bd%bd%e5%ae%89%e8%a3%85%e8%84%9a%e6%9c%ac" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ ¹æ®ä½ çš„cpuæ¶æ„å»å®˜ç½‘ä¸‹è½½å¯¹åº”çš„.shè„šæœ¬ï¼Œç„¶ååœ¨ä½ çš„ç»ˆç«¯è¿è¡Œã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨æˆ‘å†™åšå®¢æ–‡çš„åŒæ—¶ï¼Œæˆ‘å‘ç°condaä¸æ”¯æŒtermuxã€‚å¦‚æœä½ æƒ³ä½¿ç”¨condaï¼Œè¯·ç¡®ä¿ä½ å¤„åœ¨ä¸€ä¸ªçœŸæ­£çš„ç”µè„‘ä¸Šã€‚</p>
</blockquote>
<h4 id="æ–¹æ³•äºŒä½¿ç”¨curl--wget">æ–¹æ³•äºŒï¼šä½¿ç”¨curl &amp; wget<a href="#%e6%96%b9%e6%b3%95%e4%ba%8c%e4%bd%bf%e7%94%a8curl--wget" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<hr>
<p>wgetæ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
</span></span></code></pre></div><p>æˆ–è€…curlæ–¹æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
</span></span></code></pre></div><p>ä¸‹è½½å¾—åˆ°.shè„šæœ¬ä¹‹åï¼Œä»ç„¶è¿è¡Œè¯¥è„šæœ¬ã€‚æ³¨æ„è¿™é‡Œç»™å‡ºçš„æŒ‡ä»¤æ˜¯x86_64æ¶æ„ä¸”ä¸ºlinuxï¼Œaarch64éœ€è¦åšå‡ºç›¸åº”ä¿®æ”¹ã€‚</p>
<p><img src="/zh-cn/posts/venvminiconda/conda.jpg" alt=""></p>
<p>å¤§è‡´æµç¨‹å‚è€ƒä¸Šå›¾ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä½¿ç”¨conda">å¦‚ä½•ä½¿ç”¨condaï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8conda" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æ­¤å¤„ä»ç„¶ä»¥minicondaä¸ºä¾‹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda create -n asdf1234 python<span style="color:#f92672">=</span>3.10
</span></span></code></pre></div><p>è¿™æ®µæŒ‡ä»¤çš„æ„ä¹‰æ˜¯ï¼š</p>
<blockquote>
<p>åˆ›å»ºä¸€ä¸ªåä¸ºâ€œasdf1234â€çš„è™šæ‹Ÿç¯å¢ƒï¼Œå…¶ä¸­pythonç‰ˆæœ¬ä¸º3.10ã€‚</p>
</blockquote>
<p>å…¶ä¸­ï¼Œ<code>-n</code>å‚æ•°å«ä¹‰ä¸º&quot;name&quot;ï¼Œç­‰ä»·äº<code>--name</code>ã€‚</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼Œcondaçš„è™šæ‹Ÿç¯å¢ƒå¹¶ä¸åƒvenvé‚£æ ·ç›´æ¥ä½œä¸ºå½“å‰é¡¹ç›®çš„ä¸€ä¸ªå­ç›®å½•å­˜åœ¨ï¼Œcondaçš„ç¯å¢ƒè¢«condaè§†ä¸ºè‡ªå·±ç®¡ç†çš„èµ„æºï¼Œé»˜è®¤é›†ä¸­å­˜æ”¾ã€‚è¿™æ„å‘³ç€åœ¨åˆ›å»ºè¿™ä¸ªç¯å¢ƒä¹‹åï¼Œä½ ä¸ä¼šåœ¨ä½ çš„ç›®å½•ä¸‹å¾—åˆ°ä»»ä½•æ–°çš„å†…å®¹ã€‚</p>
<p>è¿™æ ·çš„è®¾è®¡å“²å­¦æ„ä¹‰åœ¨äºå½“ä¸åŒçš„ç¯å¢ƒä¸­è¯·æ±‚åŒæ ·çš„åŒ…æ—¶ï¼Œcondaä¸ç”¨å°†é¢å¤–çš„ç©ºé—´èµ„æºæµªè´¹åœ¨é‡å¤ä¸‹è½½ä¸Šï¼Œè€Œæ˜¯å¯ä»¥é€šè¿‡å†…éƒ¨æ„å»ºè½¯é“¾æ¥çš„æ–¹å¼æ¥å®ç°èµ„æºå¤ç”¨ã€‚</p>
<p>condaå…è®¸ä½ é€šè¿‡<code>--prefix ./env</code>å‚æ•°æ¥å®ç°ç±»ä¼¼venvçš„å­˜å‚¨è¡Œä¸ºã€‚è¿™é‡Œä¸è¿‡å¤šå±•å¼€ã€‚</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda activate asdf1234 <span style="color:#75715e"># æ¿€æ´»åä¸ºasdf1234çš„è™šæ‹Ÿç¯å¢ƒ</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda deactivate <span style="color:#75715e"># é€€å‡ºå½“å‰ç¯å¢ƒ</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda install numpy <span style="color:#75715e"># å®‰è£…åŒ…</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda env list <span style="color:#75715e"># åˆ—å‡ºæ‰€æœ‰åˆ›å»ºçš„ç¯å¢ƒï¼Œä»¥åŠç°åœ¨æ‰€å¤„çš„ç¯å¢ƒ</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda remove -n asdf1234 --all <span style="color:#75715e"># åˆ é™¤ä¸€ä¸ªç¯å¢ƒ</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda env export &gt; environment.yml <span style="color:#75715e"># å¯¼å‡ºç¯å¢ƒ</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda env create -f environment.yml <span style="color:#75715e"># ä»é…ç½®æ–‡ä»¶å¤ç°ç¯å¢ƒ</span>
</span></span></code></pre></div><p>æ³¨æ„ï¼šä½¿ç”¨condaä¸‹è½½åŒ…çš„æ—¶å€™ï¼Œcondaæœ‰ä¸€ä¸ªä¸“å±åè¯ï¼š<strong>channel</strong>ã€‚æŸäº›æ—¶å€™ï¼Œä½¿ç”¨condaä¸‹è½½æŸäº›åŒ…çš„æ—¶å€™ä¼šæç¤ºä½ è¦ä¸‹è½½çš„åŒ…ä¸åœ¨å½“å‰channelä¸­ã€‚è¿™æ—¶å€™ä½ éœ€è¦è‡ªè¡Œå¯»æ‰¾å¯¹åº”çš„channelï¼Œç„¶åé€šè¿‡<code>-c</code>å‚æ•°æŒ‡å®šä¸‹è½½æ¸ é“ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>conda install pytorch<span style="color:#f92672">==</span>1.12.0 -c pytorch
</span></span></code></pre></div><blockquote>
<p>åœ¨ä¸€ä¸ªcondaè™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥æ··ç”¨pipå®‰è£…æ–¹å¼å’Œcondaå®‰è£…æ–¹å¼ã€‚ä½†æ˜¯å»ºè®®åªåœ¨condaä¸­æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„åŒ…ï¼Œæˆ–è€…ä½ è¦çš„åŒ…æ˜¯çº¯pythonå†™çš„æ—¶å†ç”¨pipã€‚</p>
</blockquote>
]]></content>
		</item>
		
		<item>
			<title>å·¥å…·ä¸å›¾é‰´01ï¼šcurl&amp;wget</title>
			<link>http://localhost:1313/zh-cn/posts/curlwget/</link>
			<pubDate>Mon, 15 Dec 2025 23:25:53 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/curlwget/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://curl.se/">curlå®˜ç½‘</a></p>
<p><a href="https://www.gnu.org/software/wget/">wgetå®˜ç½‘</a></p>
<p>curlå’Œwgetæ˜¯åœ¨é…ç½®æœåŠ¡å™¨æ—¶ç›¸å½“å¸¸ç”¨çš„ç»ˆç«¯å·¥å…·ã€‚</p>
<hr>
<h2 id="ä»€ä¹ˆæ˜¯curl">ä»€ä¹ˆæ˜¯curlï¼Ÿ<a href="#%e4%bb%80%e4%b9%88%e6%98%afcurl" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>curlï¼Œå…¨ç§°ä¸ºClient URLï¼Œæ˜¯ä¸€ä¸ªé€šç”¨çš„ç½‘ç»œåè®®å®¢æˆ·ç«¯å·¥å…·ã€‚åŠŸèƒ½æ¶µç›–è¯·æ±‚ç½‘é¡µï¼Œä¸‹è½½æ–‡ä»¶ï¼Œå‘é€httpè¯·æ±‚ï¼Œè°ƒè¯•æ¥å£ç­‰ã€‚å¯ä»¥è¯´è¿™ä¸ªå·¥å…·å°±æ˜¯ä¸€æŠŠç½‘ç»œä¸–ç•Œçš„ç‘å£«å†›åˆ€ã€‚ä¸è¿‡å¯¹äºå¤§å¤šæ•°æ™®é€šä½¿ç”¨è€…ï¼Œæœ€å¸¸è§çš„ç”¨é€”æ˜¯ç”¨å®ƒæ¥ä¸‹è½½æ–‡ä»¶ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¸å¯é¿å…çš„è¦å’Œç½‘ç»œæ‰“äº¤é“ã€‚æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯é€šè¿‡æµè§ˆå™¨æ¥æµè§ˆç½‘é¡µå’Œä¸‹è½½æ–‡ä»¶ã€‚æµè§ˆå™¨é€šè¿‡å›¾å½¢åŒ–ç•Œé¢æ›¿ä½ å®Œæˆäº†å†™è¯·æ±‚çš„æ­¥éª¤ã€‚æ‰€è°“è¯·æ±‚ï¼Œå°±æ˜¯ä¸€ç§è§„èŒƒåŒ–çš„å’ŒæœåŠ¡å™¨å¯¹è¯çš„æ–¹å¼ã€‚ä½ åªéœ€è¦ç‚¹ç‚¹å±å¹•å°±å¯ä»¥å®Œæˆä¸€ç³»åˆ—ä¸ç½‘ç»œæœåŠ¡å™¨çš„ä¿¡æ¯äº¤æ¢ã€‚</p>
<p>ä½†æ˜¯å¯¹äºæ²¡æœ‰å›¾å½¢åŒ–ç•Œé¢çš„ç»ˆç«¯æ¥è¯´ï¼Œæ‰€æœ‰çš„ä¿¡æ¯éƒ½æ˜¯åŸºäºæ–‡æœ¬æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿæ²¡åŠæ³•é€šè¿‡å›¾å½¢åŒ–çš„æµè§ˆå™¨æ¥è·å–ç½‘ç»œèµ„æºã€‚curlçš„åŠŸèƒ½å°±åœ¨äºæ­¤ã€‚åªä¸è¿‡ä¸åŒäºæµè§ˆå™¨å›¾å½¢åŒ–ç•Œé¢çš„ç›´ç™½ï¼Œä½ å¿…é¡»æ˜ç¡®ä½ é€’äº¤çš„è¯·æ±‚åŒ…å«äº†å“ªäº›åŠ¨ä½œã€‚</p>
<p>ç†è§£curlï¼Œå…¶å®åªéœ€è¦ç†è§£ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>curl = åœ¨å‘½ä»¤è¡Œä¸­æ‰‹åŠ¨å‘é€httpè¯·æ±‚</strong></p>
</blockquote>
<p>ä¸€æ¡httpè¯·æ±‚ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯4ä¸ªä¸œè¥¿ï¼š</p>
<ol>
<li>è¯·æ±‚æ–¹æ³•</li>
<li>è¯·æ±‚åœ°å€ï¼ˆurlï¼‰</li>
<li>è¯·æ±‚å¤´</li>
<li>è¯·æ±‚ä½“</li>
</ol>
<p>curlçš„æœ€åŸºæœ¬å½¢å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl URL
</span></span></code></pre></div><p>ç›¸å½“äºè¯´ï¼šè®©æˆ‘çœ‹çœ‹è¿™ä¸ªurlé‡Œæœ‰ä»€ä¹ˆä¸œè¥¿ã€‚</p>
<p>å…³äºcurlè¯­æ³•çš„ç»†åˆ™è¿™é‡Œä¸å†è¿‡å¤šèµ˜è¿°ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä½¿ç”¨curl">å¦‚ä½•ä½¿ç”¨curlï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8curl" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å…‰çŸ¥é“curlæ˜¯å‘é€ç½‘ç»œåè®®çš„å·¥å…·è¿™ç‚¹å…¶å®å¯¹ä½ çš„ä½¿ç”¨è¿‡ç¨‹æ²¡æœ‰å¤ªå¤§å¸®åŠ©ã€‚äº‹å®ä¸Šï¼Œå¤§å¤šæ•°äººéƒ½ä¸ä¼šä»httpçš„åŸç†å±‚é¢æ¥æ€è€ƒå’Œä½¿ç”¨curlã€‚</p>
<p>å¤šæ•°äººçš„çœŸå®è¡Œä¸ºæ˜¯ï¼š</p>
<ul>
<li>ä»ç½‘ç«™/åšå®¢ä¸­å¤åˆ¶ä¸€ä¸ªcurlæŒ‡ä»¤ã€‚</li>
<li>ç¨åŠ ä¿®æ”¹æˆ–è€…æ ¹æœ¬ä¸ä¿®æ”¹ã€‚</li>
<li>ç”¨å°±å®Œäº†ã€‚</li>
</ul>
<p>æ¯”å¦‚ï¼Œå¦‚æœä½ æƒ³ä¸‹è½½ohmyzshï¼Œä½ åªéœ€è¦æŠŠå®˜ç½‘ä¸Šçš„ä¸‹è½½æŒ‡ä»¤å¤åˆ¶ä¸‹æ¥è¿è¡Œå³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>è¿™æœ¬èº«æ˜¯ä¸€ä¸ªåŸç†ç›¸å¯¹å¤æ‚çš„æŒ‡ä»¤ï¼Œä½†æ˜¯ä½ æ ¹æœ¬ä¸ç”¨å…³ç³»è¿™äº›äº‹æƒ…ã€‚å¼€å‘è€…å·²ç»æ›¿ä½ è€ƒè™‘å¥½äº†ä¸€åˆ‡ã€‚</p>
<p>è€Œç¨å¾®å¤æ‚ä¸€ç‚¹ç‚¹çš„æƒ…å†µæ˜¯ï¼Œä½ æƒ³è¦ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯README.mdä¸­æ²¡æœ‰ç»™å‡ºä¸‹è½½æŒ‡ä»¤ã€‚</p>
<p>æˆ‘ä»¬ä¸¾ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š</p>
<hr>
<p>æ¯”å¦‚ï¼Œä½ æƒ³æŠŠä¸€ä¸ªgithubä¸Šçš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚ä½†æ˜¯å‘¢ï¼Œæ²¡æœ‰ä»»ä½•ç½‘é¡µå‘Šè¯‰ä½ åº”è¯¥è¾“å…¥ä»€ä¹ˆæŒ‡ä»¤æ¥ä¸‹è½½è¿™ä¸ªæ–‡ä»¶ã€‚ä½ å¯èƒ½ä¼šæƒ³åˆ°å¦å¤–ç”¨ä¸€ä¸ªæ™ºèƒ½è®¾å¤‡é€šè¿‡æµè§ˆå™¨ä¸‹è½½ï¼Œç„¶åä¸Šä¼ åˆ°ç»ˆç«¯å¯¹åº”çš„æœºå™¨ã€‚è¿™æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯ä¸å¤Ÿç›´æ¥ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªcurlæŒ‡ä»¤å°±å¯ä»¥æŠŠæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p>æ¯”å¦‚ï¼Œä½ çœ‹ä¸Šäº†ohmyzshçš„README.mdã€‚ä½ å¾ˆæƒ³æŠŠå®ƒä¸‹è½½åˆ°æœ¬åœ°ã€‚ä½ ä¸éœ€è¦åŠ¨ç”¨æµè§ˆå™¨ï¼Œä¹Ÿä¸éœ€è¦git cloneæ•´ä¸ªä»“åº“ï¼Œä½ åªéœ€è¦åœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -O https://github.com/ohmyzsh/ohmyzsh/blob/master/README.md?plain<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>curlå°±å¼€å§‹å¸®ä½ ä¸‹è½½æ–‡ä»¶äº†ã€‚å½“ç„¶å‰ææ˜¯ä½ çš„ç½‘ç»œç¯å¢ƒæ”¯æŒä½ è®¿é—®åˆ°è¿™ä¸ªç½‘ç«™ï¼Œå¦‚æœç½‘ç»œæ¡ä»¶ä¸ä½³ï¼Œä½ å¯èƒ½å¿…é¡»è¦é…ç½®ç½‘ç»œä»£ç†æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>ä½†æ˜¯ï¼Œåªè¦ä½ å®é™…å°è¯•è¿‡ï¼Œä½ å°±ä¼šå‘ç°ï¼Œä½ ä¸‹è½½å¾—åˆ°çš„æ ¹æœ¬ä¸æ˜¯ä½ æƒ³è¦çš„ä¸œè¥¿ã€‚ä½ ä¸‹è½½å¾—åˆ°çš„æ˜¯ä¸€å¤§å †htmlä»£ç ï¼Œæ ¹æœ¬ä¸æ˜¯ä¸€ä¸ªmdæ–‡ä»¶ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ ¹æœ¬ä¸ŠåŸå› åœ¨äºä½ ä¸‹è½½çš„å®é™…æ˜¯ç”¨æ¥æ˜¾ç¤ºè¿™ä¸ªç½‘é¡µçš„ä»£ç ï¼Œè€Œéä½ æƒ³è¦çš„å†…å®¹ã€‚</p>
<p>ä¸è¿‡ï¼Œå¯¹äºgithubè€Œè¨€ï¼Œå³ä½¿ä½ ä¸èƒ½ç›´æ¥curlæ¥è·å–æ–‡ä»¶ï¼Œgithubä¸ºä½ æä¾›äº†ä¸€ä¸ªå¦å¤–çš„å¿«æ·é€”å¾„ï¼Œæ–¹ä¾¿ä½ ç›´æ¥ä½¿ç”¨curlæ¥ä¸‹è½½æ–‡ä»¶ã€‚ä½ åªéœ€è¦å°†urlä¸­çš„<code>github.com</code>æ›¿æ¢ä¸º<code>raw.githubusercontent.com</code>å³å¯ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨è¿™ä¸ªç½‘ç«™ä¸­å¹¶ä¸å­˜æœ‰ä½œè€…åä»¥åŠplainä¹‹ç±»çš„å‚æ•°ã€‚æ‰€ä»¥ï¼Œä½ è¿˜éœ€è¦åˆ é™¤<code>/blob</code>ä»¥åŠ<code>?plain=1</code>ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -O https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/README.md
</span></span></code></pre></div><p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªæ–¹æ³•å¤ªéº»çƒ¦ï¼Œå¯¹äºgithubæ¥è¯´è¿˜æœ‰å¦å¤–ä¸€ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>curl -L -O <span style="color:#e6db74">&#34;https://github.com/ohmyzsh/ohmyzsh/blob/master/README.md?raw=1&#34;</span>
</span></span></code></pre></div><p>å› ä¸ºæˆ‘é€‰å–çš„è¿™ä¸ªREADME.mdç½‘é¡µå®é™…æ¯”è¾ƒç‰¹æ®Šï¼Œåé¢è‡ªå¸¦å‚æ•°ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½ åªéœ€è¦åœ¨å‰é¢æ·»åŠ <code>-L</code>å‚æ•°ï¼Œå¹¶ä¸ºurlåæ–¹æ·»åŠ <code>raw=1</code>å‚æ•°å³å¯ä¸‹è½½ã€‚åœ¨æœ¬ä¾‹å­ä¸­ï¼Œç›´æ¥å°†<code>plain=1</code>æ›¿æ¢ä¸º<code>raw=1</code>å³å¯ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä¸‹è½½curl">å¦‚ä½•ä¸‹è½½curlï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%b8%8b%e8%bd%bdcurl" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ çš„æœºå™¨å®é™…ä¸Šå·²ç»é…å¤‡äº†curlå·¥å…·ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€çš„å·¥å…·ã€‚</p>
<p>å‡å¦‚ä½ çš„æœºå™¨ä¸Šæ²¡æœ‰è¿™ä¸ªå·¥å…·ï¼Œé€šå¸¸æ¥è¯´ä½ ä¹Ÿä¸éœ€è¦ç»è¿‡å®˜ç½‘æ¥ä¸‹è½½æœ€æ–°ç‰ˆã€‚ç›´æ¥ä½¿ç”¨ç³»ç»Ÿçº§åŒ…ç®¡ç†å™¨ä¸‹è½½å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt install curl <span style="color:#75715e"># ä»¥ubuntuä¸ºä¾‹</span>
</span></span></code></pre></div><hr>
<h2 id="ä»€ä¹ˆæ˜¯wget">ä»€ä¹ˆæ˜¯wget?<a href="#%e4%bb%80%e4%b9%88%e6%98%afwget" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<blockquote>
<p>wget = <strong>World Wide Web + get</strong></p>
</blockquote>
<p>å­—é¢æ„æ€ï¼Œä»ä¸‡ç»´ç½‘ä¸Šè·å–ä¸œè¥¿ï¼Œå°±æ˜¯wgetã€‚</p>
<p>ä¸åŒäºcurlä¸°å¯Œçš„åŠŸèƒ½ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºä¸‹è½½å†…å®¹çš„å·¥å…·ã€‚å®ƒçš„è®¾è®¡ç›®çš„å¾ˆæ˜ç¡®ï¼š<strong>ç¨³å®šã€è‡ªåŠ¨åŒ–ã€å¯æ¢å¤çš„ä¸‹è½½æ–‡ä»¶</strong>ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä½¿ç”¨wget">å¦‚ä½•ä½¿ç”¨wgetï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8wget" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>wgetçš„ä½¿ç”¨æ–¹æ³•æ¯”curlè¦ç®€å•çš„å¤šã€‚å…¶ä¸­ä¸€ä¸ªæœ€ç®€å½¢å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget url
</span></span></code></pre></div><p>ä¸éœ€è¦ä»»ä½•å‚æ•°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬ä»ç„¶å°è¯•ä¸‹è½½ohmyzshçš„README.mdï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget https://github.com/ohmyzsh/ohmyzsh/blob/master/README.md?plain<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>å½“ç„¶ï¼Œè¿™ä»ç„¶æ˜¯ä¸ªé”™è¯¯çš„æŒ‡ä»¤ï¼Œé€šè¿‡å®ƒä½ åªèƒ½ä¸‹è½½åˆ°ç½‘é¡µä»£ç ã€‚æˆ‘å†™è¿™å¥æŒ‡ä»¤ï¼Œæ„åœ¨è¯´æ˜wgetçš„ç®€ä¾¿æ˜“ç”¨ã€‚çœŸæ­£æœ‰ç”¨çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/README.md
</span></span></code></pre></div><p>ä½ ä»ç„¶éœ€è¦å¾—åˆ°æ–‡ä»¶çœŸæ­£å­˜æ”¾çš„urlã€‚åŒæ—¶ï¼Œwgetä¹Ÿå…è®¸ä½ æƒ³ä¸‹è½½å¾—åˆ°çš„æ–‡ä»¶ç›´æ¥ç”¨æ–°æ–‡ä»¶åå­˜å…¥æœ¬åœ°ï¼Œä½ åªéœ€è¦åŠ ä¸€ä¸ª<code>-O</code>å‚æ•°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget -O myreadme.md https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/README.md
</span></span></code></pre></div><hr>
<p>æ­¤å¤–ï¼Œå¯¹äºä¸€äº›ä½“ç§¯è¾ƒå¤§çš„ä¸‹è½½ï¼Œä¸‹è½½è¿‡ç¨‹å¯èƒ½ç›¸å¯¹æ¼«é•¿ã€‚å‡å¦‚ä¸‹è½½è¿‡ç¨‹ä¸­å› ä¸ºç½‘ç»œé—®é¢˜è€Œæ„å¤–ç»ˆæ–­ï¼Œä¸€èˆ¬çš„wgetä¸‹è½½è¿›åº¦å°±ä¼šå½’é›¶ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>-c</code>å‚æ•°æ¥ä¿å­˜ä¸‹è½½è¿›åº¦ï¼Œè¿™æ ·å³ä½¿ä¸­é—´ä¸‹è½½ä¸­æ–­ï¼Œç»§ç»­è¾“å…¥æŒ‡ä»¤ï¼Œæ–‡ä»¶å°±ä¼šåœ¨åŸæœ‰è¿›åº¦åŸºç¡€ä¸Šç»§ç»­ä¸‹è½½ï¼Œä¸ä¼šä¸¢å¤±è¿›åº¦ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>wget -c https://example.com/bigfile.iso <span style="color:#75715e"># è¿™ä¸æ˜¯ä¸€ä¸ªçœŸå®å­˜åœ¨çš„ç½‘ç«™ï¼Œåªæ˜¯æ–¹ä¾¿æ¼”ç¤ºã€‚</span>
</span></span></code></pre></div><hr>
<h3 id="å¦‚ä½•ä¸‹è½½wget">å¦‚ä½•ä¸‹è½½wgetï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%b8%8b%e8%bd%bdwget" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ä¸curlæƒ…å†µåŸºæœ¬ç±»ä¼¼ï¼Œå¤šæ•°æ—¶å€™ä½ çš„æœºå™¨ä¸Šå·²ç»è‡ªå¸¦wgetäº†ã€‚åœ¨å°‘æ•°æç®€å¼€å‘ç¯å¢ƒä¸‹å¯èƒ½å‡ºç°ä¸è‡ªå¸¦wgetçš„æƒ…å†µã€‚æ­¤æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨åŒ…ç®¡ç†å™¨ä¸‹è½½å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt install wget <span style="color:#75715e"># ä»¥Ubuntuä¸ºä¾‹</span>
</span></span></code></pre></div>]]></content>
		</item>
		
		<item>
			<title>å·¥å…·ä¸å›¾é‰´02ï¼šzsh&amp;ohmyzsh</title>
			<link>http://localhost:1313/zh-cn/posts/zshohmyzsh/</link>
			<pubDate>Mon, 15 Dec 2025 23:25:53 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/zshohmyzsh/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://zh.wikipedia.org/wiki/Z_shell">zsh wiki</a></p>
<p><a href="https://ohmyz.sh/">ohmyzsh</a></p>
<h2 id="ä»€ä¹ˆæ˜¯zsh">ä»€ä¹ˆæ˜¯zshï¼Ÿ<a href="#%e4%bb%80%e4%b9%88%e6%98%afzsh" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>zshæ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„Unix shellï¼Œå³<strong>å‘½ä»¤è¡Œè§£é‡Šå™¨</strong>ã€‚å°±åƒå®‰è£…gitæ—¶é™„é€çš„git bashå’Œwindowsç³»ç»Ÿä¸‹è‡ªå¸¦çš„powershellä¸€æ ·ï¼Œä½ æŠŠæŒ‡ä»¤è¾“è¿›å»ï¼ŒæŒ‰ä¸‹å›è½¦ï¼ŒæŒ‡ä»¤å°±è¿è¡Œèµ·æ¥äº†ã€‚</p>
<p>ç›¸è¾ƒäºå…¶ä»–å‘½ä»¤è¡Œè§£é‡Šå™¨å¦‚bashï¼Œzshå…·æœ‰æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨è¡¥å…¨ï¼Œå†å²è®°å½•ï¼Œåˆ‡æ¢ä¸»é¢˜ç­‰ã€‚è¿™ä¸€åˆ‡éƒ½å¯ä»¥é€šè¿‡æ·»åŠ æ’ä»¶æ¥å®Œæˆã€‚</p>
<hr>
<h3 id="å¦‚ä½•å®‰è£…zsh">å¦‚ä½•å®‰è£…zshï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e5%ae%89%e8%a3%85zsh" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>zshå¹¶ä¸æ˜¯ä¸€ä¸ªæ›´æ–°éå¸¸è¿…é€Ÿçš„è½¯ä»¶ï¼Œè¿™æ„å‘³ç€ä½ å¹¶ä¸ä¸€å®šéœ€è¦å®‰è£…æœ€æ–°ç‰ˆæ‰èƒ½ç¡®ä¿æœ€å¤§ç¨‹åº¦çš„ç¨³å®šå’ŒåŠŸèƒ½ã€‚é€šå¸¸æ¥è¯´ï¼Œç›´æ¥ä½¿ç”¨ä½ çš„ç³»ç»Ÿçº§åŒ…ç®¡ç†å™¨æ¥å®‰è£…å³å¯ï¼Œä¸ä¼šå¯¼è‡´å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt install zsh
</span></span></code></pre></div><hr>
<h2 id="ä»€ä¹ˆæ˜¯ohmyzsh">ä»€ä¹ˆæ˜¯ohmyzshï¼Ÿ<a href="#%e4%bb%80%e4%b9%88%e6%98%afohmyzsh" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>ohmyzshæ˜¯ä¸€ä¸ªå¼€æºçš„ç¤¾åŒºé©±åŠ¨çš„zshé…ç½®ç®¡ç†æ¡†æ¶ã€‚é€šå¸¸æ¥è¯´ï¼Œç›´æ¥ä¸ºzshæ·»åŠ æ’ä»¶å¹¶ä¸æ–¹ä¾¿ã€‚ä½†æ˜¯é€šè¿‡ohmyzshï¼Œä½ åªéœ€è¦å…‹éš†ä¸€ä¸‹æ’ä»¶ä»“åº“ï¼Œå†ä¿®æ”¹ä¸€ä¸‹~/.zshrcå³å¯ä½¿ç”¨æ’ä»¶ã€‚</p>
<p>omzæ‹¥æœ‰éå¸¸ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ä»¥åŠæ´»è·ƒçš„è´¡çŒ®è€…ç¤¾åŒºï¼Œå¯ä»¥å¤§å¤§æé«˜ç»ˆç«¯ç¾è§‚ç¨‹åº¦ä»¥åŠä½¿ç”¨æ•ˆç‡ã€‚</p>
<hr>
<h4 id="å¦‚ä½•å®‰è£…ohmyzsh">å¦‚ä½•å®‰è£…ohmyzshï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e5%ae%89%e8%a3%85ohmyzsh" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ä¸åŒäºzshä»¥åŠå¾ˆå¤šå…¶ä»–çš„åŸºæœ¬å·¥å…·ï¼Œohmyzshæ˜¯ä¸€ä¸ªè¿­ä»£è¿…é€Ÿçš„ç¤¾åŒºå·¥å…·ã€‚è¿™æ„å‘³ç€å¦‚æœæƒ³è¦ä½¿ç”¨æ›´æ–°æ›´å¥½çš„æ’ä»¶ï¼Œæœ€å¥½é€šè¿‡å®˜æ–¹æ¸ é“è¿›è¡Œå®‰è£…ã€‚</p>
<p>è¿™é‡Œç½—åˆ—ä»<a href="https://ohmyz.sh/#install">omzå®˜ç½‘</a>ä¸Šæ‘˜å½•çš„ä¸‹è½½æŒ‡ä»¤ã€‚ä½ åªéœ€è¦å°†æŒ‡ä»¤è¾“å…¥ç»ˆç«¯è¿è¡Œå³å¯ã€‚</p>
<p>æ–¹æ³•ä¸€ï¼šé€šè¿‡curlå®‰è£…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>æ–¹æ³•äºŒï¼šé€šè¿‡wgetå®‰è£…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>è¿™ä¸¤ä¸ªæŒ‡ä»¤æ˜¯ç›¸å¯¹ç¨³å®šçš„ï¼Œå®ƒä»¬ä¸ä¼šéšomzç‰ˆæœ¬è¿­ä»£è€Œå‘ç”Ÿæ”¹å˜ã€‚</p>
<hr>
<h2 id="ohmyzshå¦‚ä½•é…ç½®">ohmyzshå¦‚ä½•é…ç½®ï¼Ÿ<a href="#ohmyzsh%e5%a6%82%e4%bd%95%e9%85%8d%e7%bd%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>å°†zshè®¾ç½®ä¸ºé»˜è®¤shellï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>chsh -s /bin/zsh
</span></span></code></pre></div><hr>
<h3 id="å¸¸ç”¨æ’ä»¶">å¸¸ç”¨æ’ä»¶<a href="#%e5%b8%b8%e7%94%a8%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<h4 id="1-zsh-autosuggestions-è‡ªåŠ¨è¡¥å…¨å»ºè®®">1. zsh-autosuggestions (è‡ªåŠ¨è¡¥å…¨å»ºè®®)<a href="#1-zsh-autosuggestions-%e8%87%aa%e5%8a%a8%e8%a1%a5%e5%85%a8%e5%bb%ba%e8%ae%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ ¹æ®å†å²è®°å½•ç»™å‡ºè‡ªåŠ¨è¡¥å…¨å»ºè®®ï¼ŒæŒ‰ä¸‹å³é”®è‡ªåŠ¨è¡¥å…¨ã€‚</p>
<p><a href="https://github.com/zsh-users/zsh-autosuggestions">githubç½‘é¡µ</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone https://github.com/zsh-users/zsh-autosuggestions <span style="color:#e6db74">${</span>ZSH_CUSTOM<span style="color:#66d9ef">:-</span>~/.oh-my-zsh/custom<span style="color:#e6db74">}</span>/plugins/zsh-autosuggestions
</span></span></code></pre></div><hr>
<h4 id="2-zsh-syntax-highlighting-è¯­æ³•é«˜äº®">2. zsh-syntax-highlighting (è¯­æ³•é«˜äº®)<a href="#2-zsh-syntax-highlighting-%e8%af%ad%e6%b3%95%e9%ab%98%e4%ba%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å½“ä½ è¾“å…¥å‘½ä»¤æ—¶ï¼Œæ­£ç¡®çš„å‘½ä»¤æ˜¾ç¤ºç»¿è‰²ï¼Œé”™è¯¯çš„æ˜¾ç¤ºçº¢è‰²ï¼Œè·¯å¾„å¸¦æœ‰ä¸‹åˆ’çº¿ã€‚</p>
<p><a href="https://github.com/zsh-users/zsh-syntax-highlighting">githubç½‘é¡µ</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span style="color:#e6db74">${</span>ZSH_CUSTOM<span style="color:#66d9ef">:-</span>~/.oh-my-zsh/custom<span style="color:#e6db74">}</span>/plugins/zsh-syntax-highlighting
</span></span></code></pre></div><hr>
<h4 id="3-gitå†…ç½®æ’ä»¶">3. gitï¼ˆå†…ç½®æ’ä»¶ï¼‰<a href="#3-git%e5%86%85%e7%bd%ae%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æä¾›gitç®€å†™åˆ«åï¼Œå¹¶æ”¯æŒtabè¡¥å…¨ã€‚</p>
<ul>
<li>å¸¸ç”¨åˆ«åï¼š
<ul>
<li>gstÂ -&gt;Â git status</li>
<li>gcoÂ -&gt;Â git checkout</li>
<li>gcmÂ -&gt;Â git checkout masterÂ (æˆ– main)</li>
<li>gpÂ -&gt;Â git push</li>
<li>glÂ -&gt;Â git pull</li>
</ul>
</li>
</ul>
<hr>
<h4 id="4-zå†…ç½®æ’ä»¶">4. zï¼ˆå†…ç½®æ’ä»¶ï¼‰<a href="#4-z%e5%86%85%e7%bd%ae%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>è®°å½•ä½ è®¿é—®è¿‡çš„ç›®å½•ï¼Œä¹‹ååªéœ€è¾“å…¥ <code>z + ç›®å½•åç‰‡æ®µ</code> å³å¯ç›´æ¥è·³è½¬ï¼Œæ— éœ€è¾“å…¥å®Œæ•´è·¯å¾„ã€‚</p>
<ul>
<li>ç”¨æ³•ï¼š<code>z down</code> (å¯èƒ½ç›´æ¥è·³è½¬åˆ° <code>~/Downloads</code>)</li>
</ul>
<hr>
<h4 id="5-extractå†…ç½®æ’ä»¶">5. extractï¼ˆå†…ç½®æ’ä»¶ï¼‰<a href="#5-extract%e5%86%85%e7%bd%ae%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>é€šç”¨è§£å‹æ’ä»¶ã€‚ä¸éœ€è¦è®°ä½ <code>tar -xvf</code>ã€<code>unzip</code> ç­‰ç¹çå‚æ•°ï¼Œç»Ÿä¸€ä½¿ç”¨ <code>x</code> å‘½ä»¤è§£å‹ä»»ä½•æ ¼å¼çš„å‹ç¼©åŒ…ã€‚</p>
<ul>
<li>ç”¨æ³•ï¼š<code>x filename.tar.gz</code></li>
</ul>
<hr>
<h3 id="å¯ç”¨æ’ä»¶">å¯ç”¨æ’ä»¶<a href="#%e5%90%af%e7%94%a8%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ä¸‹è½½å®Œç¬¬ä¸‰æ–¹æ’ä»¶åï¼Œå¿…é¡»åœ¨ <code>.zshrc</code> æ–‡ä»¶ä¸­é…ç½®æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
<p><strong>1. ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano ~/.zshrc
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æˆ–è€…ä½¿ç”¨ vim ~/.zshrc</span>
</span></span></code></pre></div><p><strong>2. æ‰¾åˆ° <code>plugins=(...)</code> è¿™ä¸€è¡Œï¼Œä¿®æ”¹ä¸ºï¼š</strong>
(æ³¨æ„ï¼šæ’ä»¶åä¹‹é—´ç”¨<strong>ç©ºæ ¼</strong>åˆ†éš”ï¼Œä¸è¦ç”¨é€—å·)ï¼ˆæƒ³ä½¿ç”¨å“ªäº›æ’ä»¶å°±å†™å…¥å“ªäº›æ’ä»¶ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>plugins<span style="color:#f92672">=(</span>
</span></span><span style="display:flex;"><span>    git
</span></span><span style="display:flex;"><span>    z
</span></span><span style="display:flex;"><span>    extract
</span></span><span style="display:flex;"><span>    sudo
</span></span><span style="display:flex;"><span>    web-search
</span></span><span style="display:flex;"><span>    docker
</span></span><span style="display:flex;"><span>    zsh-autosuggestions       <span style="color:#75715e"># ç¬¬ä¸‰æ–¹</span>
</span></span><span style="display:flex;"><span>    zsh-syntax-highlighting   <span style="color:#75715e"># ç¬¬ä¸‰æ–¹ï¼Œå»ºè®®æ”¾åœ¨åˆ—è¡¨æœ€å</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p><strong>3. ä½¿é…ç½®ç”Ÿæ•ˆï¼š</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div><hr>
<h3 id="å¸¸è§ç¾åŒ–æ–¹æ¡ˆ">å¸¸è§ç¾åŒ–æ–¹æ¡ˆ<a href="#%e5%b8%b8%e8%a7%81%e7%be%8e%e5%8c%96%e6%96%b9%e6%a1%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes">å¯è§†åŒ–ä¸»é¢˜ç™¾ç§‘</a></p>
<p>åœ¨<code>~/.zshrc</code>ä¸­æ‰¾åˆ°<code>ZSH_THEME</code>é…ç½®é¡¹ï¼Œå°†å¯¹åº”ä½ç½®çš„ä¸»é¢˜æ”¹ä¸ºä½ ä¸‹è½½çš„ä¸»é¢˜ï¼Œä¹‹å<code>source ~/.zshrc</code>å³å¯å¯ç”¨ã€‚</p>
<hr>
<h4 id="1-powerlevel10k">1. Powerlevel10k<a href="#1-powerlevel10k" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ç›®å‰ç›¸å½“æµè¡Œçš„ä¸»é¢˜ï¼Œé…ç½®æ–¹ä¾¿ï¼Œé«˜åº¦å¯è‡ªå®šä¹‰ã€‚</p>
<p><a href="https://github.com/romkatv/powerlevel10k">githubç½‘é¡µ</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://github.com/romkatv/powerlevel10k.git <span style="color:#e6db74">${</span>ZSH_CUSTOM<span style="color:#66d9ef">:-</span>$HOME/.oh-my-zsh/custom<span style="color:#e6db74">}</span>/themes/powerlevel10k
</span></span></code></pre></div><p>ä¸»é¢˜åï¼š<code>powerlevel10k/powerlevel10k</code></p>
<hr>
<h4 id="2-ys">2. ys<a href="#2-ys" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸»é¢˜ï¼Œéå¸¸ç®€æ´ç¾è§‚ï¼Œå¹¶ä¸”æ˜¯omzçš„å†…ç½®ä¸»é¢˜ã€‚ç›´æ¥å°†ä¸»é¢˜åæ”¹ä¸ºyså³å¯ã€‚</p>
<hr>
<h1 id="é›†æˆå¼é…ç½®è„šæœ¬">é›†æˆå¼é…ç½®è„šæœ¬<a href="#%e9%9b%86%e6%88%90%e5%bc%8f%e9%85%8d%e7%bd%ae%e8%84%9a%e6%9c%ac" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>ä¸€é”®é…ç½®zsh&amp;omzå…¨å¥—ç¯å¢ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ============================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  Zsh + OMZ + Plugins + P10k ä¸€é”®å®‰è£…è„šæœ¬ (å« Termux æ”¯æŒ)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ============================================================</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å®šä¹‰é¢œè‰²</span>
</span></span><span style="display:flex;"><span>RED<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\033[0;31m&#39;</span>
</span></span><span style="display:flex;"><span>GREEN<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\033[0;32m&#39;</span>
</span></span><span style="display:flex;"><span>YELLOW<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\033[0;33m&#39;</span>
</span></span><span style="display:flex;"><span>BLUE<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\033[0;34m&#39;</span>
</span></span><span style="display:flex;"><span>NC<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;\033[0m&#39;</span> <span style="color:#75715e"># No Color</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å®šä¹‰è·¯å¾„</span>
</span></span><span style="display:flex;"><span>OMZ_DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/.oh-my-zsh&#34;</span>
</span></span><span style="display:flex;"><span>ZSH_CUSTOM<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$OMZ_DIR<span style="color:#e6db74">/custom&#34;</span>
</span></span><span style="display:flex;"><span>ZSHRC<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$HOME<span style="color:#e6db74">/.zshrc&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>BLUE<span style="color:#e6db74">}</span><span style="color:#e6db74">&gt;&gt;&gt; å¼€å§‹æ‰§è¡Œé›†æˆå®‰è£…è„šæœ¬...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1. ç¯å¢ƒæ£€æµ‹ä¸è½¯ä»¶å®‰è£…</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>install_packages<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    CMD_UPDATE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ£€æµ‹æ˜¯å¦ä¸º Termux</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -n <span style="color:#e6db74">&#34;</span>$TERMUX_VERSION<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">è¯†åˆ«åˆ° Termux ç¯å¢ƒã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pkg install -y&#34;</span>
</span></span><span style="display:flex;"><span>        CMD_UPDATE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pkg update -y&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Termux é€šå¸¸ä¸éœ€è¦ sudoï¼Œé™¤éå®‰è£…äº† tsuï¼Œä½†å¸¸è§„åŒ…ç®¡ç†ç›´æ¥ç”¨ pkg</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ£€æµ‹ MacOS</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">&#34;</span>$OSTYPE<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;darwin&#34;</span>* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">è¯†åˆ«åˆ° MacOS ç¯å¢ƒã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> command -v brew &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>            CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;brew install&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>RED<span style="color:#e6db74">}</span><span style="color:#e6db74">æœªæ‰¾åˆ° Homebrewï¼Œè¯·å…ˆå®‰è£… Homebrewã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>            exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ£€æµ‹ Linux å‘è¡Œç‰ˆ</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> command -v apt-get &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sudo apt-get install -y&#34;</span>
</span></span><span style="display:flex;"><span>        CMD_UPDATE<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sudo apt-get update&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> command -v yum &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sudo yum install -y&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> command -v dnf &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sudo dnf install -y&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> command -v pacman &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        CMD_INSTALL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sudo pacman -S --noconfirm&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>RED<span style="color:#e6db74">}</span><span style="color:#e6db74">æœªæ‰¾åˆ°æ”¯æŒçš„åŒ…ç®¡ç†å™¨ (pkg/apt/yum/dnf/pacman/brew)ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ›´æ–°æº (ä»… Termux å’Œ Debian/Ubuntu)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -z <span style="color:#e6db74">&#34;</span>$CMD_UPDATE<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;æ­£åœ¨æ›´æ–°è½¯ä»¶æº...&#34;</span>
</span></span><span style="display:flex;"><span>        $CMD_UPDATE
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å®‰è£… git, zsh, curl, vim (vimç”¨äºé˜²æ­¢sedæœ‰æ—¶éœ€è¦ç¼–è¾‘å™¨ç¯å¢ƒ)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Termux åŸºç¡€åŒ…å¯èƒ½ä¸å« vim/nanoï¼Œå»ºè®®å®‰è£…ä¸€ä¸ªç¼–è¾‘å™¨</span>
</span></span><span style="display:flex;"><span>    DEPENDENCIES<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;git zsh curl&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> pkg in $DEPENDENCIES; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ! command -v $pkg &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>            echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨å®‰è£… </span>$pkg<span style="color:#e6db74"> ...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>            $CMD_INSTALL $pkg
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span>$pkg<span style="color:#e6db74"> å·²å®‰è£…ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>install_packages
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. å®‰è£… Oh My Zsh</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -d <span style="color:#e6db74">&#34;</span>$OMZ_DIR<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">Oh My Zsh å·²å®‰è£…ï¼Œè·³è¿‡ä¸‹è½½ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨å®‰è£… Oh My Zsh...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä½¿ç”¨å®˜æ–¹è„šæœ¬</span>
</span></span><span style="display:flex;"><span>    sh -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;&#34;</span> --unattended
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d <span style="color:#e6db74">&#34;</span>$OMZ_DIR<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>RED<span style="color:#e6db74">}</span><span style="color:#e6db74">Oh My Zsh å®‰è£…å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ (Termuxå¯èƒ½éœ€è¦å¼€å¯VPN)ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. ä¸‹è½½æ’ä»¶</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>install_plugin<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    local name<span style="color:#f92672">=</span>$1
</span></span><span style="display:flex;"><span>    local repo<span style="color:#f92672">=</span>$2
</span></span><span style="display:flex;"><span>    local target_dir<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$ZSH_CUSTOM<span style="color:#e6db74">/plugins/</span>$name<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d <span style="color:#e6db74">&#34;</span>$target_dir<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨ä¸‹è½½æ’ä»¶: </span>$name<span style="color:#e6db74"> ...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> $repo $target_dir
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">æ’ä»¶ </span>$name<span style="color:#e6db74"> å·²å­˜åœ¨ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>install_plugin <span style="color:#e6db74">&#34;zsh-autosuggestions&#34;</span> <span style="color:#e6db74">&#34;https://github.com/zsh-users/zsh-autosuggestions&#34;</span>
</span></span><span style="display:flex;"><span>install_plugin <span style="color:#e6db74">&#34;zsh-syntax-highlighting&#34;</span> <span style="color:#e6db74">&#34;https://github.com/zsh-users/zsh-syntax-highlighting.git&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4. ä¸‹è½½ Powerlevel10k ä¸»é¢˜</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>THEME_DIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$ZSH_CUSTOM<span style="color:#e6db74">/themes/powerlevel10k&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d <span style="color:#e6db74">&#34;</span>$THEME_DIR<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨ä¸‹è½½ä¸»é¢˜: Powerlevel10k ...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    git clone --depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> https://github.com/romkatv/powerlevel10k.git $THEME_DIR
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸»é¢˜ Powerlevel10k å·²å­˜åœ¨ã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 5. é…ç½® .zshrc</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨é…ç½® .zshrc ...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¤‡ä»½</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    cp <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>ZSHRC<span style="color:#e6db74">}</span><span style="color:#e6db74">.backup.</span><span style="color:#66d9ef">$(</span>date +%Y%m%d%H%M%S<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¦†ç›–æ¨¡æ¿</span>
</span></span><span style="display:flex;"><span>cp <span style="color:#e6db74">&#34;</span>$OMZ_DIR<span style="color:#e6db74">/templates/zshrc.zsh-template&#34;</span> <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è®¾ç½® sed å‘½ä»¤ (MacOS éœ€è¦ -i &#39;&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">&#34;</span>$OSTYPE<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;darwin&#34;</span>* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    SED_CMD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sed -i &#39;&#39;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    SED_CMD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sed -i&#34;</span> <span style="color:#75715e"># Linux &amp; Termux</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¿®æ”¹ä¸»é¢˜</span>
</span></span><span style="display:flex;"><span>$SED_CMD <span style="color:#e6db74">&#39;s/^ZSH_THEME=&#34;.*&#34;/ZSH_THEME=&#34;powerlevel10k\/powerlevel10k&#34;/&#39;</span> <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä¿®æ”¹æ’ä»¶</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># æ³¨æ„ï¼šTermux ç¯å¢ƒä¸‹ docker æ’ä»¶é€šå¸¸æ— æ•ˆï¼Œä½†ä¿ç•™ä¹Ÿä¸ä¼šæŠ¥é”™</span>
</span></span><span style="display:flex;"><span>NEW_PLUGINS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;plugins=(git z extract web-search zsh-autosuggestions zsh-syntax-highlighting)&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¦‚æœä¸æ˜¯ MacOS ä¸”ä¸æ˜¯ Termux (å³æ™®é€š Linux æœåŠ¡å™¨)ï¼ŒåŠ ä¸Š sudo æ’ä»¶</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Termux é»˜è®¤æ²¡ sudoï¼ŒåŠ ä¸Šä¼šæŠ¥é”™ï¼›MacOS ä¹Ÿä¸å¸¸ç”¨ sudo æ’ä»¶</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> -z <span style="color:#e6db74">&#34;</span>$TERMUX_VERSION<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[[</span> <span style="color:#e6db74">&#34;</span>$OSTYPE<span style="color:#e6db74">&#34;</span> !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;darwin&#34;</span>* <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>     NEW_PLUGINS<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;plugins=(git z extract sudo web-search docker zsh-autosuggestions zsh-syntax-highlighting)&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$SED_CMD <span style="color:#e6db74">&#34;s/^plugins=(git)/</span>$NEW_PLUGINS<span style="color:#e6db74">/&#34;</span> <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å…œåº•æ£€æŸ¥</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ! grep -q <span style="color:#e6db74">&#34;zsh-autosuggestions&#34;</span> <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;\n</span>$NEW_PLUGINS<span style="color:#e6db74">&#34;</span> &gt;&gt; <span style="color:#e6db74">&#34;</span>$ZSHRC<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">.zshrc é…ç½®å®Œæˆï¼</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 6. è®¾ç½®é»˜è®¤ Shell</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>CURRENT_SHELL<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$SHELL<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$CURRENT_SHELL<span style="color:#e6db74">&#34;</span> !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;zsh&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">æ­£åœ¨è®¾ç½® zsh ä¸ºé»˜è®¤ Shell...</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> command -v chsh &amp;&gt; /dev/null; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        chsh -s <span style="color:#66d9ef">$(</span>which zsh<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>RED<span style="color:#e6db74">}</span><span style="color:#e6db74">æ— æ³•è‡ªåŠ¨ä¿®æ”¹é»˜è®¤ Shellï¼Œè¯·æ‰‹åŠ¨æ‰§è¡Œ: chsh -s zsh</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">å½“å‰ Shell å·²ç»æ˜¯ Zshã€‚</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 7. ç»“æŸ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -----------------------------------------------------------</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\n</span><span style="color:#e6db74">${</span>BLUE<span style="color:#e6db74">}</span><span style="color:#e6db74">==============================================</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>GREEN<span style="color:#e6db74">}</span><span style="color:#e6db74">  Termux / Linux / Mac ç¯å¢ƒå®‰è£…å®Œæˆï¼</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>BLUE<span style="color:#e6db74">}</span><span style="color:#e6db74">==============================================</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;è¯·æ‰§è¡Œ: </span><span style="color:#e6db74">${</span>YELLOW<span style="color:#e6db74">}</span><span style="color:#e6db74">exec zsh</span><span style="color:#e6db74">${</span>NC<span style="color:#e6db74">}</span><span style="color:#e6db74"> æˆ–é‡å¯ Termux ä»¥ç”Ÿæ•ˆã€‚&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;Powerlevel10k é…ç½®å‘å¯¼å°†åœ¨é¦–æ¬¡è¿›å…¥ zsh æ—¶å¯åŠ¨ã€‚&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;\nğŸ’¡ Termux æç¤º: å¦‚æœå›¾æ ‡æ˜¾ç¤ºä¹±ç ï¼Œè¯·é•¿æŒ‰ Termux ç•Œé¢ -&gt; More -&gt; Style -&gt; Font&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;   å¹¶é€‰æ‹©ä¸€æ¬¾ Nerd Font (æ¨è MesloLGS NF)ã€‚&#34;</span>
</span></span><span style="display:flex;"><span>echo -e <span style="color:#e6db74">&#34;==============================================\n&#34;</span>
</span></span></code></pre></div><p>è¿™ä¸ªè„šæœ¬æ˜¯aiå†™çš„ã€‚ä¸è¿‡è¿™ä¸é‡è¦ï¼Œå¥½ç”¨å°±è¡Œã€‚</p>
<p>ç†è®ºä¸Šè¿™æ®µè„šæœ¬å…·æœ‰ä¸€å®šçš„å¥å£®æ€§ï¼Œå¯¹äºå¤šæ•°çš„linuxå‘è¡Œç‰ˆã€macosï¼Œä¹ƒè‡³termuxï¼Œè¿™æ®µè„šæœ¬æŒ‰ç†éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä¸è¿‡æˆ‘æ²¡æµ‹è¯•è¿‡ã€‚</p>
<hr>
<h3 id="å¦‚ä½•ä½¿ç”¨">å¦‚ä½•ä½¿ç”¨?<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<ol>
<li>å°†è¿™ä¸ªè„šæœ¬å†™å…¥<code>xx.sh</code>ä¸­ã€‚xxå¯ä»¥æ˜¯ä»»æ„åå­—ï¼Œæ¯”å¦‚<code>install_zsh.sh</code>ã€‚</li>
<li><code>chmod +x xx.sh</code>ï¼Œè¾“å…¥è¿™ä¸ªæŒ‡ä»¤ä¸ºè„šæœ¬èµ‹æƒã€‚</li>
<li>åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œè¿™ä¸ª.shæ–‡ä»¶ï¼Œå³è¾“å…¥<code>./xx.sh</code>ã€‚è„šæœ¬å°±å¼€å§‹å·¥ä½œäº†ã€‚</li>
</ol>
]]></content>
		</item>
		
		<item>
			<title>Tritonè‡ªå­¦æ—¥å¿— 02FusedSoftmax</title>
			<link>http://localhost:1313/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-02softmax/</link>
			<pubDate>Wed, 10 Dec 2025 08:33:43 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-02softmax/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h1 id="èåˆ-softmax-fused-softmax">èåˆ Softmax ï¼ˆFused Softmaxï¼‰<a href="#%e8%9e%8d%e5%90%88-softmax-fused-softmax" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Triton ç¼–å†™ä¸€ä¸ªèåˆçš„ softmax æ“ä½œçš„ç¨‹åºã€‚
åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå­¦ä¹ åˆ°ï¼š</p>
<ul>
<li>å†…æ ¸èåˆå¯¹äºå¸¦å®½å—é™æ“ä½œçš„ä¼˜åŠ¿ã€‚</li>
<li>Triton ä¸­ç¼©å‡æ“ä½œã€‚</li>
</ul>
<h2 id="ä½¿ç”¨åŸç”Ÿ-pytorch-å¯¹-x-é€è¡Œè¿›è¡Œ-softmax-è®¡ç®—">ä½¿ç”¨åŸç”Ÿ PyTorch å¯¹ X é€è¡Œè¿›è¡Œ Softmax è®¡ç®—<a href="#%e4%bd%bf%e7%94%a8%e5%8e%9f%e7%94%9f-pytorch-%e5%af%b9-x-%e9%80%90%e8%a1%8c%e8%bf%9b%e8%a1%8c-softmax-%e8%ae%a1%e7%ae%97" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch_npu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton.language <span style="color:#66d9ef">as</span> tl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">naive_softmax</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    æˆ‘ä»¬å‡å»æœ€å¤§å…ƒç´ ä»¥é¿å…æº¢å‡ºã€‚Softmax å¯¹äºè¿™ç§åç§»æ˜¯ä¸å˜çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯»å– MN ä¸ªå…ƒç´ ï¼›å†™å…¥ M ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    x_max <span style="color:#f92672">=</span> x<span style="color:#f92672">.</span>max(dim<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯»å– MN + M ä¸ªå…ƒç´ ï¼›å†™å…¥ MN ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> x <span style="color:#f92672">-</span> x_max[:, <span style="color:#66d9ef">None</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯»å– MN ä¸ªå…ƒç´ ï¼›å†™å…¥ MN ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    numerator <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>exp(z)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯»å– MN ä¸ªå…ƒç´ ï¼›å†™å…¥ M ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    denominator <span style="color:#f92672">=</span> numerator<span style="color:#f92672">.</span>sum(dim<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯»å– MN + M ä¸ªå…ƒç´ ï¼›å†™å…¥ MN ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> numerator <span style="color:#f92672">/</span> denominator[:, <span style="color:#66d9ef">None</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ€»è®¡ï¼šè¯»å– 5MN + 2M ä¸ªå…ƒç´ ï¼›å†™å…¥ 3MN + 2M ä¸ªå…ƒç´ </span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ret
</span></span></code></pre></div><h3 id="ä»€ä¹ˆæ˜¯softmax">ä»€ä¹ˆæ˜¯&quot;Softmax&quot;ï¼Ÿ<a href="#%e4%bb%80%e4%b9%88%e6%98%afsoftmax" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨å¤§æ¨¡å‹å¼€å‘ä¸­ï¼Œsoftmaxæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç®—æ³•ã€‚å®ƒçš„ä½œç”¨æ˜¯æŠŠç»å¯¹çš„åˆ†æ•°è½¬åŒ–ä¸ºç›¸å¯¹æ¦‚ç‡ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚æŸæ®µå¯¹è¯ä¸­ï¼Œå¤§æ¨¡å‹å¯¹ä¸‹ä¸€ä¸ªåº”è¯¥åå‡ºçš„å­—ï¼Œå¿ƒé‡Œç»è¿‡è®¡ç®—å¾—åˆ°åº”è¯¥ä¸º<code>çŒ«</code>ã€<code>ç‹—</code>ã€<code>çŒª</code>ï¼Œåˆ†æ•°åˆ†åˆ«ä¸º10åˆ†ï¼Œ5åˆ†ï¼Œ20åˆ†ã€‚å¤§æ¨¡å‹éœ€è¦åœ¨è¿™ä¸‰ä¸ªå­—ä¹‹é—´æ‘‡éª°å­é€‰å‡ºä¸€ä¸ªã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦å°†åˆ†æ•°è½¬åŒ–ä¸ºå¯¹åº”çš„æ¦‚ç‡ã€‚</p>
<p>å°†åˆ†æ•°è½¬åŒ–ä¸ºæ¦‚ç‡çš„æ–¹æ³•å¯ä»¥æœ‰å¾ˆå¤šç§ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æ‰€é‡‡ç”¨çš„æ–¹å¼æ˜¯ï¼šä»¥æ¯ä¸ªå…ƒç´ åˆ†æ•°çš„æŒ‡æ•°ä¸ºæƒé‡å†³å®šæœ€åæ¦‚ç‡ã€‚æˆ‘ä»¬å…ˆæ±‚å¾—æ¯ä¸ªå…ƒç´ çš„eæŒ‡æ•°ï¼Œä¹‹åå¯¹eæŒ‡æ•°æ±‚å’Œï¼Œç„¶åè®¡ç®—æ¯ä¸ªå…ƒç´ eæŒ‡æ•°ä¸æ€»å’Œçš„æ¯”å€¼ï¼Œæœ€åå¾—åˆ°æ¦‚ç‡ã€‚é€šè¿‡eæŒ‡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ‹‰å¤§å·®è·ï¼Œè®©æœ€é«˜åˆ†è€…æœ‰æ›´å¤§çš„å¯èƒ½æˆä¸ºç­”æ¡ˆï¼ŒåŒæ—¶ä¿ç•™å…¶ä»–å…ƒç´ å‡ºç°çš„å¯èƒ½ã€‚x-x_maxçš„ä½œç”¨æ˜¯é˜²æ­¢eæŒ‡æ•°ç®—å‡ºæ¥ç»“æœè¿‡å¤§å¯¼è‡´æº¢å‡ºã€‚æ ¹æ®æ•°å­¦æ¨å¯¼ï¼Œå¯ä»¥å¾—çŸ¥è¿™é‡Œé‡‡ç”¨xå’Œx-x_maxè®¡ç®—å¾—åˆ°çš„æ¦‚ç‡æ˜¯ç›¸åŒçš„ã€‚</p>
<hr>
<h3 id="å†…æ ¸èåˆçš„ç›®çš„">å†…æ ¸èåˆçš„ç›®çš„<a href="#%e5%86%85%e6%a0%b8%e8%9e%8d%e5%90%88%e7%9a%84%e7%9b%ae%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å½“åœ¨ PyTorch ä¸­ä»¥åŸç”Ÿæ–¹å¼å®ç°æ—¶ï¼Œè®¡ç®—<code>y=naive_softmax(x)</code>éœ€è¦ä» DRAM ä¸­è¯»å– 5MN+2M ä¸ªå…ƒç´ ï¼Œå¹¶å†™å› 3MN+2M ä¸ªå…ƒç´ ã€‚æ˜¾ç„¶è¿™æ˜¯éå¸¸ä½æ•ˆçš„ï¼›æˆ‘ä»¬æ›´å¸Œæœ›ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„â€œèåˆâ€å†…æ ¸ï¼Œå®ƒåªéœ€è¯»å–ä¸€æ¬¡ Xï¼Œå¹¶åœ¨èŠ¯ç‰‡ä¸Šå®Œæˆæ‰€æœ‰å¿…è¦çš„è®¡ç®—ã€‚
è¿™æ ·ä¸€æ¥åªéœ€è¯»å–å’Œå†™å› 2MN ä¸ªå­—èŠ‚ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æœŸæœ›ç†è®ºä¸Šçš„åŠ é€Ÿæ¯”å¤§çº¦ä¸º 4 å€ï¼ˆå³ (8MN+4M)/2MNï¼‰ã€‚</p>
<p><code>torch.jit.script</code>æ—¨åœ¨è‡ªåŠ¨æ‰§è¡Œè¿™ç§â€œå†…æ ¸èåˆâ€ï¼Œä½†å®ƒä»ç„¶è¿œæœªè¾¾åˆ°ç†æƒ³çŠ¶æ€ã€‚</p>
<h4 id="dram">DRAM<a href="#dram" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ˜¾å­˜ã€‚åœ¨tritonç®—å­å¼€å‘çš„è¯­å¢ƒä¸‹ï¼Œå†…å­˜æœ‰ç€ä¸¥å¯†çš„<strong>å±‚çº§</strong>å…³ç³»ã€‚ä¸åŒå±‚çº§çš„å†…å­˜æœ‰ç€ä¸åŒçš„åŠŸèƒ½ã€‚å…¶ä¸­DRAMå³æ˜¾å­˜çš„åœ°ä½ç±»ä¼¼æ€»ä»“åº“ï¼Œé€šå¸¸æœ‰å‡ åä¸ªGï¼Œä½†æ˜¯åºå¤§çš„å­˜å‚¨ç©ºé—´å¯¹åº”çš„ä»£ä»·æ˜¯ææ…¢çš„è¯»å†™é€Ÿåº¦ã€‚torchåŸç”Ÿè¯­å¥å‡ºäºé€šç”¨æ€§è€ƒè™‘ï¼Œæ¯æ¬¡è¯»å†™éƒ½ä»¥DRAMä¸ºå¯¹è±¡ï¼Œä½†æ˜¯åœ¨ä¸€äº›å¤æ‚çš„æ“ä½œä¸­å°±ä¼šä½¿å¾—å‡ºç°è¿‡å¤šç†è®ºä¸Šä¸å¿…è¦çš„è¯»å†™æ“ä½œã€‚tritonç®—å­æé«˜æ€§èƒ½çš„æœ¬è´¨ä¹Ÿå°±æ˜¯å°†å¯¹DRAMçš„è¯»å†™æ“ä½œå‹ç¼©åˆ°æœ€å°‘ã€‚</p>
<p>é™¤äº†DRAMï¼Œtritonç®—å­å¼€å‘ä¸­è¿˜æœ‰ä¸€ä¸ªç›¸å½“é‡è¦çš„æ¦‚å¿µå°±æ˜¯SRAMï¼Œå³å…±äº«å†…å­˜ã€‚è¿™å°±æ˜¯tritonè¯­å¥ä¸­é»˜è®¤çš„è¯»å†™ä½ç½®ã€‚tritonç¼–è¯‘å™¨ä¼šå¸®ä½ è‡ªåŠ¨ç®¡ç†è¿™ä¸ªå±‚çº§çš„å†…å­˜ï¼Œè€Œè¿™ä¸ªå±‚çº§çš„ç‰¹ç‚¹å°±æ˜¯è™½ç„¶ç©ºé—´å¾ˆå°ï¼Œä½†æ˜¯è¯»å†™é€Ÿåº¦å¾ˆå¿«ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„tritonç®—å­å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>tl.load</code>æ¥ä»DRAMä¸­æ‹‰å–æ•°æ®ï¼Œå¹¶é€šè¿‡<code>tl.store</code>æ¥å°†æ•°æ®å†™å…¥DRAMã€‚å…¶ä½™çš„å˜é‡æ“ä½œæœ¬è´¨éƒ½æ˜¯åœ¨SRAMå’Œå¯„å­˜å™¨ä¸­æ“ä½œã€‚</p>
<hr>
<h2 id="è®¡ç®—å†…æ ¸">è®¡ç®—å†…æ ¸<a href="#%e8%ae%a1%e7%ae%97%e5%86%85%e6%a0%b8" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>softmax å†…æ ¸å·¥ä½œåŸç†å¦‚ä¸‹ï¼šæ¯ä¸ªè®¡ç®—å•å…ƒï¼ˆprogramï¼‰ä»¥ç¨‹åºæ•°é‡ä¸ºè·¨åº¦åŠ è½½è¾“å…¥çŸ©é˜µXçš„ä¸€ç»„è¡Œæ•°æ®ï¼Œæ‰§è¡Œå½’ä¸€åŒ–å¤„ç†åï¼Œå°†ç»“æœå†™å…¥è¾“å‡ºçŸ©é˜µYã€‚
æ³¨æ„ï¼šTriton çš„ä¸€ä¸ªé‡è¦é™åˆ¶æ˜¯æ¯ä¸ªå—å¿…é¡»å…·æœ‰ 2 çš„å¹‚æ¬¡æ•°çš„å…ƒç´ ï¼Œå› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è¦å¤„ç†ä»»æ„å¯èƒ½çš„è¾“å…¥å½¢çŠ¶ï¼Œéœ€è¦åœ¨å†…éƒ¨ã€Œå¡«å……ã€æ¯ä¸€è¡Œï¼Œå¹¶é€‚å½“ä¿æŠ¤å†…å­˜æ“ä½œã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#a6e22e">@triton.jit</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">softmax_kernel</span>(output_ptr, input_ptr, input_row_stride, output_row_stride, n_rows, n_cols, BLOCK_SIZE: tl<span style="color:#f92672">.</span>constexpr):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ç¨‹åºèµ·å§‹è¡Œ</span>
</span></span><span style="display:flex;"><span>    row_start <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>program_id(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    row_step <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>num_programs(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> row_idx <span style="color:#f92672">in</span> tl<span style="color:#f92672">.</span>range(row_start, n_rows, row_step):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># æ­¥é•¿è¡¨ç¤ºæˆ‘ä»¬éœ€è¦å¯¹æŒ‡é’ˆå¢åŠ å¤šå°‘ä»¥æ¨è¿› 1 è¡Œ</span>
</span></span><span style="display:flex;"><span>        row_start_ptr <span style="color:#f92672">=</span> input_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> input_row_stride
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># å—å¤§å°æ˜¯å¤§äº n_cols çš„ä¸‹ä¸€ä¸ªäºŒçš„å¹‚ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€‚é…</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># å•ä¸ªå—ä¸­çš„è¡Œ</span>
</span></span><span style="display:flex;"><span>        col_offsets <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, BLOCK_SIZE)
</span></span><span style="display:flex;"><span>        input_ptrs <span style="color:#f92672">=</span> row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># å°†è¡ŒåŠ è½½åˆ° SRAM ä¸­ï¼Œä½¿ç”¨æ©ç ï¼Œå› ä¸º BLOCK_SIZE å¯èƒ½å¤§äº n_cols</span>
</span></span><span style="display:flex;"><span>        mask <span style="color:#f92672">=</span> col_offsets <span style="color:#f92672">&lt;</span> n_cols
</span></span><span style="display:flex;"><span>        row <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(input_ptrs, mask<span style="color:#f92672">=</span>mask, other<span style="color:#f92672">=-</span>float(<span style="color:#e6db74">&#39;inf&#39;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ä¸ºäº†æ•°å€¼ç¨³å®šæ€§è€Œå‡å»æœ€å¤§å€¼</span>
</span></span><span style="display:flex;"><span>        row_minus_max <span style="color:#f92672">=</span> row <span style="color:#f92672">-</span> tl<span style="color:#f92672">.</span>max(row, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># è¯·æ³¨æ„ï¼ŒTriton ä¸­çš„æŒ‡æ•°è¿ç®—é€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯æ˜¯è¿‘ä¼¼çš„ã€‚</span>
</span></span><span style="display:flex;"><span>        numerator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>exp(row_minus_max)
</span></span><span style="display:flex;"><span>        denominator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>sum(numerator, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        softmax_output <span style="color:#f92672">=</span> numerator <span style="color:#f92672">/</span> denominator
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># å°†è¾“å‡ºå†™å› DRAM</span>
</span></span><span style="display:flex;"><span>        output_row_start_ptr <span style="color:#f92672">=</span> output_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> output_row_stride
</span></span><span style="display:flex;"><span>        output_ptrs <span style="color:#f92672">=</span> output_row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>        tl<span style="color:#f92672">.</span>store(output_ptrs, softmax_output, mask<span style="color:#f92672">=</span>mask)
</span></span></code></pre></div><h3 id="è¿™æ®µä»£ç åšäº†ä»€ä¹ˆäº‹æƒ…">è¿™æ®µä»£ç åšäº†ä»€ä¹ˆäº‹æƒ…ï¼Ÿ<a href="#%e8%bf%99%e6%ae%b5%e4%bb%a3%e7%a0%81%e5%81%9a%e4%ba%86%e4%bb%80%e4%b9%88%e4%ba%8b%e6%83%85" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æˆ‘ä»¬åœ¨å‰æ–‡ä¸­è°ˆåˆ°äº†èåˆç®—å­æé«˜æ€§èƒ½çš„æ‰‹æ®µæ˜¯åªè¯»å–ä¸€æ¬¡DRAMçš„æ•°æ®ï¼Œä¸­é—´çš„è®¡ç®—è¿‡ç¨‹å…¨éƒ¨æ”¾åœ¨SRAMä¸­è¿›è¡Œã€‚ä½†æ˜¯å¯¹äºæ€ä¹ˆå®ç°çš„æˆ‘ä»¬å°šä¸å¾—è€ŒçŸ¥ã€‚è¿™æ®µä»£ç å°±æ˜¯â€œæ•™ç§‘ä¹¦çº§åˆ«â€çš„Triton Fused Softmaxå®ç°æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¬æ¥åˆ†å—è§£è¯»è¿™æ®µä»£ç ï¼š</p>
<hr>
<h4 id="åˆ†é…ä»»åŠ¡">åˆ†é…ä»»åŠ¡<a href="#%e5%88%86%e9%85%8d%e4%bb%bb%e5%8a%a1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>row_start <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>program_id(<span style="color:#ae81ff">0</span>)      <span style="color:#75715e"># æˆ‘æ˜¯ç¬¬å‡ å·å·¥äººï¼ˆPIDï¼‰</span>
</span></span><span style="display:flex;"><span>row_step <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>num_programs(<span style="color:#ae81ff">0</span>)     <span style="color:#75715e"># æ€»å…±æœ‰å¤šå°‘ä¸ªå·¥äººï¼ˆGrid Sizeï¼‰</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> row_idx <span style="color:#f92672">in</span> tl<span style="color:#f92672">.</span>range(row_start, n_rows, row_step):
</span></span></code></pre></div><p><code>tl.program_id(0)</code>è¡¨ç¤ºçš„å°±æ˜¯å½“å‰æ ¸å¿ƒè¢«åˆ†é…åˆ°çš„ç›®æ ‡ç¨‹åºidï¼Œ<code>tl.num_programs(0)</code>åˆ™æ˜¯æ€»å…±çš„ç¨‹åºæ•°ã€‚è®©è¡Œæ­¥é•¿è®¾ç½®ä¸ºç¨‹åºæ•°ï¼Œç›®çš„å°±æ˜¯è®©éå†æ‰€æœ‰è¡Œçš„æ—¶å€™ä¸åŒç¨‹åºè¿›ç¨‹ä¸ä¼šç›¸äº’å†²çªã€‚éšåä½¿ç”¨forå¾ªç¯éå†æ‰€æœ‰çš„ä»<code>row_start</code>åˆ°<code>n_rows</code>ä¹‹é—´æ­¥é•¿ä¸º<code>row_step</code>çš„è¡Œã€‚</p>
<p>æ¯”å¦‚ï¼Œå‡å¦‚æœ‰1000è¡Œæ•°æ®ï¼Œä½†æ˜¯æ€»å…±åªæœ‰nä¸ªå·¥äººï¼Œç¬¬iä¸ªå·¥äººå°±åº”è¯¥å»å¤„ç†ç¬¬<code>n * k + i</code>ä¸ªæ•°æ®ï¼Œè¿™æ ·ä¸åŒå·¥äººä¹‹é—´å¤„ç†çš„æ•°æ®æ‰ä¸ä¼šç›¸äº’é‡å ã€‚</p>
<hr>
<h4 id="è·å–æ•°æ®">è·å–æ•°æ®<a href="#%e8%8e%b7%e5%8f%96%e6%95%b0%e6%8d%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ç®—å‡ºè¿™ä¸€è¡Œåœ¨å†…å­˜é‡Œçš„èµ·å§‹åœ°å€</span>
</span></span><span style="display:flex;"><span>row_start_ptr <span style="color:#f92672">=</span> input_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> input_row_stride
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ¶é€ ä¸€ä¸ª [0, 1, ..., BLOCK_SIZE-1] çš„ç´¢å¼•æ¡</span>
</span></span><span style="display:flex;"><span>col_offsets <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, BLOCK_SIZE)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç®—å‡ºè¿™ä¸€è¡Œæ¯ä¸ªå…ƒç´ å…·ä½“çš„å†…å­˜åœ°å€</span>
</span></span><span style="display:flex;"><span>input_ptrs <span style="color:#f92672">=</span> row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ¶ä½œæ©ç ï¼šåªä¿ç•™çœŸå®æ•°æ®é•¿åº¦ä»¥å†…çš„éƒ¨åˆ†</span>
</span></span><span style="display:flex;"><span>mask <span style="color:#f92672">=</span> col_offsets <span style="color:#f92672">&lt;</span> n_cols
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ã€å…³é”®åŠ¨ä½œã€‘ä» HBM åŠ è½½åˆ° SRAM</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># other=-inf æ˜¯ä¸ºäº†é˜²æ­¢å¡«å……éƒ¨åˆ†çš„ 0 å¹²æ‰°æ±‚ Maxï¼ˆå¦‚æœæ˜¯ 0 å¯èƒ½ä¼šå˜æˆæœ€å¤§å€¼ï¼‰</span>
</span></span><span style="display:flex;"><span>row <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(input_ptrs, mask<span style="color:#f92672">=</span>mask, other<span style="color:#f92672">=-</span>float(<span style="color:#e6db74">&#39;inf&#39;</span>))
</span></span></code></pre></div><p>å‰é¢ä¸‰è¡Œä»£ç çš„ä½œç”¨å°±æ˜¯ç›´æ¥ç”Ÿæˆä¸€ä¸ªå¯ä»¥è¦†ç›–æ•´ä¸ªè¡Œçš„å†…å­˜åœ°å€å‘é‡ã€‚è™½ç„¶æˆ‘ä»¬æ„Ÿè§‰è¦å¤„ç†çš„æ•°æ®ä¼¼ä¹æ˜¯å‘ˆäºŒç»´æ’å¸ƒçš„ï¼Œä½†æ˜¯åœ¨å†…å­˜ä¸­çš„çœŸå®æƒ…å†µæ˜¯æ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯çº¿æ€§æ’å¸ƒçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ¯ä¸€è¡Œçš„èµ·å§‹åœ°å€åŠ ä¸Šåç§»é‡å‘é‡å¾—åˆ°è¿™ä¸€è¡Œæ¯ä¸ªå…ƒç´ çš„åœ°å€ç»„æˆçš„å‘é‡ã€‚</p>
<p>åœ¨è¿™è¡Œä»£ç ä¸­ï¼Œ<code>input_row_stride</code>æœ¬è´¨ä¸Šå°±ä»£è¡¨äº†ä½ ä¸€è¡Œå…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<p>ä½†æ˜¯è¿™æ—¶ï¼Œæœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„é—®é¢˜å°±æ˜¯ï¼ŒBLOCK_SIZEçš„å¤§å°åªèƒ½æ˜¯2çš„æ•´æ•°æ¬¡å¹‚ã€‚ä¸ºäº†èƒ½è®©æ ¸å¿ƒä¸€ä¸ªä»»åŠ¡å°±èƒ½å¤„ç†ä¸€è¡Œæ•°æ®ï¼Œå¹¶ä¸”è¿‡ç¨‹ä¸­ä¸å­˜åœ¨å†…å­˜è¶Šç•Œçš„æƒ…å†µï¼Œæˆ‘ä»¬å¼•å…¥â€œæ©ç â€çš„æ¦‚å¿µã€‚å°†<code>mask</code>èµ‹å€¼ä¸ºä¸€ä¸ªå¸ƒå°”å‘é‡ï¼Œå¯¹åº”ä½ç½®åœ¨æˆ‘ä»¬ç›®æ ‡èŒƒå›´å†…çš„å…ƒç´ ä¸ºtrueï¼Œåä¹‹ä¸ºfalseã€‚è¿™æ ·ï¼Œæ ¹æ®maskå†è°ƒç”¨tl.loadå‡½æ•°æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°è¿™ä¸€æ•´è¡Œçš„æ•°æ®ã€‚</p>
<hr>
<h3 id="è®¡ç®—æ•°æ®">è®¡ç®—æ•°æ®<a href="#%e8%ae%a1%e7%ae%97%e6%95%b0%e6%8d%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 1. æ‰¾æœ€å¤§å€¼ (åªè¯» SRAM)</span>
</span></span><span style="display:flex;"><span>row_minus_max <span style="color:#f92672">=</span> row <span style="color:#f92672">-</span> tl<span style="color:#f92672">.</span>max(row, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2. ç®—æŒ‡æ•° (åªè¯» SRAM)</span>
</span></span><span style="display:flex;"><span>numerator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>exp(row_minus_max)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 3. æ±‚å’Œ (åªè¯» SRAM)</span>
</span></span><span style="display:flex;"><span>denominator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>sum(numerator, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 4. ç®—é™¤æ³• (åªè¯» SRAM)</span>
</span></span><span style="display:flex;"><span>softmax_output <span style="color:#f92672">=</span> numerator <span style="color:#f92672">/</span> denominator
</span></span></code></pre></div><p>è¿™é‡Œå¤§é‡ä½¿ç”¨äº†æ•°æ®ç§‘å­¦åº“å¸¸è§çš„å¹¿æ’­æœºåˆ¶ï¼Œæœ€åå®ç°çš„æ•ˆæœå’Œpytorchä¸­çš„åŸç”Ÿä»£ç æ•ˆæœä¸€è‡´ï¼Œåªä¸è¿‡è®¡ç®—è¿‡ç¨‹å‘ç”Ÿåœ¨SRAMå½“ä¸­ã€‚</p>
<hr>
<h3 id="å†™å…¥æ•°æ®">å†™å…¥æ•°æ®<a href="#%e5%86%99%e5%85%a5%e6%95%b0%e6%8d%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ç®—å‡ºè¾“å‡ºçš„å†…å­˜åœ°å€</span>
</span></span><span style="display:flex;"><span>output_row_start_ptr <span style="color:#f92672">=</span> output_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> output_row_stride
</span></span><span style="display:flex;"><span>output_ptrs <span style="color:#f92672">=</span> output_row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ã€å…³é”®åŠ¨ä½œã€‘ä» SRAM å†™å› HBM</span>
</span></span><span style="display:flex;"><span>tl<span style="color:#f92672">.</span>store(output_ptrs, softmax_output, mask<span style="color:#f92672">=</span>mask)
</span></span></code></pre></div><p>ç›´åˆ°æœ€åä¸€æ­¥å†æŠŠæ•°æ®å†™å…¥DRAMå½“ä¸­ã€‚å®Œæˆæ•´ä¸ªkernelè¿ç®—ã€‚</p>
<hr>
<h1 id="è¾…åŠ©å‡½æ•°">è¾…åŠ©å‡½æ•°<a href="#%e8%be%85%e5%8a%a9%e5%87%bd%e6%95%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œè¯¥å‡½æ•°èƒ½å¤Ÿå°†æ ¸å‡½æ•°åŠå…¶å…ƒå‚æ•°åŠ å…¥æ‰§è¡Œé˜Ÿåˆ—ï¼Œä»¥å¤„ç†ä»»æ„ç»™å®šçš„è¾“å…¥å¼ é‡ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>target <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>runtime<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>active<span style="color:#f92672">.</span>get_current_target()
</span></span><span style="display:flex;"><span>kernels <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">softmax</span>(x, stream):
</span></span><span style="display:flex;"><span>    n_rows, n_cols <span style="color:#f92672">=</span> x<span style="color:#f92672">.</span>shape
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ¯æ¬¡å¾ªç¯è¿­ä»£çš„å—å¤§å°æ˜¯å¤§äºæˆ–ç­‰äº`x`åˆ—æ•°çš„æœ€å°äºŒçš„å¹‚</span>
</span></span><span style="display:flex;"><span>    BLOCK_SIZE <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>next_power_of_2(n_cols)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># åˆ†é…è¾“å‡ºç©ºé—´</span>
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>empty_like(x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># é¢„ç¼–è¯‘å†…æ ¸ä»¥è·å–å¯„å­˜å™¨ä½¿ç”¨æƒ…å†µå¹¶è®¡ç®—çº¿ç¨‹å ç”¨æƒ…å†µã€‚</span>
</span></span><span style="display:flex;"><span>    kernel, num_programs <span style="color:#f92672">=</span> kernels<span style="color:#f92672">.</span>get(BLOCK_SIZE, (<span style="color:#66d9ef">None</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> kernel <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        num_programs <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span>        kernel <span style="color:#f92672">=</span> softmax_kernel
</span></span><span style="display:flex;"><span>        kernels[BLOCK_SIZE] <span style="color:#f92672">=</span> (kernel, num_programs)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    num_programs <span style="color:#f92672">=</span> min(num_programs, n_rows)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    kernel[(num_programs, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)](
</span></span><span style="display:flex;"><span>        y,
</span></span><span style="display:flex;"><span>        x,
</span></span><span style="display:flex;"><span>        x<span style="color:#f92672">.</span>stride(<span style="color:#ae81ff">0</span>),
</span></span><span style="display:flex;"><span>        y<span style="color:#f92672">.</span>stride(<span style="color:#ae81ff">0</span>),
</span></span><span style="display:flex;"><span>        n_rows,
</span></span><span style="display:flex;"><span>        n_cols,
</span></span><span style="display:flex;"><span>        BLOCK_SIZE
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> y
</span></span></code></pre></div><p>è¿™æ®µä»£ç æœ‰å‡ ä¸ªç›¸å¯¹ä¸å¤ªå®¹æ˜“ç†è§£çš„æœºåˆ¶ã€‚ä¸‹é¢æˆ‘æ¥ä¸€ä¸€è§£ç­”ã€‚</p>
<h3 id="q1å‡½æ•°å¤–çš„targetkernelsçš„ä½œç”¨æ˜¯ä»€ä¹ˆ">Q1ï¼šå‡½æ•°å¤–çš„targetã€kernelsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<a href="#q1%e5%87%bd%e6%95%b0%e5%a4%96%e7%9a%84targetkernels%e7%9a%84%e4%bd%9c%e7%94%a8%e6%98%af%e4%bb%80%e4%b9%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>kernels = {}</code>æ³¨æ„è¿™ç§å†™æ³•åœ¨pythonä¸­ä»£è¡¨ç€åˆ›å»ºä¸€ä¸ªå­—å…¸ã€‚å®ƒä¸æ˜¯ä»€ä¹ˆtritonä¸­ç‰¹æœ‰çš„è¯­æ³•ã€‚åœ¨æœ¬ä»£ç ä¸­ï¼Œkernelså­—å…¸çš„keyä¸ºBLOCK_SIZEï¼Œå³ä»»åŠ¡å—çš„å¤§å°ï¼Œè€Œå€¼åˆ™ä¸ºä¸€ä¸ªå­˜å‚¨äº†kernelå‡½æ•°å’Œå¯åŠ¨ç¨‹åºæ•°çš„å…ƒç»„ï¼Œä»£è¡¨ä¸€ç§å¯åŠ¨ç¨‹åºçš„æ–¹å¼ã€‚</p>
<p>æ¯æ¬¡æˆ‘ä»¬è¿è¡Œå¸¦æœ‰<code>@triton.jit</code>è£…é¥°çš„å‡½æ•°æ—¶ï¼Œtritonéƒ½éœ€è¦ä¾æ®è¾“å…¥çš„å‚æ•°åšä¸€ç³»åˆ—åˆå§‹åŒ–çš„å·¥ä½œã€‚å¤šæ•°æ—¶å€™ï¼Œsoftmaxå‡½æ•°æ˜¯ä¸€ä¸ªç›¸å¯¹å¸¸ç”¨çš„å‡½æ•°ï¼Œå‡å¦‚æ¯æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°éƒ½å¿…é¡»è¦é‡æ–°åˆå§‹åŒ–å°±ä¼šå¯¼è‡´ä¸å¿…è¦çš„æ€§èƒ½æµªè´¹ã€‚æ‰€ä»¥æˆ‘ä»¬é€šè¿‡memoå­—å…¸çš„æ–¹å¼å­˜å‚¨è®°å½•çš„æ–¹å¼å®ç°æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<p><code>target</code>çš„æ„ä¹‰æ˜¯è·å–å½“å‰è®¾å¤‡çš„ç¡¬ä»¶ä¿¡æ¯ã€‚åœ¨æœ¬ä»£ç ç‰‡æ®µä¸­æ²¡æœ‰è¢«ç”¨åˆ°ã€‚</p>
<hr>
<h3 id="q2kernelgetæ˜¯åšä»€ä¹ˆçš„">Q2ï¼škernel.getæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ<a href="#q2kernelget%e6%98%af%e5%81%9a%e4%bb%80%e4%b9%88%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æŸ¥è¡¨ã€‚åœ¨ä¹‹å‰çš„softmaxä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¾ˆå¯èƒ½å·²ç»å¤„ç†äº†ç›¸åŒçš„BLOCK_SIZEåœºæ™¯ã€‚è¿™é‡Œå› ä¸ºè¿”å›çš„æ˜¯å…ƒç»„ï¼Œæ‰€ä»¥ç›´æ¥èµ‹å€¼ä¸¤ä¸ªå˜é‡è‡ªåŠ¨è§£åŒ…ã€‚å¦‚æœå­˜å‚¨çš„kernelsä¸­æ²¡æœ‰æ‰€éœ€çš„è®°å½•ï¼Œåé¢æˆ‘ä»¬å°±ä¼šä¸ºä¹‹åˆ›å»ºä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚</p>
<hr>
<h3 id="q3çœ‹èµ·æ¥kernelåªå¯èƒ½ä¸ºsoftmax_kernelè¿™æ ·çš„è¯ä¸ºä»€ä¹ˆè¿˜è¦å¤šå­˜å‚¨ä¸€ä¸ªkernelåœ¨memoä¸­å‘¢">Q3ï¼šçœ‹èµ·æ¥kernelåªå¯èƒ½ä¸ºsoftmax_kernelï¼Œè¿™æ ·çš„è¯ä¸ºä»€ä¹ˆè¿˜è¦å¤šå­˜å‚¨ä¸€ä¸ªkernelåœ¨memoä¸­å‘¢ï¼Ÿ<a href="#q3%e7%9c%8b%e8%b5%b7%e6%9d%a5kernel%e5%8f%aa%e5%8f%af%e8%83%bd%e4%b8%basoftmax_kernel%e8%bf%99%e6%a0%b7%e7%9a%84%e8%af%9d%e4%b8%ba%e4%bb%80%e4%b9%88%e8%bf%98%e8%a6%81%e5%a4%9a%e5%ad%98%e5%82%a8%e4%b8%80%e4%b8%aakernel%e5%9c%a8memo%e4%b8%ad%e5%91%a2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å› ä¸ºsoftmax_kernelä¹‹é—´ä¹Ÿæœ‰åŒºåˆ«ã€‚åŒºåˆ«å°±åœ¨äºï¼Œå‡å¦‚æˆ‘ä»¬ä¸ºsoftmax_kernelæ·»åŠ ä¸€ä¸ª<code>@triton_autotuneï¼ˆï¼‰</code>è£…é¥°å™¨ï¼Œæˆ‘ä»¬è°ƒç”¨çš„kernelå‡½æ•°å°±ä¼šä¾æ®æƒ…å†µä¸åŒè€Œå‘ç”Ÿå˜åŒ–ï¼Œè€Œè½¬åŒ–ä¸ºé’ˆå¯¹å¯¹åº”å‚æ•°æ—¶çš„æœ€ä¼˜BLOCK_SIZEé…ç½®ç‰ˆkernelã€‚</p>
<p>é€šè¿‡memoå­—å…¸ï¼Œæˆ‘ä»¬ç›´æ¥æ•æ‰è¿™äº›å‘ç”Ÿå˜åŒ–çš„kernelå‡½æ•°ï¼Œä½¿å¾—é‡åˆ°ç›¸åŒBLOCK_SIZEæ—¶æˆ‘ä»¬æ— éœ€å†æ¬¡æŠŠæ€§èƒ½ç”¨åœ¨è‡ªåŠ¨è°ƒä¼˜ä¸Šï¼Œè¿›ä¸€æ­¥å®ç°ä¼˜åŒ–ã€‚</p>
<hr>
<h3 id="q4kernelæ˜¯ä»€ä¹ˆå†™æ³•">Q4ï¼škernel[&hellip;](&hellip;)æ˜¯ä»€ä¹ˆå†™æ³•ï¼Ÿ<a href="#q4kernel%e6%98%af%e4%bb%80%e4%b9%88%e5%86%99%e6%b3%95" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç¥å¥‡çš„å†™æ³•ã€‚</p>
<p>åœ¨kernel[&hellip;]çš„æ–¹æ‹¬å·å½“ä¸­å†™å…¥çš„æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå…¶ä¸­åŒ…å«è‡³å¤šä¸‰ä¸ªå…ƒç´ ã€‚å†™æˆæ–¹æ‹¬å·çš„å½¢å¼çœ‹èµ·æ¥åƒæ˜¯åœ¨æŸ¥å­—å…¸ï¼Œä½†æ˜¯å®é™…ä¸Šåšçš„äº‹æƒ…ä¹Ÿç¡®å®ç±»ä¼¼ã€‚<code>launcher = kernel[(100,1,1)]</code>æœ€åä¼šå¾—åˆ°ä¸€ä¸ªé…ç½®å¥½çš„å¯åŠ¨å™¨å¯¹è±¡ã€‚kernelå¯¹è±¡çš„__getitem__æ–¹æ³•åœ¨tritonä¸­è¢«è¦†å†™äº†ï¼Œè®©ä½ å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¾—åˆ°ä¸€ä¸ªè‡ªå®šä¹‰å½¢çŠ¶çš„å¯åŠ¨æ¨¡å¼ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªä¸€ç»´çš„ç”±100ä¸ªç¨‹åºæˆ–è¿›ç¨‹ç»„æˆçš„å¯åŠ¨æ–¹æ³•ã€‚å¦‚æœä½ æƒ³åªå†™å…¥ä¸€ä¸ªå‚æ•°ï¼Œè®°å¾—pythonä¸­çš„ä¸€å…ƒå…ƒç»„è¦æ±‚å¿…é¡»åœ¨å…ƒç´ ååŠ ä¸€ä¸ªé€—å·ï¼Œå³<code>(x,)</code>ã€‚</p>
<p>è¿˜è®°å¾—<code>pid = tl.program_id(0)</code>å—ï¼Ÿè¿™é‡Œä¹‹æ‰€ä»¥éœ€è¦ä¸€ä¸ªå‚æ•°0ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å› ä¸ºç¨‹åºè¿›ç¨‹çš„æ’å¸ƒæ–¹å¼æ˜¯ä¸‰ç»´çš„ã€‚è¾“å…¥0å°±æ„å‘³ç€è¿”å›å½“å‰ç¨‹åºçš„ç¬¬ä¸€ç»´åæ ‡ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„å¯åŠ¨æ–¹å¼å°±æ˜¯ä¸€ç»´çš„ï¼Œåªè¯»å–ç¬¬ä¸€ç»´åæ ‡å°±è¶³å¤ŸåŒºåˆ†ä¸åŒçš„ç¨‹åºè¿›ç¨‹äº†ã€‚</p>
<p>ä¹‹æ‰€ä»¥ç¨‹åºå¯åŠ¨ä¼šæ˜¯ä¸€ä¸ªç«‹ä½“çš„ä¸‰ç»´æ¦‚å¿µï¼Œæ ¹æœ¬ä¸Šå¹¶ä¸æ˜¯å› ä¸ºæ˜¾å¡ä¸­æ ¸å¿ƒæ˜¯è¿™ä¹ˆæ’å¸ƒçš„ï¼Œè€Œæ˜¯æ–¹ä¾¿äººç±»å»é€‚é…ä¸åŒçš„æ•°æ®ç»“æ„ã€‚æ¯”å¦‚å¦‚æœä½ è¦å¤„ç†å›¾åƒï¼Œä½ å¯èƒ½é’ˆå¯¹æ¯ä¸€ä¸ªåƒç´ ç‚¹éƒ½è¦å¼€ä¸€ä¸ªç¨‹åºï¼Œè¿™æ—¶ä½¿ç”¨äºŒç»´æ–¹å¼å¯åŠ¨ç¨‹åºå¹¶ç”¨æ¨ªçºµåæ ‡æ¥æ ‡è®°ç¨‹åºå°±å¯ä»¥ä¸ºå†™ä»£ç å¸¦æ¥æ–¹ä¾¿ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿä¼šé—´æ¥å¸¦æ¥æ€§èƒ½ä¸Šçš„ä¼˜åŒ–ã€‚</p>
<p>åœ¨01_vector_addä¸­ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªæ–¹æ‹¬å·ä¸­ä¼ å…¥äº†ä¸€ä¸ªlambdaå‡½æ•°ã€‚è¿™ä¸ªlambdaå‡½æ•°ä¼ å…¥çš„å‚æ•°å°±æ˜¯kernelå‡½æ•°çš„å‚æ•°å­—å…¸ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é‚£ç§æ–¹å¼æ¥åŠ¨æ€å†³å®šå¯åŠ¨ç¨‹åºæ•°ï¼Œä½†æ˜¯åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æœ¬è´¨ä¸Šä½¿ç”¨äº†memoè®°å¿†åŒ–æœç´¢çš„æ–¹å¼æ¥è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½ï¼Œä½¿å¾—ç›¸åŒçš„æƒ…æ™¯æˆ‘ä»¬æ— éœ€å†å°†æ€§èƒ½ç”¨åœ¨åŠ¨æ€å†³å®šå¯åŠ¨ç¨‹åºæ•°ä¸Šã€‚</p>
<hr>
<h2 id="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•<a href="#%e5%8d%95%e5%85%83%e6%b5%8b%e8%af%95" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>éœ€è¦åœ¨ä¸€ä¸ªå…·æœ‰ä¸è§„åˆ™è¡Œå’Œåˆ—æ•°çš„çŸ©é˜µä¸Šæµ‹è¯•å¤„ç†å¥½çš„å†…æ ¸ï¼Œæ­¤ä¸¾å¯ä»¥éªŒè¯Paddingæœºåˆ¶æ˜¯å¦èµ·ä½œç”¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>device <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>npu<span style="color:#f92672">.</span>current_device()
</span></span><span style="display:flex;"><span>stream <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>npu<span style="color:#f92672">.</span>current_stream(device)<span style="color:#f92672">.</span>npu_stream
</span></span><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>manual_seed(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">1823</span>, <span style="color:#ae81ff">781</span>, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu&#39;</span>)
</span></span><span style="display:flex;"><span>y_triton <span style="color:#f92672">=</span> softmax(x, stream)
</span></span><span style="display:flex;"><span>y_torch <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>softmax(x, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> torch<span style="color:#f92672">.</span>allclose(y_triton, y_torch), (y_triton, y_torch)
</span></span><span style="display:flex;"><span>print(y_triton)
</span></span><span style="display:flex;"><span>print(y_torch)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;The maximum difference between torch and triton is &#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>torch<span style="color:#f92672">.</span>max(torch<span style="color:#f92672">.</span>abs(y_triton<span style="color:#f92672">-</span>y_torch))<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><p>æˆ‘ä»¬ä¸Šæ–‡ä¸­ç¼–å†™çš„å¸®åŠ©å‡½æ•°å®é™…ä½œç”¨æ˜¯å¯¹ç›®æ ‡çš„äºŒç»´å¼ é‡çš„æ¯ä¸€è¡Œè¿›è¡Œsoftmaxè®¡ç®—ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”Ÿæˆäº†ä¸€ä¸ªç”±éšæœºæ•°æ„æˆçš„å¼ é‡xï¼Œéšååˆ†åˆ«ä½¿ç”¨torchåŸç”Ÿæ–¹æ³•å’Œtritonèåˆç®—å­æ¥å¯¹å®ƒè¿›è¡Œsoftmaxè®¡ç®—ï¼Œæœ€åæµ‹é‡ä¸¤ç»“æœä¹‹é—´çš„æœ€å¤§å·®å¼‚ã€‚</p>
<p>ç†è®ºä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬çš„tritonç®—å­å’ŒtorchåŸç”Ÿç®—å­çš„æ•°å­¦è¿‡ç¨‹æ˜¯ç­‰ä»·çš„ã€‚ä¹‹æ‰€ä»¥ä¼šå‡ºç°å¾®å°è¯¯å·®å®é™…ä¸Šæ˜¯è¿‡ç¨‹ä¸­çš„è®¡ç®—æ­¥éª¤çš„åº•å±‚å®ç°æ–¹æ³•å¯¼è‡´äº†ä¸€äº›æµ®ç‚¹æ•°ç²¾åº¦è¯¯å·®ã€‚</p>
<p>Out:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tensor<span style="color:#f92672">([[</span>0.0002, 0.0017, 0.0009,  ..., 0.0009, 0.0013, 0.0073<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0001, 0.0004, 0.0006,  ..., 0.0006, 0.0004, 0.0003<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0007, 0.0002, 0.0006,  ..., 0.0011, 0.0004, 0.0039<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        ...,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0021, 0.0002, 0.0015,  ..., 0.0012, 0.0014, 0.0022<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0003, 0.0002, 0.0007,  ..., 0.0005, 0.0006, 0.0007<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0034, 0.0014, 0.0005,  ..., 0.0007, 0.0016, 0.0028<span style="color:#f92672">]]</span>,
</span></span><span style="display:flex;"><span>       device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu:0&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">([[</span>0.0002, 0.0017, 0.0009,  ..., 0.0009, 0.0013, 0.0073<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0001, 0.0004, 0.0006,  ..., 0.0006, 0.0004, 0.0003<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0007, 0.0002, 0.0006,  ..., 0.0011, 0.0004, 0.0039<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        ...,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0021, 0.0002, 0.0015,  ..., 0.0012, 0.0014, 0.0022<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0003, 0.0002, 0.0007,  ..., 0.0005, 0.0006, 0.0007<span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>0.0034, 0.0014, 0.0005,  ..., 0.0007, 0.0016, 0.0028<span style="color:#f92672">]]</span>,
</span></span><span style="display:flex;"><span>       device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu:0&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>The maximum difference between torch and triton is 1.4901161193847656e-08
</span></span></code></pre></div><p>&ldquo;The maximum difference between torch and triton is 1.4901161193847656e-08&rdquo; è¡¨ç¤ºTritonå’ŒPyTorchçš„è¾“å‡ºç»“æœéå¸¸æ¥è¿‘ï¼Œè‚‰çœ¼ä¸å¯åŒºåˆ†ã€‚</p>
<hr>
<h1 id="æµ‹è¯•æ€§èƒ½">æµ‹è¯•æ€§èƒ½<a href="#%e6%b5%8b%e8%af%95%e6%80%a7%e8%83%bd" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>ä¸ºäº†å¯¹æ¯”tritonèåˆç®—å­å’ŒtorchåŸç”Ÿæ–¹æ³•çš„æ€§èƒ½ï¼Œæˆ‘ä»¬å†æ¬¡é‡‡ç”¨benchmarkæ–¹æ³•æ¥æµ‹é‡ä¸åŒæ•°æ®é‡ä¸‹ä¸¤ç§ç®—æ³•çš„å¸¦å®½ååé‡ã€‚é¡ºä¾¿çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çœ‹çœ‹torchåŸç”Ÿçš„softmaxæ–¹æ³•çš„æ€§èƒ½å¦‚ä½•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">Fused Softmax
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">=============
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch_npu
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton.language <span style="color:#66d9ef">as</span> tl
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> triton.runtime <span style="color:#f92672">import</span> driver
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">naive_softmax</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Compute row-wise softmax of X using native pytorch
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    We subtract the maximum element in order to avoid overflows. Softmax is invariant to
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    this shift.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># read  MN elements ; write M  elements</span>
</span></span><span style="display:flex;"><span>    x_max <span style="color:#f92672">=</span> x<span style="color:#f92672">.</span>max(dim<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># read MN + M elements ; write MN elements</span>
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> x <span style="color:#f92672">-</span> x_max[:, <span style="color:#66d9ef">None</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># read  MN elements ; write MN elements</span>
</span></span><span style="display:flex;"><span>    numerator <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>exp(z)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># read  MN elements ; write M  elements</span>
</span></span><span style="display:flex;"><span>    denominator <span style="color:#f92672">=</span> numerator<span style="color:#f92672">.</span>sum(dim<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># read MN + M elements ; write MN elements</span>
</span></span><span style="display:flex;"><span>    ret <span style="color:#f92672">=</span> numerator <span style="color:#f92672">/</span> denominator[:, <span style="color:#66d9ef">None</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># in total: read 5MN + 2M elements ; wrote 3MN + 2M elements</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ret
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@triton.jit</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">softmax_kernel</span>(
</span></span><span style="display:flex;"><span>    output_ptr,
</span></span><span style="display:flex;"><span>    input_ptr,
</span></span><span style="display:flex;"><span>    input_row_stride,
</span></span><span style="display:flex;"><span>    output_row_stride,
</span></span><span style="display:flex;"><span>    n_rows,
</span></span><span style="display:flex;"><span>    n_cols,
</span></span><span style="display:flex;"><span>    BLOCK_SIZE: tl<span style="color:#f92672">.</span>constexpr,
</span></span><span style="display:flex;"><span>):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># starting row of the program</span>
</span></span><span style="display:flex;"><span>    row_start <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>program_id(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    row_step <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>num_programs(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> row_idx <span style="color:#f92672">in</span> tl<span style="color:#f92672">.</span>range(row_start, n_rows, row_step):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># The stride represents how much we need to increase the pointer to advance 1 row</span>
</span></span><span style="display:flex;"><span>        row_start_ptr <span style="color:#f92672">=</span> input_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> input_row_stride
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># The block size is the next power of two greater than n_cols, so we can fit each</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># row in a single block</span>
</span></span><span style="display:flex;"><span>        col_offsets <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, BLOCK_SIZE)
</span></span><span style="display:flex;"><span>        input_ptrs <span style="color:#f92672">=</span> row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Load the row into SRAM, using a mask since BLOCK_SIZE may be &gt; than n_cols</span>
</span></span><span style="display:flex;"><span>        mask <span style="color:#f92672">=</span> col_offsets <span style="color:#f92672">&lt;</span> n_cols
</span></span><span style="display:flex;"><span>        row <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(input_ptrs, mask<span style="color:#f92672">=</span>mask, other<span style="color:#f92672">=-</span>float(<span style="color:#e6db74">&#34;inf&#34;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Subtract maximum for numerical stability</span>
</span></span><span style="display:flex;"><span>        row_minus_max <span style="color:#f92672">=</span> row <span style="color:#f92672">-</span> tl<span style="color:#f92672">.</span>max(row, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        numerator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>exp(row_minus_max)
</span></span><span style="display:flex;"><span>        denominator <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>sum(numerator, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        softmax_output <span style="color:#f92672">=</span> numerator <span style="color:#f92672">/</span> denominator
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Write back output to DRAM</span>
</span></span><span style="display:flex;"><span>        output_row_start_ptr <span style="color:#f92672">=</span> output_ptr <span style="color:#f92672">+</span> row_idx <span style="color:#f92672">*</span> output_row_stride
</span></span><span style="display:flex;"><span>        output_ptrs <span style="color:#f92672">=</span> output_row_start_ptr <span style="color:#f92672">+</span> col_offsets
</span></span><span style="display:flex;"><span>        tl<span style="color:#f92672">.</span>store(output_ptrs, softmax_output, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>target <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>runtime<span style="color:#f92672">.</span>driver<span style="color:#f92672">.</span>active<span style="color:#f92672">.</span>get_current_target()
</span></span><span style="display:flex;"><span>kernels <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">softmax</span>(x, stream):
</span></span><span style="display:flex;"><span>    n_rows, n_cols <span style="color:#f92672">=</span> x<span style="color:#f92672">.</span>shape
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># The block size of each loop iteration is the smallest power of two greater than the number of columns in `x`</span>
</span></span><span style="display:flex;"><span>    BLOCK_SIZE <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>next_power_of_2(n_cols)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Allocate output</span>
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>empty_like(x)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># pre-compile kernel to get register usage and compute thread occupancy.</span>
</span></span><span style="display:flex;"><span>    kernel, num_programs <span style="color:#f92672">=</span> kernels<span style="color:#f92672">.</span>get(BLOCK_SIZE, (<span style="color:#66d9ef">None</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> kernel <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        num_programs <span style="color:#f92672">=</span> <span style="color:#ae81ff">32</span>
</span></span><span style="display:flex;"><span>        kernel <span style="color:#f92672">=</span> softmax_kernel
</span></span><span style="display:flex;"><span>        kernels[BLOCK_SIZE] <span style="color:#f92672">=</span> (kernel, num_programs)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    num_programs <span style="color:#f92672">=</span> min(num_programs, n_rows)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Create a number of persistent programs.</span>
</span></span><span style="display:flex;"><span>    kernel[(num_programs, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)](
</span></span><span style="display:flex;"><span>        y, x, x<span style="color:#f92672">.</span>stride(<span style="color:#ae81ff">0</span>), y<span style="color:#f92672">.</span>stride(<span style="color:#ae81ff">0</span>), n_rows, n_cols, BLOCK_SIZE
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> y
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>device <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>npu<span style="color:#f92672">.</span>current_device()
</span></span><span style="display:flex;"><span>stream <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>npu<span style="color:#f92672">.</span>current_stream(device)<span style="color:#f92672">.</span>npu_stream
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@triton.testing.perf_report</span>(
</span></span><span style="display:flex;"><span>    triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>Benchmark(
</span></span><span style="display:flex;"><span>        x_names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;N&#34;</span>],  <span style="color:#75715e"># ç”¨ä½œå›¾è¡¨ X è½´çš„å‚æ•°å</span>
</span></span><span style="display:flex;"><span>        x_vals<span style="color:#f92672">=</span>[<span style="color:#ae81ff">128</span> <span style="color:#f92672">*</span> i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">100</span>)],  <span style="color:#75715e"># X è½´çš„å…·ä½“æ•°å€¼</span>
</span></span><span style="display:flex;"><span>        line_arg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;provider&#34;</span>,  <span style="color:#75715e"># ç”¨ä½œå¯¹æ¯”ä¸åŒæ›²çº¿çš„å‚æ•°å</span>
</span></span><span style="display:flex;"><span>        line_vals<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;triton&#34;</span>, <span style="color:#e6db74">&#34;torch-native&#34;</span>, <span style="color:#e6db74">&#34;torch-naive&#34;</span>],  <span style="color:#75715e"># åªæœ‰è¿™ä¸‰ä¸ªå€¼</span>
</span></span><span style="display:flex;"><span>        line_names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;Triton&#34;</span>, <span style="color:#e6db74">&#34;Torch (Native)&#34;</span>, <span style="color:#e6db74">&#34;Torch (Naive)&#34;</span>],  <span style="color:#75715e"># å›¾ä¾‹æ˜¾ç¤ºçš„åå­—</span>
</span></span><span style="display:flex;"><span>        styles<span style="color:#f92672">=</span>[(<span style="color:#e6db74">&#34;blue&#34;</span>, <span style="color:#e6db74">&#34;-&#34;</span>), (<span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;-&#34;</span>), (<span style="color:#e6db74">&#34;red&#34;</span>, <span style="color:#e6db74">&#34;--&#34;</span>)],  <span style="color:#75715e"># æ›²çº¿é¢œè‰²å’Œçº¿å‹</span>
</span></span><span style="display:flex;"><span>        ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GB/s&#34;</span>,  <span style="color:#75715e"># Y è½´å•ä½ï¼šæ˜¾å­˜ååé‡ (è¶Šé«˜è¶Šå¥½)</span>
</span></span><span style="display:flex;"><span>        plot_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;softmax-performance&#34;</span>,
</span></span><span style="display:flex;"><span>        args<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;M&#34;</span>: <span style="color:#ae81ff">4096</span>},  <span style="color:#75715e"># å›ºå®š Batch Size ä¸º 4096</span>
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">benchmark</span>(M, N, provider):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># åˆå§‹åŒ–æ•°æ® (FP16 æˆ–è€…æ˜¯ FP32)</span>
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>randn(M, N, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;npu&#34;</span>, dtype<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä½¿ç”¨ Quantile è®¡ç®—åˆ†ä½æ•°ï¼Œé¿å…å¶å°”çš„æŠ–åŠ¨</span>
</span></span><span style="display:flex;"><span>    quantiles <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.2</span>, <span style="color:#ae81ff">0.8</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> provider <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;torch-native&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># è¿™é‡Œçš„ torch.softmax æ˜¯ C++ æ·±åº¦ä¼˜åŒ–çš„åº“å‡½æ•° (cuDNN/CANN)</span>
</span></span><span style="display:flex;"><span>        ms, min_ms, max_ms <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>do_bench(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">lambda</span>: torch<span style="color:#f92672">.</span>softmax(x, axis<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>), quantiles<span style="color:#f92672">=</span>quantiles
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> provider <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;triton&#34;</span>:
</span></span><span style="display:flex;"><span>        ms, min_ms, max_ms <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>do_bench(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">lambda</span>: softmax(x, stream), quantiles<span style="color:#f92672">=</span>quantiles
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> provider <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;torch-naive&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># è¿™æ˜¯ä¸€ä¸ªåé¢æ•™æï¼Œé€Ÿåº¦ææ…¢</span>
</span></span><span style="display:flex;"><span>        ms, min_ms, max_ms <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>do_bench(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">lambda</span>: naive_softmax(x), quantiles<span style="color:#f92672">=</span>quantiles
</span></span><span style="display:flex;"><span>        )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è®¡ç®—ååé‡ GB/s</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å…¬å¼ï¼š(è¯»å–é‡ + å†™å…¥é‡) / æ—¶é—´</span>
</span></span><span style="display:flex;"><span>    gbps <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> ms: <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> x<span style="color:#f92672">.</span>numel() <span style="color:#f92672">*</span> x<span style="color:#f92672">.</span>element_size() <span style="color:#f92672">*</span> <span style="color:#ae81ff">1e-9</span> <span style="color:#f92672">/</span> (ms <span style="color:#f92672">*</span> <span style="color:#ae81ff">1e-3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> gbps(ms), gbps(max_ms), gbps(min_ms)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿è¡Œæµ‹è¯•</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ£€æŸ¥æ˜¯å¦æœ‰ GPU/NPU</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> torch<span style="color:#f92672">.</span>npu<span style="color:#f92672">.</span>is_available():
</span></span><span style="display:flex;"><span>        benchmark<span style="color:#f92672">.</span>run(print_data<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, show_plots<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, save_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æœªæ£€æµ‹åˆ° GPU/NPUï¼Œæ— æ³•è¿è¡Œ Triton æµ‹è¯•ã€‚&#34;</span>)
</span></span></code></pre></div><p>è¿è¡Œè¿™æ®µä»£ç ï¼Œæˆ‘å¾—åˆ°äº†å¦‚ä¸‹å›¾çš„æ€§èƒ½å¯¹æ¯”å›¾è¡¨ï¼š</p>
<p><img src="/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-02softmax/%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%942025121001.jpg" alt=""></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡º,æˆ‘ä»¬çš„tritonèåˆç®—å­å’Œ<code>torch.softmax</code>åœ¨æ•°æ®é‡è¾ƒå¤§çš„æƒ…å†µä¸‹æ€§èƒ½åŸºæœ¬ä¸€è‡´ï¼Œè€Œä½¿ç”¨torchåŸç”Ÿæ–¹æ³•åˆ†æ­¥è®¡ç®—çš„<code>torch-naive</code>åˆ™æ€§èƒ½è¡¨ç°ä¸€èˆ¬ã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>Tritonè‡ªå­¦æ—¥å¿— 01VectorAdd</title>
			<link>http://localhost:1313/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-01vectoradd/</link>
			<pubDate>Tue, 09 Dec 2025 08:26:42 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-01vectoradd/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>åœ¨ç»è¿‡äº†å¤§çº¦åŠä¸ªæœˆçš„ç¯å¢ƒé…ç½®è¿‡ç¨‹ï¼Œç»ˆäºæˆåŠŸåœ¨åä¸ºæœåŠ¡å™¨ä¸Šæ­å»ºèµ·äº†vllmå’Œtritonå¼€å‘ç¯å¢ƒï¼Œå¯ä»¥æ­£å¼å¼€å§‹ç ”ç©¶tritonç®—å­çš„å†™æ³•äº†ã€‚ä½†æ˜¯æˆ‘å¯¹tritonç®—å­æ²¡æœ‰ä»»ä½•æ¦‚å¿µï¼Œç´¢æ€§èŠ±äº†ç‚¹æ—¶é—´é€è¡Œç ”ç©¶triton-ascendçš„å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹ä»£ç ã€‚</p>
<p>æœ¬æ–‡å‚è€ƒé“¾æ¥å¦‚ä¸‹ï¼š</p>
<p><a href="https://gitcode.com/Ascend/triton-ascend">Triton Ascend</a></p>
<p><a href="https://gitcode.com/Ascend/triton-ascend/blob/master/docs/sources/getting-started/tutorials/01-vector-add.md">01-vector-addæ•™ç¨‹</a></p>
<p>æ–‡ç« å†™å®Œä¹‹åçªç„¶æ„è¯†åˆ°tritonè¯­å¢ƒä¸‹æ•°æ®ç¼“å­˜çš„ä½ç½®å®é™…æ˜¯æ˜¾å­˜è€Œéä¼ ç»Ÿæ„ä¹‰çš„å†…å­˜ã€‚æ–‡ä¸­å¯èƒ½ä¼šå‡ºç°æ˜¾å­˜å†…å­˜ä¸åˆ†çš„æƒ…å†µï¼Œæ„ä¼šå³å¯ã€‚</p>
<hr>
<h1 id="å‘é‡ç›¸åŠ -vector-addition">å‘é‡ç›¸åŠ  ï¼ˆVector Additionï¼‰<a href="#%e5%90%91%e9%87%8f%e7%9b%b8%e5%8a%a0-vector-addition" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Triton ç¼–å†™ä¸€ä¸ªç®€å•çš„å‘é‡ç›¸åŠ çš„ç¨‹åºã€‚
åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå­¦ä¹ åˆ°ï¼š</p>
<ul>
<li>Triton çš„åŸºæœ¬ç¼–ç¨‹æ¨¡å¼ã€‚</li>
<li>ç”¨äºå®šä¹‰ Triton å†…æ ¸çš„<code>triton.jit</code>è£…é¥°å™¨ï¼ˆdecoratorï¼‰ã€‚</li>
</ul>
<p>è®¡ç®—å†…æ ¸:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch_npu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton.language <span style="color:#66d9ef">as</span> tl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@triton.jit</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_kernel</span>(x_ptr,  <span style="color:#75715e"># æŒ‡å‘ç¬¬ä¸€ä¸ªè¾“å…¥å‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>               y_ptr,  <span style="color:#75715e"># æŒ‡å‘ç¬¬äºŒä¸ªè¾“å…¥å‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>               output_ptr,  <span style="color:#75715e"># æŒ‡å‘è¾“å‡ºå‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>               n_elements,  <span style="color:#75715e"># å‘é‡çš„å¤§å°ã€‚</span>
</span></span><span style="display:flex;"><span>               BLOCK_SIZE: tl<span style="color:#f92672">.</span>constexpr,  <span style="color:#75715e"># æ¯ä¸ªç¨‹åºåº”å¤„ç†çš„å…ƒç´ æ•°é‡ã€‚</span>
</span></span><span style="display:flex;"><span>               <span style="color:#75715e"># æ³¨æ„ï¼š`constexpr` å°†æ ‡è®°å˜é‡ä¸ºå¸¸é‡ã€‚</span>
</span></span><span style="display:flex;"><span>               ):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä¸åŒçš„æ•°æ®ç”±ä¸åŒçš„â€œprocessâ€æ¥å¤„ç†ï¼Œå› æ­¤éœ€è¦åˆ†é…ï¼š</span>
</span></span><span style="display:flex;"><span>    pid <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>program_id(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># ä½¿ç”¨ 1D å¯åŠ¨ç½‘æ ¼ï¼Œå› æ­¤è½´ä¸º 0ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯¥ç¨‹åºå°†å¤„ç†ç›¸å¯¹åˆå§‹æ•°æ®åç§»çš„è¾“å…¥ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªé•¿åº¦ä¸º 256, å—å¤§å°ä¸º 64 çš„å‘é‡ï¼Œç¨‹åºå°†å„è‡ªè®¿é—® [0:64, 64:128, 128:192, 192:256] çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ³¨æ„ offsets æ˜¯æŒ‡é’ˆåˆ—è¡¨ï¼š</span>
</span></span><span style="display:flex;"><span>    block_start <span style="color:#f92672">=</span> pid <span style="color:#f92672">*</span> BLOCK_SIZE
</span></span><span style="display:flex;"><span>    offsets <span style="color:#f92672">=</span> block_start <span style="color:#f92672">+</span> tl<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, BLOCK_SIZE)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># åˆ›å»ºæ©ç ä»¥é˜²æ­¢å†…å­˜æ“ä½œè¶…å‡ºè¾¹ç•Œè®¿é—®ã€‚</span>
</span></span><span style="display:flex;"><span>    mask <span style="color:#f92672">=</span> offsets <span style="color:#f92672">&lt;</span> n_elements
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä» DRAM åŠ è½½ x å’Œ yï¼Œå¦‚æœè¾“å…¥ä¸æ˜¯å—å¤§å°çš„æ•´æ•°å€ï¼Œåˆ™å±è”½æ‰ä»»ä½•å¤šä½™çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(x_ptr <span style="color:#f92672">+</span> offsets, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(y_ptr <span style="color:#f92672">+</span> offsets, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>    output <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å°† x + y å†™å› DRAMã€‚</span>
</span></span><span style="display:flex;"><span>    tl<span style="color:#f92672">.</span>store(output_ptr <span style="color:#f92672">+</span> offsets, output, mask<span style="color:#f92672">=</span>mask)
</span></span></code></pre></div><h1 id="å¦‚ä½•ç†è§£">å¦‚ä½•ç†è§£ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e7%90%86%e8%a7%a3" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<h2 id="1-ä»€ä¹ˆæ˜¯è®¡ç®—å†…æ ¸">1. ä»€ä¹ˆæ˜¯â€œè®¡ç®—å†…æ ¸â€ï¼Ÿ<a href="#1-%e4%bb%80%e4%b9%88%e6%98%af%e8%ae%a1%e7%ae%97%e5%86%85%e6%a0%b8" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>é€šå¸¸çš„pythonç¨‹åºè¿è¡Œåœ¨cpuä¸Šï¼Œç¨‹åºçš„æ‰§è¡Œæ–¹å¼æ˜¯ä¸²è¡Œï¼ˆä¸€è¡Œä¸€è¡Œæ‰§è¡Œï¼‰ã€‚</p>
<p>ä½†æ˜¯åœ¨npu/gpuä¸Šï¼Œè®¡ç®—æ ¸å¿ƒçš„ç»„æˆå’Œcpuä¸Šå®Œå…¨ä¸åŒã€‚npu/gpuä¸Šçš„æ ¸å¿ƒåŠŸèƒ½è¿œæ¯”cpuç®€å•ï¼Œä½†æ˜¯æ ¸å¿ƒæ•°é‡è¿œè¿œå¤§äºcpuï¼Œé€‚åˆç”¨æ¥å¤„ç†å¤§é‡çš„ç®€å•è®¡ç®—ã€‚ä¸ºäº†å¿«é€Ÿè®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦è®©æ ¸å¿ƒå¹¶è¡Œè®¡ç®—ï¼Œå³å‡ åƒä¸ªæ ¸å¿ƒåŒæ—¶è¿›è¡Œè®¡ç®—ã€‚è¿™æ—¶çš„ç¨‹åºé€»è¾‘å°±å’Œcpuä¸Šæœ‰æ‰€åŒºåˆ«ã€‚</p>
<h3 id="è®¡ç®—å†…æ ¸kernel">è®¡ç®—å†…æ ¸ï¼ˆkernelï¼‰<a href="#%e8%ae%a1%e7%ae%97%e5%86%85%e6%a0%b8kernel" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æˆ‘ä»¬æ²¡æœ‰åŠæ³•é€šè¿‡ä¸€ä¸ªå·¨å¤§çš„ç¨‹åºæ§åˆ¶å…¨å±€ï¼Œè€Œæ˜¯é€šè¿‡å‘å°„kernelçš„æ–¹å¼æ˜ç¡®æ¯ä¸ªnpu/gpuå°æ ¸å¿ƒçš„å·¥ä½œå†…å®¹ã€‚kernelå°±æ˜¯ä½ é€ç»™å°æ ¸å¿ƒçš„æŒ‡ä»¤ã€‚å‘å°„ä¸€æ¬¡kernelï¼Œæ‰€æœ‰çš„æŒ‡å®šæ ¸å¿ƒå°±ä¼šæŒ‰ç…§ä½ ç»™å‡ºçš„æŒ‡ä»¤è¿›è¡ŒåŒæ ·çš„è®¡ç®—æ“ä½œï¼Œè€Œä»–ä»¬ä¹‹é—´çš„åŒºåˆ«å°±åœ¨äºæ“ä½œçš„å†…å­˜åœ°å€æœ‰æ‰€ä¸åŒã€‚</p>
<hr>
<h2 id="2-tritonjitè£…é¥°å™¨åœ¨å¹²ä»€ä¹ˆ">2. @triton.jitè£…é¥°å™¨åœ¨å¹²ä»€ä¹ˆ?<a href="#2-tritonjit%e8%a3%85%e9%a5%b0%e5%99%a8%e5%9c%a8%e5%b9%b2%e4%bb%80%e4%b9%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>æ˜¾ç„¶ï¼Œä½ çš„pythonç¨‹åºæ²¡åŠæ³•ç›´æ¥è·‘åœ¨npu/gpuä¸Šã€‚npu/gpuæ ¸å¿ƒåŠŸèƒ½æœ¬èº«å°±å¾ˆç®€å•äº†ï¼Œè€Œä½ çš„pythonç¨‹åºåˆ™æ˜¯è·‘åœ¨cpuä¸Šçš„ã€‚æ‰€ä»¥ï¼Œä½ éœ€è¦æ–¹æ³•æŠŠpythonç¨‹åºä»£ç è§£è¯»ä¸ºnpu/gpuèƒ½æ‡‚çš„è¯­è¨€ã€‚</p>
<p>åœ¨å†™<code>def add_kernel()</code>å‰ä¸ºå®ƒåŠ ä¸Š<code>@triton.jit</code>è£…é¥°å™¨åï¼Œåœ¨ä½ è¿è¡Œè¿™ä¸ªpythonç¨‹åºæ—¶ï¼Œè¿™æ®µ<code>add_kernel</code>å‡½æ•°å°±ä¼šè¢«ç¼–è¯‘ä¸ºnpu/gpuèƒ½æ‡‚çš„äºŒè¿›åˆ¶æœºå™¨ç ï¼Œå¹¶å°†è¿™ä¸ªnpu/gpuèƒ½ç›´æ¥è¯»æ‡‚çš„æŒ‡ä»¤æ”¾åœ¨æŸä¸ªåœ°æ–¹ï¼Œç­‰å¾…è°ƒç”¨ã€‚</p>
<p>å½“ä½ çœŸæ­£è°ƒç”¨<code>add_kernel</code>è¿™ä¸ªå‡½æ•°æ—¶ï¼Œç³»ç»Ÿå®é™…ä¸Šå¹¶ä¸ä¼šåœ¨cpuä¸Šæ‰§è¡Œè¿™ä¸ªå‡½æ•°çš„å‡½æ•°ä½“ï¼Œè€Œæ˜¯é€šè¿‡é©±åŠ¨ç¨‹åºç›´æ¥ä½¿ç”¨åˆšæ‰ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æœºå™¨ç ã€‚</p>
<p>è¯´ç™½äº†ï¼Œå°±æ˜¯æŠŠè¿™æ®µpythonç¨‹åºå˜æˆnpuä¸Šèƒ½é«˜é€Ÿè¿è¡Œçš„äºŒè¿›åˆ¶ç¨‹åºã€‚</p>
<hr>
<h2 id="3-è¡Œä¸šé»‘è¯">3. è¡Œä¸šé»‘è¯<a href="#3-%e8%a1%8c%e4%b8%9a%e9%bb%91%e8%af%9d" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<h3 id="x_ptry_ptroutput_ptr"><code>x_ptr</code>ã€<code>y_ptr</code>ã€<code>output_ptr</code><a href="#x_ptry_ptroutput_ptr" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å‘é‡çš„èµ·å§‹åœ°å€ã€‚å‘é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ˜¯è¿ç»­çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªèµ·å§‹åœ°å€å°±å¯ä»¥æè¿°è¿™ä¸ªå‘é‡ä¸­æ‰€æœ‰å…ƒç´ çš„ä½ç½®ã€‚</p>
<hr>
<h3 id="block_sizetlconstexpr"><code>BLOCK_SIZE:tl.constexpr</code><a href="#block_sizetlconstexpr" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨è¿™é‡Œï¼Œæ³¨é‡Šä¸­å‡ºç°äº†ä¸€ä¸ªâ€œç¨‹åºâ€çš„æ¦‚å¿µã€‚æ­¤å¤„çš„â€œç¨‹åºâ€å¦‚æœä»£å…¥æˆ‘ä»¬é€šå¸¸å¯¹â€œç¨‹åºâ€çš„ç†è§£ï¼Œåœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ä¼šæ˜¾å¾—éå¸¸è¿å’Œã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥æ˜ç¡®npuè¯­å¢ƒä¸‹â€œç¨‹åºâ€çš„æ¦‚å¿µã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯tritonè¯­å¢ƒä¸‹çš„ç¨‹åº">ä»€ä¹ˆæ˜¯Tritonè¯­å¢ƒä¸‹çš„â€œç¨‹åºâ€?<a href="#%e4%bb%80%e4%b9%88%e6%98%aftriton%e8%af%ad%e5%a2%83%e4%b8%8b%e7%9a%84%e7%a8%8b%e5%ba%8f" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åœ¨ Triton çš„ä»£ç é€»è¾‘é‡Œï¼š</p>
<blockquote>
<p><strong>ä¸€ä¸ªâ€œç¨‹åºï¼ˆinstanceï¼‰â€ = ä½ çš„å†…æ ¸å‡½æ•°è¢«å¤åˆ¶å¹¶è¿è¡Œçš„å…¶ä¸­ä¸€æ¬¡â€œå‰¯æœ¬â€ã€‚</strong></p>
</blockquote>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>å‡å¦‚æ€»æ•°æ®é‡ä¸º1024ã€‚</li>
<li>ä½ è§„å®šäº†ä¸€ä¸ªblock_sizeï¼Œè®©ä¸€ä¸ªâ€œå‰¯æœ¬â€æ¯æ¬¡åªèƒ½å¤„ç†128ä¸ªæ•°æ®ã€‚</li>
<li>æ‰€ä»¥æ ¹æ®ä»£ç ï¼Œä½ æœ€åç®—å‡ºæ¥ä½ éœ€è¦å¯åŠ¨8ä¸ªå‰¯æœ¬ã€‚</li>
<li>ä½ åˆ›å»ºäº†8ä¸ªå‰¯æœ¬ï¼Œæ ¸å¿ƒå°±ä¼šè‡ªåŠ¨æ¥å–èµ°ä½ åˆ›å»ºçš„å‰¯æœ¬ï¼Œä¸€æ—¦ä¸€ä¸ªå‰¯æœ¬å®Œæˆï¼Œå¤šä½™çš„æ ¸å¿ƒå°±ä¼šç«‹åˆ»æŠ•å…¥æ¥ä¸‹æ¥çš„å‰¯æœ¬çš„å·¥ä½œã€‚</li>
</ul>
<p>ç”¨ä¸€ä¸ªå½¢è±¡æ¯”å–»ï¼š</p>
<ul>
<li>è€ƒè¯•æ€»å…±è¦åš1024é“é¢˜ï¼ˆæ•°æ®é‡ï¼‰ã€‚</li>
<li>å‚åŠ è€ƒè¯•çš„è€ƒç”Ÿæœ‰4ä¸ªï¼ˆæ ¸å¿ƒæ•°ï¼‰ã€‚</li>
<li>ä¸€ä¸ªå·å­åªèƒ½æ”¾128é“é¢˜ï¼ˆä½ è§„å®šçš„block_sizeï¼‰ã€‚</li>
<li>ä½ æ‰“å°äº†8å¼ å·å­ï¼ˆç¨‹åºï¼‰ï¼Œæ¯ä¸ªå·å­æœ‰128é“é¢˜ã€‚</li>
<li>è€ƒç”Ÿæ¯ä¸ªäººå„è‡ªæ‹¿èµ°äº†1å¼ å·å­ï¼Œåšå®Œä¸€å¼ åè‡ªåŠ¨å†å–å‰©ä¸‹çš„å·å­ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆè¦å›ºå®šblock_size">ä¸ºä»€ä¹ˆè¦å›ºå®šblock_sizeï¼Ÿ<a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e5%9b%ba%e5%ae%9ablock_size" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>æ¯”å¦‚ï¼Œä½ å¯èƒ½ä¼šè®¤ä¸ºï¼Œç›´æ¥ä¸€å¼ å·å­å°256é“é¢˜ä¸å°±æ²¡æœ‰ä¸­é—´è°ƒåº¦çš„é—®é¢˜äº†å—ï¼Ÿæˆ–è€…éšä¾¿å¤šå°‘é“é¢˜åªè¦æœ€åå®Œæˆå°±è¡Œã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨tritonçš„è¯­å¢ƒä¸‹ï¼Œè§„å®šå¥½block_sizeä¹‹åï¼Œç¼–è¯‘å™¨å°±å¯ä»¥é’ˆå¯¹è¿™ä¸ªä»»åŠ¡åŒ…å¤§å°å¯¹ç”Ÿæˆçš„äºŒè¿›åˆ¶æœºå™¨ç è¿›è¡Œç–¯ç‹‚ä¼˜åŒ–ã€‚å°†block_sizeå®šä¸ºå¸¸é‡å¯ä»¥å¤§å¹…æå‡è¿ç®—æ•ˆç‡ã€‚</p>
<hr>
<h3 id="pid--tlprogram_idaxis--0"><code>pid = tl.program_id(axis = 0)</code><a href="#pid--tlprogram_idaxis--0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>åˆ«å¿˜äº†ï¼Œæˆ‘ä»¬åœ¨å†™çš„ä¸œè¥¿æ˜¯ä¸€ä¸ª<strong>kernel</strong>ã€‚æˆ‘ä»¬æœ€åä¼šæŠŠè¿™åŒä¸€ä¸ªkernelå‘é€ç»™æ‰€æœ‰çš„æ ¸å¿ƒï¼Œä½†æ˜¯è¿™äº›æ ¸å¿ƒæœ€åéœ€è¦å»å¤„ç†ä¸åŒå†…å­˜åœ°å€ä¸Šçš„å‘é‡ï¼Œè¿™æ ·æ‰èƒ½å®ç°å¹¶è¡Œè®¡ç®—çš„ç›®çš„ã€‚</p>
<p>è¿™äº›æ ¸å¿ƒä¹‹é—´å”¯ä¸€æœ‰åŒºåˆ«çš„åœ°æ–¹ï¼Œå°±åœ¨äºå®ƒä»¬è¢«åˆ†é…åˆ°çš„<code>program_id</code>ä¸åŒã€‚å› æ­¤ï¼Œé€šè¿‡program_idï¼Œä½ å®é™…ä¸Šåšçš„äº‹æƒ…æ˜¯å‘Šè¯‰æ ¸å¿ƒæ ¹æ®å®ƒæ­£åœ¨è¿›è¡Œçš„ç¨‹åºidå»éšæœºåº”å˜ã€‚è€Œæˆ‘ä»¬æ­¤å¤„çš„â€œéšæœºåº”å˜â€å°±æ˜¯è®©æ ¸å¿ƒæ ¹æ®ç¨‹åºidå»æ“ä½œç›¸åº”çš„å†…å­˜åœ°å€ã€‚</p>
<hr>
<h3 id="block_start--pid--block_size"><code>block_start = pid * BLOCK_SIZE</code><a href="#block_start--pid--block_size" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ä»»åŠ¡å—çš„èµ·å§‹ç‚¹ã€‚åœ¨æœ¬ä»£ç æƒ…æ™¯ä¸‹ï¼Œä½ è¦æ“ä½œçš„å†…å­˜æ˜¯ä¸€å¤§ç‰‡è¿ç»­å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥å°†å®ƒåˆ†å—åä½ éœ€è¦è®©æ ¸å¿ƒå…ˆçŸ¥é“è‡ªå·±æ‰€å¤„ç†çš„é‚£ä¸€å—æ•°æ®çš„ä¸€ä¸ªâ€œé”šç‚¹â€åœ¨å“ªï¼Œå†æ ¹æ®â€œé”šç‚¹â€ä½ç½®é€šè¿‡åç§»é‡æ˜ç¡®æ“ä½œçš„å…·ä½“ä½ç½®ã€‚</p>
<hr>
<h3 id="offsets--block_start--tlarange0-block_size"><code>offsets = block_start + tl.arange(0, BLOCK_SIZE)</code><a href="#offsets--block_start--tlarange0-block_size" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><code>tl.arange(0, BLOCK_SIZE)</code>ç›´æ¥ç”Ÿæˆä¸€ä¸ª0åˆ°BLOCK_SIZEçš„åºåˆ—ï¼ŒåŠ ä¸Šblock_startå¯¹åºåˆ—ä¸­çš„æ¯ä¸ªæ•°å­—æ·»åŠ ä¸€ä¸ªèµ·å§‹å€¼ï¼Œæœ€åå¾—åˆ°äº†ä¸€ä¸ªåç§»é‡å‘é‡ï¼Œä»£è¡¨äº†è¿™ä¸€æ‰¹ä»»åŠ¡çš„å…·ä½“å†…å­˜åç§»ã€‚</p>
<hr>
<h3 id="mask--offsets--n_elements"><code>mask = offsets &lt; n_elements</code><a href="#mask--offsets--n_elements" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>Maskçš„å«ä¹‰æ˜¯â€œæ©ç â€ã€‚ç®€å•æ¥è¯´ï¼Œè¿™é‡Œoffsetsæ˜¯ä¸€ä¸ªå‘é‡ï¼Œè€Œn_elementsåˆ™æ˜¯ä¸€ä¸ªæ•°å­—ã€‚æ ¹æ®torchã€tritonã€numpyç­‰æ•°æ®ç§‘å­¦å·¥å…·å¸¸è§çš„ç¥å¥‡çš„<strong>å¹¿æ’­</strong>æœºåˆ¶ï¼Œn_elementsè¢«ç›´æ¥å¤åˆ¶äº†è‹¥å¹²ä¸ªè€Œç»„æˆäº†ä¸€ä¸ªå’Œoffsetså¤§å°ä¸€è‡´çš„å‘é‡ï¼Œæœ€åmaskå¾—åˆ°çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‘é‡ï¼Œä½†æ˜¯å†…å®¹æ˜¯offsetsä¸­å¯¹åº”å…ƒç´ ä¸n_elementsæ¯”è¾ƒç»“æœçš„å¸ƒå°”å€¼ã€‚</p>
<p>æ¯”å¦‚ï¼Œå‡å¦‚<code>offsets = [1,2,3]</code>ï¼Œ<code>n_elements = 3</code>ï¼Œé‚£ä¹ˆæœ€å<code>mask</code>å°±å¾—åˆ°<code>[True,True,False]</code>ã€‚</p>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿æ ¸å¿ƒå·¥ä½œä¸è¶Šç•Œã€‚æ¯”å¦‚ï¼Œå‡å¦‚ä½ çš„å‘é‡æœ‰1000ä¸ªæ•°æ®è¦å¤„ç†ï¼Œä½†æ˜¯ä½ è®¾ç½®çš„BLOCK_SIZEå¤§å°å´æ˜¯128ï¼Œ1000é™¤ä¸å°½128ï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ªå—å°±åªä¼šè®¡ç®—æ©ç ä¸­ä¸ºtrueçš„éƒ¨åˆ†ï¼Œä¿è¯ä¸å»è¶Šç•Œè®¡ç®—å‘é‡å¤–çš„å†…å­˜ã€‚</p>
<hr>
<h3 id="x--tlloadx_ptr--offsets-maskmask"><code>x = tl.load(x_ptr + offsets, mask=mask)</code><a href="#x--tlloadx_ptr--offsets-maskmask" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>x_pträ¸ºç¬¬ä¸€ä¸ªå‘é‡çš„èµ·å§‹åœ°å€ï¼Œoffsetsä¸ºåç§»é‡å‘é‡ã€‚æ˜¾ç„¶ï¼Œè¿™é‡Œä¹Ÿé€šè¿‡å¹¿æ’­æœºåˆ¶å¾—åˆ°äº†ä¸€ä¸ªå‘é‡ï¼Œè€Œè¿™ä¸ªå‘é‡ä¿¡æ¯çš„å«ä¹‰å°±æ˜¯æ ¸å¿ƒè¦è¯»å–çš„ä¿¡æ¯åœ¨å†…å­˜ä¸­çš„ç»å¯¹åœ°å€ã€‚<code>mask = mask</code>é€šè¿‡å…³é”®å­—ä¼ å€¼çš„æ–¹å¼å°†æˆ‘ä»¬å‰é¢è®¡ç®—è¿‡çš„æ©ç ä¼ å…¥loadå‡½æ•°çš„maskå‚æ•°ã€‚æœ€åè¿”å›å¾—åˆ°çš„xå³ä¸ºç¬¦åˆmaskæ©ç çº¦æŸçš„x_ptr+offsetséƒ¨åˆ†çš„å†…å­˜å¯¹åº”çš„ä¿¡æ¯ç»„æˆçš„æ–°å‘é‡ã€‚maskä¸ºfalseçš„éƒ¨åˆ†ä¿¡æ¯è¢«è‡ªåŠ¨å¡«å……ä¸º0.0ã€‚</p>
<hr>
<h2 id="è¿™æ®µä»£ç åšäº†ä»€ä¹ˆ">è¿™æ®µä»£ç åšäº†ä»€ä¹ˆï¼Ÿ<a href="#%e8%bf%99%e6%ae%b5%e4%bb%a3%e7%a0%81%e5%81%9a%e4%ba%86%e4%bb%80%e4%b9%88" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶ç›´æ¥è½¬æ¢ä¸ºäºŒè¿›åˆ¶æœºå™¨ç ã€‚å®ƒæä¾›äº†è‹¥å¹²å‚æ•°ï¼Œåˆ†åˆ«å…è®¸ä½ å»æ§åˆ¶è¾“å…¥çš„ä¸¤ä¸ªå‘é‡çš„èµ·å§‹åœ°å€ï¼Œè¾“å‡ºå‘é‡çš„åœ°å€ï¼Œå‘é‡çš„å¤§å°ï¼Œä»¥åŠè¿‡ç¨‹ä¸­çš„BLOCK_SIZEã€‚</p>
<p>è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œç¨‹åºå°±ä¼šåœ¨ä½ æŒ‡å®šçš„å†…å­˜åœ°å€åˆ†åˆ«è¯»å–å‘é‡å¤§å°ä¸ªæ•°çš„æ•°æ®ï¼Œå¹¶åˆ†åˆ«ç›¸åŠ ï¼Œæœ€åå­˜å…¥è¾“å‡ºå‘é‡çš„åœ°å€ã€‚åªä¸è¿‡ï¼Œè¿™äº›æ“ä½œæ˜¯é€šè¿‡npuè€Œécpuå®Œæˆçš„ã€‚</p>
<hr>
<h1 id="torch-add">torch add<a href="#torch-add" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>åˆ›å»ºä¸€ä¸ªè¾…åŠ©å‡½æ•°ç”¨äºï¼š</p>
<ul>
<li>ç”Ÿæˆ z å¼ é‡ï¼›</li>
<li>ç”¨é€‚å½“çš„ grid/block sizes å°†ä¸Šè¿°å†…æ ¸åŠ å…¥é˜Ÿåˆ—ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(x: torch<span style="color:#f92672">.</span>Tensor, y: torch<span style="color:#f92672">.</span>Tensor):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># éœ€è¦é¢„åˆ†é…è¾“å‡ºã€‚</span>
</span></span><span style="display:flex;"><span>    output <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>empty_like(x)
</span></span><span style="display:flex;"><span>    n_elements <span style="color:#f92672">=</span> output<span style="color:#f92672">.</span>numel()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å¯åŠ¨ç½‘æ ¼è¡¨ç¤ºå¹¶è¡Œè¿è¡Œçš„å†…æ ¸å®ä¾‹çš„æ•°é‡ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å¯ä»¥æ˜¯ Tuple[int]ï¼Œä¹Ÿå¯ä»¥æ˜¯ Callable(metaparameters) -&gt; Tuple[int]ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># åœ¨æœ¬caseä¸­ï¼Œä½¿ç”¨ 1D ç½‘æ ¼ï¼Œå…¶ä¸­å¤§å°æ˜¯å—çš„æ•°é‡ï¼š</span>
</span></span><span style="display:flex;"><span>    grid <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> meta: (triton<span style="color:#f92672">.</span>cdiv(n_elements, meta[<span style="color:#e6db74">&#39;BLOCK_SIZE&#39;</span>]), )
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># NOTE:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  - æ¯ä¸ª torch.tensor å¯¹è±¡éƒ½ä¼šéšå¼è½¬æ¢ä¸ºå…¶ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  - `triton.jit` å‡½æ•°å¯ä»¥é€šè¿‡å¯åŠ¨ç½‘æ ¼ç´¢å¼•æ¥è·å¾—å¯è°ƒç”¨çš„ NPU å†…æ ¸ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#  - ä¸è¦å¿˜è®°ä»¥keywordsçš„æ–¹å¼ä¼ é€’meta-parametersã€‚</span>
</span></span><span style="display:flex;"><span>    add_kernel[grid](x, y, output, n_elements, BLOCK_SIZE<span style="color:#f92672">=</span><span style="color:#ae81ff">1024</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¿”å› z çš„å¥æŸ„ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> output
</span></span></code></pre></div><h2 id="è¿™æ®µä»£ç åˆæ˜¯å¹²ä»€ä¹ˆçš„">è¿™æ®µä»£ç åˆæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ<a href="#%e8%bf%99%e6%ae%b5%e4%bb%a3%e7%a0%81%e5%8f%88%e6%98%af%e5%b9%b2%e4%bb%80%e4%b9%88%e7%9a%84" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>å®¿ä¸»ç«¯</strong>çš„ä»£ç ã€‚ç®€å•æ¥è¯´ï¼Œtorchå¼€å‘è€…éœ€è¦èƒ½è¿›è¡Œå¹¶è¡Œè®¡ç®—æ¥å®ç°ä¸šåŠ¡é€»è¾‘ï¼Œä½†æ˜¯ä»–ä»¬å¹¶ä¸æƒ³å»å…³å¿ƒä½ åº•å±‚å®ç°çš„é€»è¾‘ã€‚å› æ­¤ï¼Œä½œä¸ºtritonå¼€å‘è€…ï¼Œä½ éœ€è¦åšçš„æ˜¯æŠŠè¿™ä¸ªåŠŸèƒ½å°è£…ä¸ºä¸€ä¸ªæå…¶ç®€å•æ˜“ç”¨åŒæ—¶å…¼é¡¾å®‰å…¨æ€§çš„å‡½æ•°ï¼Œä¾›å®¢æˆ·éšæ—¶è°ƒç”¨ã€‚</p>
<p>æˆ‘ä»¬æ¥é€è¡Œåˆ†æè¿™æ®µä»£ç ï¼š</p>
<hr>
<h3 id="output--torchempty_likex"><code>output = torch.empty_like(x)</code><a href="#output--torchempty_likex" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è°ƒç”¨torchåº“ï¼Œåœ¨npuæ˜¾å­˜ä¸Šä¸ºoutputæŒ–äº†ä¸€ä¸ªå’Œxä¸€æ ·å¤§å°çš„å‘ï¼Œè®©outputå­˜å…¥è¿™ä¸ªå‘çš„åœ°å€ã€‚</p>
<p>å¦‚æœä½ ä¸æŒ–è¿™ä¸ªå‘ï¼Œä½ å‰é¢å†™çš„add_kernelå°±ä¸çŸ¥é“è¯¥æŠŠè¿ç®—ç»“æœå­˜åˆ°å“ªä¸ªä½ç½®ï¼Œè€Œpythonå‡½æ•°é€šå¸¸è¦è¿”å›è¿ç®—å€¼è€Œéç®—å®Œä¹‹åéšä¾¿æ‰”åœ¨æŸä¸ªåœ°æ–¹ã€‚</p>
<hr>
<h3 id="n_elements--outputnumel"><code>n_elements = output.numel()</code><a href="#n_elements--outputnumel" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è®©<code>n_elements</code>å­˜å…¥<code>output</code>çš„å¤§å°ã€‚</p>
<hr>
<h3 id="grid--lambda-meta-tritoncdivn_elements-metablock_size-"><code>grid = lambda meta: (triton.cdiv(n_elements, meta['BLOCK_SIZE']), )</code><a href="#grid--lambda-meta-tritoncdivn_elements-metablock_size-" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è¿™è¡Œä»£ç æ˜¯è¿™ä¸ªå‡½æ•°ä¸­ç›¸å¯¹å¤æ‚çš„ä¸€æ®µã€‚å®ƒçš„ä½œç”¨æ˜¯<strong>åŠ¨æ€å†³å®šéœ€è¦å¯åŠ¨çš„ç¨‹åºæ•°</strong>ã€‚</p>
<p><code>grid</code>çš„ç±»å‹æ˜¯ä¸€ä¸ªlambdaå‡½æ•°ï¼Œåœ¨åæ–‡ä¸­ï¼Œå®ƒè¢«é€šè¿‡ä¸€ç§é‚ªé—¨çš„å†™æ³•ä¼ å…¥äº†add_kernelä¸­ã€‚ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œgridå¹¶éå†™å…¥åœ†æ‹¬å·å½“ä¸­ï¼Œè€Œæ˜¯å†™åœ¨æ–¹æ‹¬å·ä¸­ã€‚æˆ‘ä»¬åæ–‡ä¸­ä¼šæåŠè¿™ç§å†™æ³•çš„æ„ä¹‰ã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯ä¸€ç§ä¸€èˆ¬pythonç¨‹åºä¸­ä¸ä¼šæ¶‰åŠåˆ°çš„å†™æ³•ã€‚</p>
<p><code>triton.cdiv</code>æ˜¯<strong>ceiling division</strong>çš„ç¼©å†™ï¼Œå³å‘ä¸Šå–æ•´ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œä½ å¯èƒ½å°±ä¼šæœ‰ç–‘é—®ï¼šmetaæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿä½ å…ˆåˆ«æ€¥ï¼Œæˆ‘ä»¬å…ˆçœ‹åé¢ä¸€å¥ä»£ç ã€‚</p>
<hr>
<h3 id="add_kernelgridx-y-output-n_elements-block_size1024"><code>add_kernel[grid](x, y, output, n_elements, BLOCK_SIZE=1024)</code><a href="#add_kernelgridx-y-output-n_elements-block_size1024" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è¿™æ®µä»£ç å³è°ƒç”¨äº†æˆ‘ä»¬å‰æ–‡å†™çš„add_kernelå‡½æ•°ã€‚</p>
<p>åœ¨è¿™ä¸ªlambdaå‡½æ•°ä¸­ï¼Œmetaçš„ç±»å‹æ˜¯ä¸€ä¸ªå­—å…¸ã€‚åœ¨ä½ å‘å°„kernelæ—¶ï¼Œå®ƒé‡Œé¢è£…çš„å°±æ˜¯ä½ æ‰€ä¼ é€’çš„<strong>å…ƒå‚æ•°</strong>ã€‚åœ¨æˆ‘ä»¬å†™çš„addå‡½æ•°ä¸­ï¼Œxã€yå‡ä¸ºTorchä¸­çš„Tensoræ•°æ®ç±»å‹ï¼Œä¼ å‚æ—¶ä¼šéšå¼è½¬æ¢ä¸ºå†…å­˜åœ°å€ã€‚è€Œoutputåœ¨æˆ‘ä»¬å‰æ–‡ä¸­ä¹Ÿå·²ç»æå‰æŒ–å¥½å‘äº†ã€‚</p>
<p>ä½†è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡äº†ä¸€äº›é‚ªé—¨çš„æ–¹æ³•é¢å¤–ä¼ å…¥äº†ä¸€ä¸ªgridå‡½æ•°ã€‚ä¸‹é¢æˆ‘å°±æ¥è§£é‡Šä¸€ä¸‹è¿™ç§å†™æ³•çš„å«ä¹‰ã€‚</p>
<h4 id="meta"><code>meta</code><a href="#meta" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>tritonçš„å¼€å‘è€…é¢„æ–™åˆ°äº†ä½ éœ€è¦æœ‰åŠæ³•å»æ ¹æ®ç‰¹æ®Šæƒ…æ™¯å†³å®šå¯åŠ¨çš„ç¨‹åºæ•°é‡ï¼Œæ‰€ä»¥ä»–ä»¬æä¾›äº†ä¸€ç§æ–¹å¼è®©ä½ å¯ä»¥è·å–å®¢æˆ·åœ¨ä½¿ç”¨ä½ å°è£…å¥½çš„å‡½æ•°æ—¶çš„ä¼ å‚æƒ…å†µã€‚</p>
<p>ä»€ä¹ˆæ–¹å¼å‘¢ï¼Ÿåœ¨ä½ ä½¿ç”¨<code>@triton.jit</code>è£…é¥°å¥½çš„å‡½æ•°æ—¶ï¼Œtritonä¼šæ•æ‰åˆ°ä½ ä¼ å…¥çš„å‚æ•°ï¼Œæ„æˆä¸€ä¸ª<strong>å­—å…¸</strong>ã€‚æ¯”å¦‚ï¼Œåœ¨æˆ‘ä»¬ä¸Šæ–‡å†™å‡ºçš„add_kernelå‡½æ•°ä¸­ï¼Œè¿™ä¸ªå­—å…¸å¤§æ¦‚é•¿æˆè¿™æ ·ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>meta <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;x_ptr&#34;</span> : <span style="color:#f92672">&lt;</span>address<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;y_ptr&#34;</span> : <span style="color:#f92672">&lt;</span>address<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;output_ptr&#34;</span> : <span style="color:#f92672">&lt;</span>address<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;n_elements&#34;</span> : <span style="color:#f92672">&lt;</span>numble<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;BLOCK_SIZE&#34;</span> : <span style="color:#f92672">&lt;</span>numble<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç³»ç»Ÿåœ¨è¿›è¡Œè¿ç®—ä¹‹å‰ï¼Œä¼šå…ˆç”Ÿæˆè¿™ä¸ªå­—å…¸ï¼Œç„¶åæš—ä¸­è°ƒç”¨ä¸€ä¸ªlambdaå‡½æ•°ï¼Œå°†è¿™ä¸ªå­—å…¸ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæ ¹æ®å¾—åˆ°çš„ç»“æœè¿›è€Œå†³å®šæœ€åå¯åŠ¨çš„ç¨‹åºä¸ªæ•°ã€‚</p>
<p>ä½ é€šå¸¸æ²¡åŠæ³•ç›´æ¥è°ƒç”¨è¿™ä¸ªå­—å…¸ï¼Œä¸è¿‡å¹¸è¿çš„æ˜¯ï¼Œä½ å¯ä»¥å»å†³å®šç³»ç»Ÿæš—ä¸­è°ƒç”¨çš„lambdaå‡½æ•°çš„å½¢å¼ï¼Œè€Œè¿™ä¸ªlambdaå‡½æ•°ä¼ å…¥çš„å‚æ•°æ­£æ˜¯tritonç”Ÿæˆçš„å‚æ•°å­—å…¸ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨å‰é¢å®šä¹‰lambdaå‡½æ•°gridä¸º<code>lambda meta: (triton.cdiv(n_elements, meta['BLOCK_SIZE']), )</code>ï¼Œæ„ä¹‰å°±æ˜¯åœ¨add_kernelç”Ÿæ•ˆä¹‹å‰è¯»å–ä¼ å…¥çš„å‚æ•°å­—å…¸ï¼Œæ ¹æ®å‚æ•°å­—å…¸ä¸­BLOCK_SIZEçš„å€¼è®¡ç®—å‡ºéœ€è¦çš„æœ€å°‘å¯åŠ¨ç¨‹åºæ•°ï¼Œç„¶åç³»ç»Ÿé€šè¿‡è¿™ä¸ªè¿”å›å€¼æœ€ç»ˆå†³å®šå¯åŠ¨çš„ç¨‹åºæ•°ã€‚</p>
<hr>
<h3 id="return-output"><code>return output</code><a href="#return-output" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>è¿”å›<code>output</code>è¿™ä¸ªç”Ÿæˆçš„tensorã€‚</p>
<hr>
<p>ä½¿ç”¨ä¸Šè¿°å‡½æ•°è®¡ç®—ä¸¤ä¸ª <code>torch.tensor</code> å¯¹è±¡çš„ element-wise sumï¼Œå¹¶æµ‹è¯•å…¶æ­£ç¡®æ€§ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Python" data-lang="Python"><span style="display:flex;"><span>torch<span style="color:#f92672">.</span>manual_seed(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>size <span style="color:#f92672">=</span> <span style="color:#ae81ff">98432</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>rand(size, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu&#39;</span>)
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>rand(size, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu&#39;</span>)
</span></span><span style="display:flex;"><span>output_torch <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y
</span></span><span style="display:flex;"><span>output_triton <span style="color:#f92672">=</span> add(x, y)
</span></span><span style="display:flex;"><span>print(output_torch)
</span></span><span style="display:flex;"><span>print(output_triton)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;The maximum difference between torch and triton is &#39;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>torch<span style="color:#f92672">.</span>max(torch<span style="color:#f92672">.</span>abs(output_torch <span style="color:#f92672">-</span> output_triton))<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><p>è¿™æ˜¯ä¸€æ®µæµ‹è¯•ä»£ç ã€‚xã€yåˆ†åˆ«æ˜¯ä½¿ç”¨torchç”Ÿæˆçš„éšæœºå‘é‡ã€‚<code>output_torch</code>ä¸ºç›´æ¥ä½¿ç”¨torchå†…ç½®æ–¹æ³•è®¡ç®—å¾—åˆ°çš„å‘é‡å’Œï¼Œ<code>output_triton</code>ä¸ºä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰å‡½æ•°è®¡ç®—å¾—åˆ°çš„å‘é‡å’Œï¼Œæœ€åæ‰“å°ä¸¤è€…çš„æœ€å¤§æ®‹å·®ã€‚</p>
<p>ç†è®ºä¸Šæ¥è¯´ï¼Œå¦‚æœç¨‹åºæ­£ç¡®ï¼Œ<code>output_torch</code>å’Œ<code>output_triton</code>åº”è¯¥è¾“å‡ºå®Œå…¨ä¸€è‡´ã€‚</p>
<p>Out:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>tensor<span style="color:#f92672">([</span>0.8329, 1.0024, 1.3639,  ..., 1.0796, 1.0406, 1.5811<span style="color:#f92672">]</span>, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu:0&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>tensor<span style="color:#f92672">([</span>0.8329, 1.0024, 1.3639,  ..., 1.0796, 1.0406, 1.5811<span style="color:#f92672">]</span>, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;npu:0&#39;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>The maximum difference between torch and triton is 0.0
</span></span></code></pre></div><p>&ldquo;The maximum difference between torch and triton is 0.0&rdquo; è¡¨ç¤ºTritonå’ŒPyTorchçš„è¾“å‡ºç»“æœä¸€è‡´ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä½ çœŸæ­£å»è¡¡é‡torchæ–¹æ³•ä¸tritonæ–¹æ³•ä¹‹é—´çš„è®¡ç®—é€Ÿåº¦ï¼Œä½ ä¼šå‘ç°tritonæ–¹æ³•ç®—å‡ºæ¥çš„é€Ÿåº¦åŸºæœ¬ä¸torchæ–¹æ³•æŒå¹³ï¼Œç”šè‡³æ›´æ…¢ä¸€ç‚¹ã€‚åŸå› å¾ˆç®€å•ï¼Œtorchç»è¿‡äº†é•¿æœŸçš„ä¼˜åŒ–ï¼Œè¿™ç§åŸºç¡€ç®—å­çš„è®¡ç®—é€Ÿåº¦åŸºæœ¬å·²ç»è¾¾åˆ°äº†ç‰©ç†æé™ï¼Œè€Œæˆ‘ä»¬è‡ªå·±å†™çš„tritonç®—æ³•åœ¨è°ƒç”¨npuæ˜¾å­˜æ•°æ®ä¸Šè¦èŠ±è´¹é¢å¤–çš„æ—¶é—´ã€‚</p>
<p>tritonç®—å­çœŸæ­£çš„ä¼˜åŠ¿åŒºé—´åœ¨äºå†™â€œèåˆç®—å­â€ã€‚åŒæ ·çš„æ“ä½œï¼Œpytorchçš„æ¯ä¸€æ­¥æ“ä½œéƒ½è¦å•ç‹¬å»æ˜¾å­˜æ‹‰å–ä¸€æ¬¡æ•°æ®ï¼Œæ“ä½œå¤šèµ·æ¥ä¹‹åè¿™ä¸€æ­¥æ‹‰å–æ“ä½œå°±ä¼šæ˜¾è‘—å½±å“è¿è¡Œé€Ÿåº¦ã€‚è€Œé€šè¿‡å†™tritonç®—å­ç›´æ¥æ“ä½œæ˜¾å­˜ï¼Œä¸€æ¬¡æ‹‰å–æ•°æ®ä¹‹åç›´æ¥è®¡ç®—å¾—åˆ°ç»“æœï¼Œè¿™æ ·å°±å¯ä»¥è§„é¿ä¸­é—´ä¸å¿…è¦çš„é¢å¤–æ‹‰å–ç”¨æ—¶ã€‚</p>
<hr>
<h1 id="å¦‚ä½•æµ‹è¯•è¿è¡Œé€Ÿåº¦">å¦‚ä½•æµ‹è¯•è¿è¡Œé€Ÿåº¦ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e6%b5%8b%e8%af%95%e8%bf%90%e8%a1%8c%e9%80%9f%e5%ba%a6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<p>å› ä¸ºå¼‚æ­¥è¿ç®—çš„ç¼˜æ•…ï¼Œtorchå’Œtimeæ¨¡å—è¿™æ ·åŸºäºCPUçš„è®¡æ—¶æ–¹æ³•æ— æ³•æµ‹é‡NPUä¸­çš„çœŸæ­£ç”¨æ—¶ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨tritonæä¾›çš„ä¸“ä¸šåŸºæœ¬æµ‹è¯•å·¥å…·<code>triton.testing.do_bench</code>æ¥æµ‹è¯•è®¡ç®—æ•ˆç‡ã€‚</p>
<p>åœ¨ä¸‹åˆ—å®ä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨å¸¦å®½ååé‡ä¸ºä¾æ®è¡¡é‡torchå’Œtritonçš„è¿è¡Œé€Ÿåº¦å·®å¼‚ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¼ºåˆ¶ä½¿ç”¨ &#39;Agg&#39; åç«¯ï¼Œè¿™ä¸ªåç«¯ä¸“é—¨ç”¨äºä¸å¼¹çª—ç›´æ¥ç”Ÿæˆå›¾ç‰‡æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>matplotlib<span style="color:#f92672">.</span>use(<span style="color:#e6db74">&#34;Agg&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> torch_npu
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> triton.language <span style="color:#66d9ef">as</span> tl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@triton.jit</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add_kernel</span>(
</span></span><span style="display:flex;"><span>    x_ptr,  <span style="color:#75715e"># æŒ‡å‘ç¬¬ä¸€ä¸ªè¾“å…¥å‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>    y_ptr,  <span style="color:#75715e"># æŒ‡å‘ç¬¬äºŒä¸ªè¾“å…¥å‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>    output_ptr,  <span style="color:#75715e"># æŒ‡å‘è¾“å‡ºå‘é‡çš„æŒ‡é’ˆã€‚</span>
</span></span><span style="display:flex;"><span>    n_elements,  <span style="color:#75715e"># å‘é‡çš„å¤§å°ã€‚</span>
</span></span><span style="display:flex;"><span>    BLOCK_SIZE: tl<span style="color:#f92672">.</span>constexpr,  <span style="color:#75715e"># æ¯ä¸ªç¨‹åºåº”å¤„ç†çš„å…ƒç´ æ•°é‡ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ³¨æ„ï¼š`constexpr` å°†æ ‡è®°å˜é‡ä¸ºå¸¸é‡ã€‚</span>
</span></span><span style="display:flex;"><span>):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä¸åŒçš„æ•°æ®ç”±ä¸åŒçš„â€œprocessâ€æ¥å¤„ç†ï¼Œå› æ­¤éœ€è¦åˆ†é…ï¼š</span>
</span></span><span style="display:flex;"><span>    pid <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>program_id(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  <span style="color:#75715e"># ä½¿ç”¨ 1D å¯åŠ¨ç½‘æ ¼ï¼Œå› æ­¤è½´ä¸º 0ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¯¥ç¨‹åºå°†å¤„ç†ç›¸å¯¹åˆå§‹æ•°æ®åç§»çš„è¾“å…¥ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªé•¿åº¦ä¸º 256, å—å¤§å°ä¸º 64 çš„å‘é‡ï¼Œç¨‹åºå°†å„è‡ªè®¿é—® [0:64, 64:128, 128:192, 192:256] çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># æ³¨æ„ offsets æ˜¯æŒ‡é’ˆåˆ—è¡¨ï¼š</span>
</span></span><span style="display:flex;"><span>    block_start <span style="color:#f92672">=</span> pid <span style="color:#f92672">*</span> BLOCK_SIZE
</span></span><span style="display:flex;"><span>    offsets <span style="color:#f92672">=</span> block_start <span style="color:#f92672">+</span> tl<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, BLOCK_SIZE)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># åˆ›å»ºæ©ç ä»¥é˜²æ­¢å†…å­˜æ“ä½œè¶…å‡ºè¾¹ç•Œè®¿é—®ã€‚</span>
</span></span><span style="display:flex;"><span>    mask <span style="color:#f92672">=</span> offsets <span style="color:#f92672">&lt;</span> n_elements
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä» DRAM åŠ è½½ x å’Œ yï¼Œå¦‚æœè¾“å…¥ä¸æ˜¯å—å¤§å°çš„æ•´æ•°å€ï¼Œåˆ™å±è”½æ‰ä»»ä½•å¤šä½™çš„å…ƒç´ ã€‚</span>
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(x_ptr <span style="color:#f92672">+</span> offsets, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> tl<span style="color:#f92672">.</span>load(y_ptr <span style="color:#f92672">+</span> offsets, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>    output <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> y
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># å°† x + y å†™å› DRAMã€‚</span>
</span></span><span style="display:flex;"><span>    tl<span style="color:#f92672">.</span>store(output_ptr <span style="color:#f92672">+</span> offsets, output, mask<span style="color:#f92672">=</span>mask)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@triton.testing.perf_report</span>(
</span></span><span style="display:flex;"><span>    triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>Benchmark(
</span></span><span style="display:flex;"><span>        x_names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;size&#34;</span>],  <span style="color:#75715e"># ä½œä¸ºxè½´å˜åŒ–çš„å‚æ•°</span>
</span></span><span style="display:flex;"><span>        x_vals<span style="color:#f92672">=</span>[<span style="color:#ae81ff">128</span> <span style="color:#f92672">*</span> i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">100</span>)],  <span style="color:#75715e"># æµ‹è¯•ä» 256 åˆ° 12800 çš„ä¸åŒå¤§å°</span>
</span></span><span style="display:flex;"><span>        line_arg<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;provider&#34;</span>,
</span></span><span style="display:flex;"><span>        line_vals<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;triton&#34;</span>, <span style="color:#e6db74">&#34;torch&#34;</span>],  <span style="color:#75715e"># å¯¹æ¯”è¿™ä¸¤å®¶</span>
</span></span><span style="display:flex;"><span>        line_names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;Triton&#34;</span>, <span style="color:#e6db74">&#34;Torch&#34;</span>],
</span></span><span style="display:flex;"><span>        styles<span style="color:#f92672">=</span>[(<span style="color:#e6db74">&#34;blue&#34;</span>, <span style="color:#e6db74">&#34;-&#34;</span>), (<span style="color:#e6db74">&#34;green&#34;</span>, <span style="color:#e6db74">&#34;-&#34;</span>)],
</span></span><span style="display:flex;"><span>        ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;GB/s&#34;</span>,  <span style="color:#75715e"># ç”¨å¸¦å®½ååé‡ä½œä¸ºæŒ‡æ ‡</span>
</span></span><span style="display:flex;"><span>        plot_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;vector-add-performance&#34;</span>,
</span></span><span style="display:flex;"><span>        args<span style="color:#f92672">=</span>{},
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">benchmark</span>(size, provider):
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>rand(size, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;npu&#34;</span>, dtype<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>rand(size, device<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;npu&#34;</span>, dtype<span style="color:#f92672">=</span>torch<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># é¢„çƒ­æ˜¾å­˜åˆ†é…</span>
</span></span><span style="display:flex;"><span>    quantiles <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.2</span>, <span style="color:#ae81ff">0.8</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> provider <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;torch&#34;</span>:
</span></span><span style="display:flex;"><span>        ms, min_ms, max_ms <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>do_bench(<span style="color:#66d9ef">lambda</span>: x <span style="color:#f92672">+</span> y, quantiles<span style="color:#f92672">=</span>quantiles)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> provider <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;triton&#34;</span>:
</span></span><span style="display:flex;"><span>        output <span style="color:#f92672">=</span> torch<span style="color:#f92672">.</span>empty_like(x)
</span></span><span style="display:flex;"><span>        grid <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> meta: (triton<span style="color:#f92672">.</span>cdiv(size, meta[<span style="color:#e6db74">&#34;BLOCK_SIZE&#34;</span>]),)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># å°è£…ä¸€ä¸‹ lambda æ–¹ä¾¿æµ‹é€Ÿ</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">call_triton</span>():
</span></span><span style="display:flex;"><span>            add_kernel[grid](x, y, output, size, BLOCK_SIZE<span style="color:#f92672">=</span><span style="color:#ae81ff">1024</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        ms, min_ms, max_ms <span style="color:#f92672">=</span> triton<span style="color:#f92672">.</span>testing<span style="color:#f92672">.</span>do_bench(call_triton, quantiles<span style="color:#f92672">=</span>quantiles)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># è¿”å›ååé‡è®¡ç®— GB/s</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">gbps</span>(ms):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># è¯»x(4 bytes) + è¯»y(4 bytes) + å†™output(4 bytes) = 12 bytes</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">*</span> size <span style="color:#f92672">/</span> ms <span style="color:#f92672">*</span> <span style="color:#ae81ff">1e-6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> gbps(ms), gbps(max_ms), gbps(min_ms)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿è¡Œ benchmark</span>
</span></span><span style="display:flex;"><span>benchmark<span style="color:#f92672">.</span>run(print_data<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, show_plots<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, save_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./bench_result&#34;</span>)
</span></span></code></pre></div><p>åœ¨ä½¿ç”¨è¿™ä¸ªæµ‹è¯•å·¥å…·ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆç¡®ä¿å®‰è£…äº†<code>matplotlib</code>ã€<code>pandas</code>ã€<code>numpy</code>ç­‰åŸºæœ¬æ•°æ®ç§‘å­¦åº“ã€‚æœ€åä½ å¯ä»¥å¾—åˆ°ç”±matplotlibç”Ÿæˆçš„æ€§èƒ½æµ‹è¯•å›¾è¡¨ã€‚</p>
<p>åœ¨æœ¬ä»£ç ä¸­ï¼Œå®é™…è¿›è¡ŒåŠ æ³•è®¡ç®—çš„ç”¨æ—¶éå¸¸å°‘ï¼Œå¤§éƒ¨åˆ†çš„ç”¨æ—¶éƒ½åœ¨ä¿¡æ¯æ¬è¿ä¸Šï¼Œè€Œå¸¦å®½æ­£æè¿°çš„æ˜¯è¿™ä¸€è¡Œä¸ºçš„é€Ÿç‡ã€‚é€šè¿‡è¿è¡Œè¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å°±æˆåŠŸå¾—åˆ°äº†torchåŸç”Ÿå†™æ³•ä¸æˆ‘ä»¬è‡ªå·±å†™çš„tritonç®—å­ä¹‹é—´çš„æ€§èƒ½å·®å¼‚å›¾è¡¨ã€‚</p>
<p><img src="/zh-cn/posts/triton%E8%87%AA%E5%AD%A6%E6%97%A5%E5%BF%97-01vectoradd/%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%942025120901.jpg" alt=""></p>
]]></content>
		</item>
		
		<item>
			<title>NeovimPluginsé…ç½®æ–¹æ³•</title>
			<link>http://localhost:1313/zh-cn/posts/neovimplugins%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/</link>
			<pubDate>Sun, 23 Nov 2025 11:11:53 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/neovimplugins%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>æˆ‘çš„ä¸Šä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†å¦‚ä½•é…ç½®nvimã€‚ä½†æ˜¯ä»…ä»…æ˜¯ä¿®æ”¹äº†é”®ä½å’Œvimè¡Œä¸ºè¿œè¿œä¸è¶³ä»¥è®©æˆ‘ä»¬çš„nvimå¯ä»¥æ‰¿æ‹…ä»£ç ä»»åŠ¡ã€‚æˆ‘ä»¬éœ€è¦æ’ä»¶æ¥æ‹“å±•nvimçš„åŠŸèƒ½ã€‚æ’ä»¶æ˜¯nvimçš„çµé­‚ï¼Œæœ‰äº†æ’ä»¶ï¼Œä½ çš„nvimæ‰èƒ½ä½œä¸ºä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ideæ¥ä½¿ç”¨ã€‚(åè®°ï¼šçœŸæ­£ä½¿ç”¨æ—¶ä½ åº”è¯¥å»ä½¿ç”¨lazyvimï¼Œå¹¶é€šè¿‡lazyvimçš„lazyextraåŠŸèƒ½é…ç½®lspå’Œç›¸å…³çš„è°ƒè¯•åŠŸèƒ½ã€‚å¦‚æœä½ æœ‰ç”Ÿæ´»ï¼Œä¸è¦å°è¯•è‡ªå·±é…ç½®lspï¼Œå°¤å…¶æ˜¯å¦‚æœä½ æƒ³å†™javaä¹‹ç±»çš„é¢å‘å¤§å‹å·¥ç¨‹è®¾è®¡çš„è¯­è¨€ã€‚)</p>
<h3 id="æ’ä»¶çš„åˆ†ç±»">æ’ä»¶çš„åˆ†ç±»<a href="#%e6%8f%92%e4%bb%b6%e7%9a%84%e5%88%86%e7%b1%bb" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>nvimçš„æ’ä»¶å¤§è‡´æœ‰ä»¥ä¸‹å‡ ç±»:</p>
<ul>
<li>åŸºç¡€è¾…åŠ©ã€‚æ‹“å±•vimçš„è¡Œä¸ºã€‚</li>
<li>gité›†æˆ</li>
<li>å¤–è§‚ä¸»é¢˜</li>
<li>ä»£ç æ™ºèƒ½
<ul>
<li>è‡ªåŠ¨è¡¥å…¨</li>
<li>è¯­æ³•é«˜äº®</li>
<li>è¯­æ³•è¯Šæ–­</li>
<li>è°ƒè¯•ä¸è¿è¡Œ</li>
<li>ä»£ç æ ¼å¼åŒ–</li>
</ul>
</li>
<li>æ¨¡ç³Šæœç´¢</li>
</ul>
<p>è‡³å°‘åœ¨kickstartä¸­å‡ºç°çš„æ’ä»¶å¯ä»¥å¤§è‡´å½’ç±»ä¸ºä»¥ä¸Šå†…å®¹ã€‚</p>
<h3 id="æ’ä»¶ç®¡ç†å™¨">æ’ä»¶ç®¡ç†å™¨<a href="#%e6%8f%92%e4%bb%b6%e7%ae%a1%e7%90%86%e5%99%a8" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>å…‰æœ‰æ’ä»¶æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç»„ä»¶æ¥ä¸“é—¨ç®¡ç†æ’ä»¶ï¼Œå†³å®šæ’ä»¶ä½•æ—¶è¿è¡Œã€‚é€šå¸¸è€Œè¨€ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨lazy.nvimæ’ä»¶ç®¡ç†å™¨ï¼Œå®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯â€œæ‡’åŠ è½½â€ï¼Œåªåœ¨éœ€è¦çš„æ—¶å€™åŠ è½½æ’ä»¶åŠŸèƒ½ï¼Œè¿™æå¤§åœ°æé«˜äº†è½½å…¥é€Ÿåº¦ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹åˆ°init.luaä¸­å…³äºä¸‹è½½lazy.nvimæ’ä»¶ç®¡ç†å™¨çš„éƒ¨åˆ†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- [[ Install `lazy.nvim` plugin manager ]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--    See `:help lazy.nvim.txt` or https://github.com/folke/lazy.nvim for more info</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> lazypath <span style="color:#f92672">=</span> vim.fn.stdpath <span style="color:#e6db74">&#39;data&#39;</span> <span style="color:#f92672">..</span> <span style="color:#e6db74">&#39;/lazy/lazy.nvim&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> (vim.uv <span style="color:#f92672">or</span> vim.loop).fs_stat(lazypath) <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> lazyrepo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://github.com/folke/lazy.nvim.git&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">local</span> out <span style="color:#f92672">=</span> vim.fn.system { <span style="color:#e6db74">&#39;git&#39;</span>, <span style="color:#e6db74">&#39;clone&#39;</span>, <span style="color:#e6db74">&#39;--filter=blob:none&#39;</span>, <span style="color:#e6db74">&#39;--branch=stable&#39;</span>, lazyrepo, lazypath }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> vim.v.shell_error <span style="color:#f92672">~=</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    error(<span style="color:#e6db74">&#39;Error cloning lazy.nvim:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">..</span> out)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">---@type vim.Option</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> rtp <span style="color:#f92672">=</span> vim.opt.rtp
</span></span><span style="display:flex;"><span>rtp:prepend(lazypath)
</span></span></code></pre></div><p>è¿™æ®µä»£ç çš„å«ä¹‰ï¼Œç®€å•æ¥è¯´å°±æ˜¯ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªlazypathä½œä¸ºè¿™ä¸ªæ’ä»¶ç®¡ç†å™¨çš„è€å®¶
<ul>
<li>åœ¨linuxç³»ç»Ÿä¸­ï¼Œé€šå¸¸å°±æ˜¯<code>~/.local/share/nvim/lazy/lazy.nvim</code></li>
</ul>
</li>
<li>å°†lazy.nvimåœ¨githubä¸Šçš„ä»“åº“å…‹éš†åˆ°lazypath</li>
<li>å…¶ä½™éƒ¨åˆ†çš„ä»£ç åŸºæœ¬æ˜¯å‡ºäºå…¼å®¹æ€§è€Œå†™çš„ï¼ˆä½†æ˜¯å¹¶éæ— ç”¨ï¼Œè¿™æ®µä»£ç çš„å¥å£®æ€§è¿˜æ˜¯éå¸¸å¼ºçš„ï¼Œèƒ½è®©ä½ åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½èƒ½è‡³å°‘ä¿è¯lazy.nvimå®‰è£…æˆåŠŸï¼‰</li>
</ul>
<p>è¿™æ®µä»£ç åŸºæœ¬å”¯ä¸€æœ‰ä»·å€¼çš„ä¸œè¥¿å°±æ˜¯å‘Šè¯‰ä½ lazypathçš„è€å®¶åœ¨å“ªï¼Œå®åœ¨æœ‰é—®é¢˜å¯èƒ½ä¼šè¦å»æ£€æŸ¥é‚£é‡Œçš„æ–‡ä»¶ã€‚ä½†æ˜¯é€šå¸¸è€Œè¨€ç”¨ä¸åˆ°ã€‚è€Œä¸”ä½ å¤§æ¦‚ç‡ä¹Ÿä¸ä¼šè‡ªå·±å†™è¿™æ®µä»£ç ï¼Œæ‰€ä»¥å¤šæ•°æƒ…å†µä¸‹å¿½è§†å³å¯ã€‚</p>
<h3 id="æ’ä»¶">æ’ä»¶<a href="#%e6%8f%92%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>require(<span style="color:#e6db74">&#39;lazy&#39;</span>).setup({
</span></span></code></pre></div><p>ä»æ¥ä¸‹æ¥å¼€å§‹å°±åˆ°äº†é‡å¤´æˆäº†ï¼Œnvimçš„æ’ä»¶ç®¡ç†ã€‚</p>
<p>åœ¨æˆ‘ä»¬kickstart nvimè¿™ä¸ªé…ç½®æ¨¡ç‰ˆä¸­ï¼Œå¤§å‡ ç™¾è¡Œçš„ä»£ç éƒ½å¡åœ¨äº†<code>require('lazy').setup({</code>è¿™ä¸ªå·¨å¤§æ‹¬å·é‡Œã€‚</p>
<p><code>require('lazy').setup()</code>æ¥å—çš„æ˜¯ä¸¤ä¸ªå‚æ•°ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„lua tableï¼Œé‡Œé¢æ”¾çš„æ˜¯æ’ä»¶çš„â€œè¯´æ˜ä¹¦â€ï¼Œç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯å¯é€‰çš„ï¼Œç”¨æ¥å®šåˆ¶lazy.nvimè‡ªèº«çš„å¤–è§‚å’Œè¡Œä¸ºã€‚æˆ‘ä»¬ä¸»è¦å…³æ³¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œå³æ’ä»¶çš„â€œè¯´æ˜ä¹¦â€åˆ°åº•æ€ä¹ˆå†™ã€‚</p>
<h4 id="æ’ä»¶è¯´æ˜ä¹¦-plugin-specification">æ’ä»¶è¯´æ˜ä¹¦ (Plugin Specification)<a href="#%e6%8f%92%e4%bb%b6%e8%af%b4%e6%98%8e%e4%b9%a6-plugin-specification" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ‰€è°“çš„æ’ä»¶è¯´æ˜ä¹¦ï¼Œå°±æ˜¯setup()ä¸­ç¬¬ä¸€ä¸ªå‚æ•°tableä¸­çš„å…ƒç´ ã€‚æ¯ä¸€ä¸ªè¯´æ˜ä¹¦å°±ä»£è¡¨äº†ä¸€ä¸ªæ’ä»¶ã€‚</p>
<p>ä¸€ä¸ªæ’ä»¶è¯´æ˜ä¹¦çš„èŒèƒ½å¤§æ¦‚æœ‰ï¼š</p>
<ul>
<li>è®©lazy.nvimå»ä¸‹è½½éœ€è¦çš„æ’ä»¶</li>
<li>ä¼ é€’é…ç½®é€‰é¡¹ç»™æ’ä»¶</li>
<li>åŠ è½½è§¦å‘å™¨æ¥å®ç°è‡ªåŠ¨åŠŸèƒ½</li>
<li>è®¾ç½®è‡ªå®šä¹‰å‡½æ•°æ¥é…ç½®æ’ä»¶ï¼ˆæ¯”å¦‚è®¾ç½®å¿«æ·é”®ï¼‰</li>
<li>å£°æ˜ä¾èµ–é¡¹</li>
<li>è®¾ç½®åŠ è½½æ¡ä»¶</li>
<li>è®¾ç½®æ‰“å¼€ç‰¹å®šæ–‡ä»¶æ—¶åŠ è½½æ’ä»¶</li>
<li>å¯¼å…¥å…¶ä»–æ–‡ä»¶ä¸­çš„æ’ä»¶é…ç½®</li>
</ul>
<p>å¥½å§ï¼Œå…‰çœ‹è¿™äº›èŒèƒ½æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæˆ‘ä»¬æ¥ä»¥init.luaä¸­æä¾›çš„æ’ä»¶è¯´æ˜ä¹¦æ¥è¯¦ç»†è®²è§£ã€‚</p>
<h4 id="æœ€ç®€å½¢å¼">æœ€ç®€å½¢å¼<a href="#%e6%9c%80%e7%ae%80%e5%bd%a2%e5%bc%8f" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;NMAC427/guess-indent.nvim&#39;</span>, <span style="color:#75715e">-- Detect tabstop and shiftwidth automatically</span>
</span></span></code></pre></div><p>æ²¡é”™ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å°±è¶³å¤Ÿä½œä¸ºä¸€ä¸ªæ’ä»¶äº†ã€‚è®°å¾—åé¢è¦åŠ é€—å·ã€‚</p>
<p>è¿™æ®µä»£ç çš„å«ä¹‰å°±æ˜¯ï¼Œåˆ°githubä¸Šæ‰¾åˆ°<code>NMAC427</code>è¿™ä¸ªç”¨æˆ·çš„<code>guess-indent.nvim</code>è¿™ä¸ªä»“åº“å¹¶ä¸‹è½½ä¸‹æ¥ï¼Œä»€ä¹ˆéƒ½ä¸é…ç½®ï¼Œç›´æ¥ç”¨é»˜è®¤é…ç½®å³å¯ã€‚è¿™æ˜¯æœ€çœäº‹çš„å†™æ³•ã€‚</p>
<p>ä½†æ˜¯å¤šæ•°æ—¶å€™ï¼Œä½ ä¸ºäº†æ›´æ–¹ä¾¿çš„ä½¿ç”¨æ’ä»¶ï¼Œä¸å¾—ä¸è¿›è¡Œä¸€äº›ç›¸åº”çš„é…ç½®ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ç”¨åˆ°æ›´åŠ å¤æ‚çš„é…ç½®æ–¹å¼ã€‚</p>
<h4 id="å¸¸è§å½¢å¼">å¸¸è§å½¢å¼<a href="#%e5%b8%b8%e8%a7%81%e5%bd%a2%e5%bc%8f" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>  <span style="color:#75715e">-- Use `opts = {}` to automatically pass options to a plugin&#39;s `setup()` function, forcing the plugin to be loaded.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- Alternatively, use `config = function() ... end` for full control over the configuration.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- If you prefer to call `setup` explicitly, use:</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--    {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--        &#39;lewis6991/gitsigns.nvim&#39;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--        config = function()</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--            require(&#39;gitsigns&#39;).setup({</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--                -- Your gitsigns configuration here</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--            })</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--        end,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--    }</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- Here is a more advanced example where we pass configuration</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- options to `gitsigns.nvim`.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">-- See `:help gitsigns` to understand what the configuration keys do</span>
</span></span><span style="display:flex;"><span>  { <span style="color:#75715e">-- Adds git related signs to the gutter, as well as utilities for managing changes</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;lewis6991/gitsigns.nvim&#39;</span>,
</span></span><span style="display:flex;"><span>    opts <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>      signs <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        add <span style="color:#f92672">=</span> { text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;+&#39;</span> },
</span></span><span style="display:flex;"><span>        change <span style="color:#f92672">=</span> { text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;~&#39;</span> },
</span></span><span style="display:flex;"><span>        delete <span style="color:#f92672">=</span> { text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;_&#39;</span> },
</span></span><span style="display:flex;"><span>        topdelete <span style="color:#f92672">=</span> { text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;â€¾&#39;</span> },
</span></span><span style="display:flex;"><span>        changedelete <span style="color:#f92672">=</span> { text <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;~&#39;</span> },
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><p>è¿™æ˜¯ä¸€ä¸ªgitå›¾æ ‡æ’ä»¶ï¼ŒåŠŸèƒ½æ˜¯åœ¨ä¾§è¾¹æ æ˜¾ç¤ºå½“å‰æ–‡æœ¬ä¸­çš„æ”¹åŠ¨å¢å‡ã€‚ä½†æ˜¯æˆ‘ä»¬æƒ³è¦è‡ªå®šä¹‰æ˜¾ç¤ºçš„å›¾æ ‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»è¿›è¡Œé…ç½®ã€‚</p>
<p>é…ç½®çš„æ–¹å¼å¦‚ä¸Šï¼Œç®€å•æ¥è¯´å°±æ˜¯å°†æ’ä»¶è¯´æ˜ä¹¦å†™æˆä¸€ä¸ªtableã€‚luaä¸­tableæ˜¯å”¯ä¸€çš„ç»„åˆæ•°æ®ç»“æ„ï¼ŒåŠŸèƒ½ç±»ä¼¼äºjsçš„å¯¹è±¡ï¼Œæ—¢èƒ½å½“å“ˆå¸Œè¡¨æˆ–å­—å…¸ï¼Œåˆèƒ½å½“åˆ—è¡¨ï¼Œè¿˜èƒ½ä½œä¸ºç±»ã€‚å¦‚æœæƒ³è¦å†™å¥½luaç¨‹åºï¼Œä½ å°†ä¸å¾—ä¸ç›´é¢è¿™ç§èº«å…¼æ•°èŒçš„å¢ƒå†µã€‚</p>
<p>åœ¨ä»¥ä¸Šè¿™æ®µä»£ç ä¸­ï¼Œé…ç½®gitsignsæ—¶æˆ‘ä»¬ä½¿ç”¨äº†<code>opts</code>è¿™ä¸ªé…ç½®é”®ã€‚è¿™æ˜¯æœ€ç®€æ´çš„é…ç½®é”®ï¼Œé…ç½®çš„é€‰é¡¹åˆæ’ä»¶ä½œè€…æä¾›ï¼Œæ’ä»¶åŠ è½½å®Œæˆåä¼šè‡ªåŠ¨è°ƒç”¨ä½ ç»™å‡ºçš„é…ç½®ã€‚</p>
<p>å…¶ä»–çš„æ’ä»¶é…ç½®é”®æˆ‘ä»¬æš‚ä¸”ä¸è°ˆï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆç”±ä¸€ä¸ªç®€å•è€Œæ•ˆæœæ˜¾è‘—çš„æ’ä»¶é…ç½®å‡ºå‘ï¼Œæ¥è‡ªå·±æ‰‹åŠ¨å®Œæˆä¸€ä¸ªé…ç½®ï¼šé…è‰²æ–¹æ¡ˆã€‚</p>
<h3 id="é…è‰²æ–¹æ¡ˆé…ç½®">é…è‰²æ–¹æ¡ˆé…ç½®<a href="#%e9%85%8d%e8%89%b2%e6%96%b9%e6%a1%88%e9%85%8d%e7%bd%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>  { <span style="color:#75715e">-- You can easily change to a different colorscheme.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- Change the name of the colorscheme plugin below, and then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- change the command in the config to whatever the name of that colorscheme is.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- If you want to see what colorschemes are already installed, you can use `:Telescope colorscheme`.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;folke/tokyonight.nvim&#39;</span>,
</span></span><span style="display:flex;"><span>    priority <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>, <span style="color:#75715e">-- Make sure to load this before all the other start plugins.</span>
</span></span><span style="display:flex;"><span>    config <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">---@diagnostic disable-next-line: missing-fields</span>
</span></span><span style="display:flex;"><span>      require(<span style="color:#e6db74">&#39;tokyonight&#39;</span>).setup {
</span></span><span style="display:flex;"><span>        styles <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>          comments <span style="color:#f92672">=</span> { italic <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span> }, <span style="color:#75715e">-- Disable italics in comments</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- Load the colorscheme here.</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- Like many other themes, this one has different styles, and you could load</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- any other, such as &#39;tokyonight-storm&#39;, &#39;tokyonight-moon&#39;, or &#39;tokyonight-day&#39;.</span>
</span></span><span style="display:flex;"><span>      vim.cmd.colorscheme <span style="color:#e6db74">&#39;tokyonight-night&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>,
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><p>åœ¨kickstarté…ç½®æ¨¡ç‰ˆä¸­ï¼Œé»˜è®¤çš„é…è‰²æ–¹æ¡ˆé•¿æˆè¿™æ ·ã€‚å®ƒä¸‹è½½çš„æ˜¯tokyonightï¼Œä¸€ä¸ªæˆ‘ä¸ªäººä¸æ˜¯å¾ˆå–œæ¬¢çš„é…è‰²æ–¹æ¡ˆã€‚æ‰€ä»¥æˆ‘ä¸€å®šè¦æŠŠå®ƒæ”¹æ‰ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹è¿™æ®µä»£ç çš„ç»„æˆï¼š</p>
<ul>
<li><code>'folke/tokyonight.nvim',</code>ä½œè€…+æ’ä»¶åï¼Œä¸€ä¸ªæ’ä»¶çš„æœ€ç®€å½¢å¼ã€‚</li>
<li><code>priority = 1000,</code>è®¾ç½®ä¼˜å…ˆçº§ã€‚é¢œè‰²ä¸»é¢˜éœ€è¦è¾ƒé«˜çš„ä¼˜å…ˆçº§ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨ä½ çœ‹åˆ°ä»»ä½•ç•Œé¢å…ƒç´ ä¹‹å‰ï¼Œé¢œè‰²ä¸»é¢˜å·²ç»åŠ è½½å®Œæ¯•ï¼Œä½¿è§†è§‰ä½“éªŒæ›´å¹³æ»‘ã€‚</li>
<li><code>require('tokyonight').setup</code>è°ƒç”¨æ’ä»¶æä¾›çš„æ ‡å‡†é…ç½®å‡½æ•°</li>
<li><code>comments = { italic = false }</code>ç¦ç”¨æ³¨é‡Šæ–œä½“ï¼Œè¿™ä¸ªåŠŸèƒ½åœ¨æŸäº›å¹³å°ä¸Šè¡¨ç°ä¸ä½³ï¼ˆæ¯”å¦‚æˆ‘çš„termuxï¼‰</li>
<li><code>vim.cmd.colorscheme 'tokyonight-night'</code>åœ¨å®Œæˆå‰é¢çš„setupæ­¥éª¤åï¼Œè®©nvimçœŸæ­£å¼€å§‹åŠ è½½è¿™ä¸ªé¢œè‰²ä¸»é¢˜ã€‚</li>
</ul>
<p>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±æ¥ä¿®æ”¹è¿™æ®µä»£ç ï¼Œæ¥æ”¹æˆæˆ‘æ›´å–œæ¬¢çš„onedarkproä¸»é¢˜ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;olimorris/onedarkpro.nvim&#39;</span>,
</span></span><span style="display:flex;"><span>    priority <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>,
</span></span><span style="display:flex;"><span>    config <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>      require(<span style="color:#e6db74">&#39;onedarkpro&#39;</span>).setup {
</span></span><span style="display:flex;"><span>        highlights <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>          Comment <span style="color:#f92672">=</span> { italic <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span> },
</span></span><span style="display:flex;"><span>          Directory <span style="color:#f92672">=</span> { bold <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> },
</span></span><span style="display:flex;"><span>          ErrorMsg <span style="color:#f92672">=</span> { italic <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>, bold <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      vim.cmd <span style="color:#e6db74">&#39;colorscheme onedark&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>,
</span></span><span style="display:flex;"><span>  },
</span></span></code></pre></div><p>okï¼Œå½“æˆ‘ä¿å­˜é€€å‡ºå†è¿›å…¥åï¼Œæˆ‘å°±å–œææ–°é¢œè‰²ä¸»é¢˜äº†ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œè¿™éƒ¨åˆ†å†…å®¹éš¾ç‚¹å°±åœ¨äºï¼šå¦‚æœä½ ä¸å»æ·±å…¥äº†è§£é…ç½®æ–‡ä»¶çš„ç»„æˆç»“æ„ï¼Œä½ å¯èƒ½æ ¹æœ¬ä¸çŸ¥é“githubä¸Šç»™å‡ºçš„é…ç½®ä»£ç åˆ°åº•è¯¥æ”¾åœ¨å“ªã€‚ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œåªéœ€è¦æŠŠgithubä¸Šç»™å‡ºçš„é…ç½®ä»£ç å¡è¿›ä¸€ä¸ªtableé‡Œï¼Œå†å¡åˆ°<code>require('lazy').setup({</code>é‡Œå³å¯ã€‚</p>
<p>é¢œè‰²æ–¹æ¡ˆé…ç½®æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠä»»ä½•æŒ‰é”®çš„è®¾ç½®ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä¸ºæˆ‘ä»¬çš„nvimæ·»åŠ ä¸€ä¸ªâ€œæµ®åŠ¨ç»ˆç«¯â€ï¼Œå°±æƒ³ä¸€èˆ¬çš„å›¾å½¢åŒ–ç•Œé¢ideé‚£æ ·åœ¨ç•Œé¢çš„ä¸­å¤®å¼¹å‡ºä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œè€Œéä½¿ç”¨nvimåŸç”Ÿçš„ç±»ä¼¼åˆ†å±çš„ç»ˆç«¯ã€‚</p>
<p>ä½†æ˜¯åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¿›è¡Œä¸€äº›å‡†å¤‡å·¥ä½œï¼šæˆ‘ä»¬å®é™…ä¸Šåº”è¯¥æŠŠè¿™äº›æ’ä»¶è¯´æ˜ä¹¦åˆ†é—¨åˆ«ç±»çš„æ”¾åœ¨<code>lua/custom/plugins</code>ç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯å…¨éƒ¨æ‰å¹³åŒ–çš„æ”¾åœ¨init.luaä¸­ã€‚è®©æˆ‘ä»¬å…ˆæŠŠé¢œè‰²æ–¹æ¡ˆçš„ä»£ç ç§»åŠ¨è¿‡å»ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹åˆ°<code>init.lua</code>ä¸­æ’ä»¶è¯´æ˜ä¹¦çš„æœ€åéƒ¨åˆ†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>  <span style="color:#75715e">-- note: the import below can automatically add your own plugins, configuration, etc from `lua/custom/plugins/*.lua`</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--    this is the easiest way to modularize your config.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">--  uncomment the following line and add your plugins to `lua/custom/plugins/*.lua` to get going.</span>
</span></span><span style="display:flex;"><span>  { import <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;custom.plugins&#39;</span> },
</span></span></code></pre></div><p>è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œ<code>\{ import = 'custom.plugins' },</code>åŸæœ¬æ˜¯æ³¨é‡Šèµ·æ¥çš„ï¼Œå°†å‰é¢çš„æ³¨é‡Šç¬¦å·åˆ é™¤ï¼Œè¿™æ ·lazy.nvimå°±ä¼šè‡ªåŠ¨å»åœ¨custom/pluginsç›®å½•ä¸‹å¯»æ‰¾æ’ä»¶è¯´æ˜ä¹¦ã€‚</p>
<p>æ¥ç€ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>nvim lua/custom/plugins/colorscheme.lua
</span></span></code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªä¸“é—¨å­˜æ”¾é…è‰²æ–¹æ¡ˆçš„luaæ¨¡å—ã€‚å°†åŸæœ¬æˆ‘ä»¬å†™åœ¨init.luaä¸­çš„ä»£ç ç§»æ¤è¿‡æ¥ï¼Œå¹¶ç”¨<code>return{}</code>åŒ…è£¹ï¼Œå¾—åˆ°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">--colorscheme.lua</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;olimorris/onedarkpro.nvim&#39;</span>,
</span></span><span style="display:flex;"><span>    priority <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>,
</span></span><span style="display:flex;"><span>    config <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>      require(<span style="color:#e6db74">&#39;onedarkpro&#39;</span>).setup {
</span></span><span style="display:flex;"><span>        highlights <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>          Comment <span style="color:#f92672">=</span> { italic <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span> },
</span></span><span style="display:flex;"><span>          Directory <span style="color:#f92672">=</span> { bold <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> },
</span></span><span style="display:flex;"><span>          ErrorMsg <span style="color:#f92672">=</span> { italic <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>, bold <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> },
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      vim.cmd <span style="color:#e6db74">&#39;colorscheme onedark&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>,
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æ­¤æ—¶ï¼Œé‡æ–°æ‰“å¼€nvimï¼Œé…è‰²æ–¹æ¡ˆåº”è¯¥ä¾ç„¶å·¥ä½œæ­£å¸¸ã€‚è¿™å°±æ„å‘³ç€ä½ æˆåŠŸæ„å»ºäº†ä¸€ä¸ªæ’ä»¶è¯´æ˜ä¹¦ã€‚</p>
<h4 id="æµ®åŠ¨ç»ˆç«¯">æµ®åŠ¨ç»ˆç«¯<a href="#%e6%b5%ae%e5%8a%a8%e7%bb%88%e7%ab%af" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æµ®åŠ¨ç»ˆç«¯çš„å¸¸ç”¨æ’ä»¶æ˜¯<code>toggleterm.nvim</code>ï¼Œç®€ç§°toggleã€‚</p>
<p>è®©æˆ‘ä»¬å…ˆåœ¨pluginsä¸‹åˆ›å»ºä¸€ä¸ªä¸“å±äºtoggleçš„luaæ¨¡å—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>nvim lua/custom/plugins/toggleterm.lua
</span></span></code></pre></div><p>ç„¶åï¼Œè®©æˆ‘å†™å…¥æ’ä»¶çš„é…ç½®ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#39;akinsho/toggleterm.nvim&#39;</span>,
</span></span><span style="display:flex;"><span>  version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>,
</span></span><span style="display:flex;"><span>  config <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>    require(<span style="color:#e6db74">&#39;toggleterm&#39;</span>).setup {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- è®¾ç½®ç»ˆç«¯çª—å£å¤§å°</span>
</span></span><span style="display:flex;"><span>      size <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(term)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> term.direction <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;horizontal&#39;</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">15</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elseif</span> term.direction <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;vertical&#39;</span> <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">return</span> vim.o.columns <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.4</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- æ‰“å¼€ç»ˆç«¯çš„å¿«æ·é”®ï¼Œè¿™é‡Œè®¾ç½®ä¸º Ctrl + \</span>
</span></span><span style="display:flex;"><span>      open_mapping <span style="color:#f92672">=</span> <span style="color:#e6db74">[[&lt;c-\&gt;]]</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- éšè— toggleterm buffer ä¸­çš„è¡Œå·</span>
</span></span><span style="display:flex;"><span>      hide_numbers <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- å½“ Neovim ç›®å½•åˆ‡æ¢æ—¶ï¼Œç»ˆç«¯ä¸‹æ¬¡æ‰“å¼€ä¹Ÿä¼šåˆ‡æ¢åˆ°ç›¸åº”ç›®å½•</span>
</span></span><span style="display:flex;"><span>      autochdir <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- è®¾ç½®ç»ˆç«¯çª—å£çš„èƒŒæ™¯è‰²ï¼Œå¯ä»¥æ ¹æ®ä½ çš„ä¸»é¢˜è¿›è¡Œè°ƒæ•´</span>
</span></span><span style="display:flex;"><span>      highlights <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        Normal <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>          guibg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;none&#39;</span>, <span style="color:#75715e">-- è¿™é‡Œè®¾ç½®ä¸º &#34;none&#34; è¡¨ç¤ºä½¿ç”¨é»˜è®¤èƒŒæ™¯</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        NormalFloat <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>          link <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Normal&#39;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- é˜´å½±æ•ˆæœï¼Œå¦‚æœè®¾ç½®äº†ä¸Šé¢çš„ highlights ä¸­çš„ Normalï¼Œå»ºè®®å°†æ­¤é¡¹è®¾ä¸º false</span>
</span></span><span style="display:flex;"><span>      shade_terminals <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- é˜´å½±çš„å¼ºåº¦ï¼Œæ•°å€¼è¶Šå°è¶Šæ·±</span>
</span></span><span style="display:flex;"><span>      shading_factor <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">30</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- å¯åŠ¨æ—¶è¿›å…¥æ’å…¥æ¨¡å¼</span>
</span></span><span style="display:flex;"><span>      start_in_insert <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- åœ¨æ’å…¥æ¨¡å¼ä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ open_mapping æ‰“å¼€ç»ˆç«¯</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- insert_mappings = true,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- åœ¨ç»ˆç«¯çª—å£ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ open_mapping (ä¼šè¦†ç›–ä¸€äº›ç»ˆç«¯é»˜è®¤è¡Œä¸º)</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- terminal_mappings = true,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- ä¿æŒä¸Šæ¬¡ç»ˆç«¯çš„å¤§å°</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- persist_size = true,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- ç»ˆç«¯è¿›ç¨‹é€€å‡ºæ—¶è‡ªåŠ¨å…³é—­çª—å£</span>
</span></span><span style="display:flex;"><span>      direction <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;float&#39;</span>, <span style="color:#75715e">-- è®¾ç½®é»˜è®¤æ‰“å¼€æ–¹å¼ä¸ºæµ®åŠ¨çª—å£</span>
</span></span><span style="display:flex;"><span>      close_on_exit <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- ä½¿ç”¨ Neovim çš„é»˜è®¤ shell</span>
</span></span><span style="display:flex;"><span>      shell <span style="color:#f92672">=</span> vim.o.shell,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨</span>
</span></span><span style="display:flex;"><span>      auto_scroll <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">-- æµ®åŠ¨çª—å£çš„è®¾ç½®</span>
</span></span><span style="display:flex;"><span>      float_opts <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">-- è¾¹æ¡†æ ·å¼</span>
</span></span><span style="display:flex;"><span>        border <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;curved&#39;</span>, <span style="color:#75715e">-- ä½¿ç”¨åœ†è§’è¾¹æ¡†</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">-- çª—å£é€æ˜åº¦</span>
</span></span><span style="display:flex;"><span>        winblend <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- è®¾ç½®ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåœ¨ normal æ¨¡å¼ä¸‹æŒ‰ä¸‹ &lt;esc&gt; æ—¶é€€å‡ºç»ˆç«¯</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_G</span>.<span style="color:#a6e22e">set_terminal_keymaps</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">local</span> opts <span style="color:#f92672">=</span> { buffer <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> }
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;esc&gt;&#39;</span>, <span style="color:#e6db74">[[&lt;C-\&gt;&lt;C-n&gt;]]</span>, opts)
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;jk&#39;</span>, <span style="color:#e6db74">[[&lt;C-\&gt;&lt;C-n&gt;]]</span>, opts) <span style="color:#75715e">-- jk ä¹Ÿå¯ä»¥é€€å‡º</span>
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-h&gt;&#39;</span>, <span style="color:#e6db74">[[&lt;Cmd&gt;wincmd h&lt;CR&gt;]]</span>, opts)
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-j&gt;&#39;</span>, <span style="color:#e6db74">[[&lt;Cmd&gt;wincmd j&lt;CR&gt;]]</span>, opts)
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-k&gt;&#39;</span>, <span style="color:#e6db74">[[&lt;Cmd&gt;wincmd k&lt;CR&gt;]]</span>, opts)
</span></span><span style="display:flex;"><span>      vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-l&gt;&#39;</span>, <span style="color:#e6db74">[[&lt;Cmd&gt;wincmd l&lt;CR&gt;]]</span>, opts)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- å½“æ‰“å¼€ç»ˆç«¯æ—¶ï¼Œè‡ªåŠ¨åº”ç”¨ä¸Šé¢çš„å¿«æ·é”®è®¾ç½®</span>
</span></span><span style="display:flex;"><span>    vim.cmd(<span style="color:#e6db74">&#39;autocmd! TermOpen term://* lua set_terminal_keymaps()&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- å®šä¹‰ä¸€ä¸ªå¿«æ·é”®ï¼Œæ–¹ä¾¿åœ°æ‰“å¼€ä¸€ä¸ª LazyGit ç»ˆç«¯</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> Terminal <span style="color:#f92672">=</span> require(<span style="color:#e6db74">&#39;toggleterm.terminal&#39;</span>).Terminal
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">local</span> lazygit <span style="color:#f92672">=</span> Terminal:new({
</span></span><span style="display:flex;"><span>      cmd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;lazygit&#34;</span>,
</span></span><span style="display:flex;"><span>      hidden <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      direction <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;float&#34;</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">_LAZYGIT_TOGGLE</span>()
</span></span><span style="display:flex;"><span>      lazygit:toggle()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    vim.keymap.set(<span style="color:#e6db74">&#34;n&#34;</span>, <span style="color:#e6db74">&#34;&lt;leader&gt;gg&#34;</span>, <span style="color:#e6db74">&#34;&lt;cmd&gt;lua _LAZYGIT_TOGGLE()&lt;CR&gt;&#34;</span>, {
</span></span><span style="display:flex;"><span>        noremap <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>        silent <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>        desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Lazygit&#34;</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨äº†è§£äº†åŸç†ä¹‹åï¼Œå’Œaiäº¤æµçš„éš¾åº¦æ˜¾è‘—ä¸‹é™äº†ã€‚æˆ‘å¾—åˆ°äº†ä¸€å¥—éå¸¸æ£’çš„é…ç½®ï¼Œç”šè‡³å¸®æˆ‘æ·»åŠ äº†lazygitçš„ç•Œé¢ã€‚æ•ˆæœéå¸¸å¸…ã€‚</p>
<p>è¿™æ—¶å€™ä¿å­˜é€€å‡ºï¼Œå†é‡è¿›ï¼Œä½ å°±åº”è¯¥å¯ä»¥é€šè¿‡ä½ è®¾ç½®çš„å¿«æ·é”®æ¥æ‰“å¼€toggleç»ˆç«¯äº†ã€‚</p>
<hr>
<p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å·²ç»å¯ä»¥å®Œå…¨è‡ªå·±ä¸Šæ‰‹å»è§£å†³æ’ä»¶é…ç½®é—®é¢˜äº†ã€‚å®é™…ä¸Šï¼Œä½ åŸºæœ¬ä¸éœ€è¦è‡ªå·±å†™ä»£ç ï¼Œä½ åªè¦èƒ½è¯»çš„æ‡‚ä¸€ç‚¹ä»£ç å°±è¡Œï¼Œä½ åªéœ€è¦æŠŠgithubä¸Šæ’ä»¶ä½œè€…æä¾›çš„é…ç½®æ ·ä¾‹ä¸¢ç»™aiè®©å®ƒç”Ÿæˆä¸€ä¸ªæ¶µç›–äº†å¤§å¤šæ•°åŠŸèƒ½çš„é…ç½®ï¼Œå†ä¾æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œåˆ æ”¹å³å¯ã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>Neovimé…ç½®å¦‚ä½•å…¥é—¨</title>
			<link>http://localhost:1313/zh-cn/posts/neovim%E9%85%8D%E7%BD%AE%E5%A6%82%E4%BD%95%E5%85%A5%E9%97%A8/</link>
			<pubDate>Sun, 23 Nov 2025 10:53:11 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/neovim%E9%85%8D%E7%BD%AE%E5%A6%82%E4%BD%95%E5%85%A5%E9%97%A8/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p>å¦‚é¢˜ã€‚neovimå› ä¸ºè‡ªå®šä¹‰ç¨‹åº¦è¿‡é«˜å¯¼è‡´å­¦ä¹ æ›²çº¿æå…¶é™¡å³­ï¼Œè™½ç„¶åŠŸèƒ½å¾ˆå¼ºå¤§ä½†æ˜¯é…ç½®è¿‡ç¨‹æå…¶æŠ˜ç£¨ï¼Œå°¤å…¶æ˜¯å½“ä½ å¯¹äºneovimé…ç½®çš„åŸç†æ¯«æ— æ¦‚å¿µçš„æ—¶å€™ã€‚</p>
<p>é—²è¨€å°‘å™ï¼Œæˆ‘å°è¯•æ¥æ€»ç»“ä¸€ä¸‹å¦‚ä½•å¿«é€Ÿå…¥é—¨å¹¶é…ç½®ä¸€ä¸ªèƒ½ç”¨çš„neovimã€‚ï¼ˆåè®°ï¼šåœ¨å­¦ä¹ å®Œå¦‚ä½•é…ç½®nvimä¹‹åï¼Œä½ å®é™…åº”è¯¥åšçš„æ˜¯å»ç”¨lazyvimã€‚lazyvimçš„lazyextraåŠŸèƒ½ç›´æ¥ä¼˜åŒ–æ‰äº†nvimæœ€åäººç±»çš„lspé…ç½®è¿‡ç¨‹ï¼Œå¦‚æœä½ æœ‰ç”Ÿæ´»ï¼Œä¸è¦å°è¯•è‡ªå·±é…ç½®lspã€‚ä½†æ˜¯å¦‚æœä½ æƒ³åœ¨ä½¿ç”¨lazyvimæ—¶å¯ä»¥è½»æ¾åº”å¯¹å„ç§æ’ä»¶é—®é¢˜ï¼Œä½ æœ€å¥½å­¦ä¸€ä¸‹nvimæ’ä»¶é…ç½®çš„é€šç”¨åŸç†ï¼Œå³æˆ‘ä¸‹æ–‡ä¸­ä¼šè®²åˆ°çš„ã€‚ï¼‰</p>
<hr>
<h2 id="nvimé…ç½®åŸç†">Nvimé…ç½®åŸç†<a href="#nvim%e9%85%8d%e7%bd%ae%e5%8e%9f%e7%90%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>neovimæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®Œå…¨å¯ä»¥è¿è¡Œåœ¨ç»ˆç«¯ä¸­ï¼Œæ— éœ€ç»™å®ƒä¸€ä¸ªæ¡Œé¢ç¯å¢ƒã€‚ä½ å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚ç»™å®ƒæ·»åŠ å¯¹ç‰¹å®šç¼–ç¨‹è¯­è¨€çš„æ”¯æŒï¼Œæ·»åŠ è¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨ç­‰åŠŸèƒ½ï¼Œæˆ–è€…åˆ‡æ¢é¢œè‰²ä¸»é¢˜ã€‚å®ƒéå¸¸è½»é‡ï¼Œè¿è¡Œé£é€Ÿï¼Œæå…¶è´´è¿‘ä»£ç çš„åŸç”Ÿç¯å¢ƒï¼Œå¹¶ä¸”å¯ä»¥è¿è¡Œåœ¨ä»»ä½•ä¸€å°çœ‹èµ·æ¥åƒç”µè„‘çš„æœºå™¨ä¸Šã€‚</p>
<p>ä½†æ˜¯ä»£ä»·æ˜¯ï¼Œè¿™ä¸€åˆ‡éƒ½å¿…é¡»é€šè¿‡ä½ è‡ªå·±æ‰‹åŠ¨é…ç½®æ¥å®Œæˆã€‚Neovimå¹¶ä¸æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨çš„è½¯ä»¶ï¼Œå³ä½¿ä½ ä½¿ç”¨ä¸€äº›è¯¸å¦‚Nvchadæˆ–è€…Lazyvimè¿™æ ·çš„é¢„é…ç½®ç‰ˆæœ¬ï¼Œå¾ˆå¤šåŠŸèƒ½è¿˜æ˜¯å¿…é¡»è¦ä½ è‡ªå·±æ‰‹åŠ¨æ·»åŠ ã€‚</p>
<p>é€šå¸¸ï¼Œä¸€ä¸ªneovimçš„é…ç½®æ–‡ä»¶ç›®å½•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>~/.config/nvim/
</span></span><span style="display:flex;"><span>â”œâ”€â”€ init.lua
</span></span><span style="display:flex;"><span>â””â”€â”€ lua/
</span></span><span style="display:flex;"><span>    â”œâ”€â”€ config/
</span></span><span style="display:flex;"><span>    â”‚   â”œâ”€â”€ options.lua
</span></span><span style="display:flex;"><span>    â”‚   â”œâ”€â”€ keymaps.lua
</span></span><span style="display:flex;"><span>    â”‚   â””â”€â”€ autocmds.lua
</span></span><span style="display:flex;"><span>    â””â”€â”€ plugins/
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ init.lua       ï¼ˆå¯é€‰ï¼‰
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ lualine.lua
</span></span><span style="display:flex;"><span>        â”œâ”€â”€ treesitter.lua
</span></span><span style="display:flex;"><span>        â””â”€â”€ â€¦â€¦
</span></span></code></pre></div><p>ä¹ä¸€çœ‹ï¼Œä½ å¯èƒ½ä¼šè§‰å¾—å¾ˆå¤æ‚ã€‚å…¶å®ä¸ç„¶ï¼Œå› ä¸ºluaç›®å½•ä¸‹çš„æ–‡ä»¶å®é™…éƒ½æ˜¯è‡ªå·±æƒ³æ€ä¹ˆåŠ å°±æ€ä¹ˆåŠ çš„ï¼ŒçœŸæ­£é™å®šçš„ç»“æ„åªæœ‰æ ¹ç›®å½•ä¸‹çš„init.luaå’Œluaè¿™ä¸ªæ–‡ä»¶å¤¹ã€‚åªä¸è¿‡é€šå¸¸è€Œè¨€æˆ‘ä»¬ä¼šåœ¨luaæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºè¿™äº›æ–‡ä»¶ç»“æ„ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç®¡ç†è‡ªå·±åŠ å…¥çš„æ’ä»¶ä»¥åŠç›¸åº”é…ç½®ã€‚</p>
<p>æ­£å¦‚ä½ æ‰€è§ï¼Œnvimçš„é…ç½®æ–‡ä»¶å…¨éƒ¨éƒ½ä½¿ç”¨çš„æ˜¯luaè¯­è¨€ã€‚ä½†æ˜¯ä¸ç”¨æœ‰å¤ªé«˜çš„å¿ƒç†è´Ÿæ‹…ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªè¯­æ³•ç”šè‡³æ¯”pythonè¿˜è¦ç®€å•çš„è¯­è¨€ã€‚nvimé…ç½®è¿‡ç¨‹å°±ç›¸å½“äºæ„å»ºä¸€ä¸ªè‡ªå·±çš„luaè¯­è¨€ç¨‹åºï¼Œä½ éœ€è¦è‡ªå·±ç»„ç»‡å…¶æ–‡ä»¶ç»“æ„æ¥è®©neovimçŸ¥é“å¦‚ä½•ä½¿ç”¨ä½ çš„é…ç½®ã€‚</p>
<p>æ‰€ä»¥æ˜¾ç„¶ï¼Œåœ¨ä½ å¼€å§‹é…ç½®nvimä¹‹å‰ï¼Œä½ æœ€å¥½èƒ½äº†è§£ä¸€ä¸‹luaè¯­è¨€çš„ç”¨æ³•ã€‚ä¸è¿‡ä¹Ÿä¸ç”¨ç€æ€¥ï¼Œä½ å¯ä»¥æ¥ç€çœ‹ï¼Œé‡åˆ°ä¸æ‡‚çš„ç‚¹å†å»æ·±å…¥äº†è§£ã€‚</p>
<hr>
<h3 id="kickstart">kickstart<a href="#kickstart" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><a href="https://github.com/nvim-lua/kickstart.nvim">kickstarté“¾æ¥</a>
è¿™æ˜¯å¹¶ä¸æ˜¯ä¸€ä¸ªneovimå‘è¡Œç‰ˆï¼Œå®ƒåªæ˜¯ä¸€å¥—é…ç½®æ–‡ä»¶ã€‚ä¸¥è°¨çš„è¯´ï¼Œå®ƒæ˜¯nvimå®˜æ–¹ç»´æŠ¤çš„ä¸€ä¸ªå­¦ä¹ ç‰ˆnvimé…ç½®æ¡†æ¶ã€‚å®ƒä½¿ç”¨äº†lazy. nvimè¿™ä¸€æ’ä»¶ç®¡ç†å™¨ï¼ˆæ³¨æ„ï¼šè¿™å’Œlazyvimå®Œå…¨ä¸æ˜¯ä¸€å›äº‹ï¼‰ï¼Œä½†æ˜¯å’Œlazyvimæ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ä¸¤ä¸ªä¸œè¥¿ï¼Œåè€…æ˜¯ä¸€ä¸ªâ€œå¼€ç®±å³ç”¨â€çš„nvimæ¡†æ¶ï¼ˆä½†ä¹Ÿä¸é‚£ä¹ˆå¼€ç®±å³ç”¨ï¼‰ã€‚</p>
<p>ä½ ä»ç„¶éœ€è¦å®‰è£…nvimã€‚kickstartåªæ˜¯æä¾›äº†æ¸…æ™°çš„é…ç½®æ–‡ä»¶ï¼Œæ–¹ä¾¿åˆå­¦è€…å¿«é€Ÿäº†è§£å¦‚ä½•é…ç½®nvimã€‚æˆ‘ä»¬æ¥ä¸‹æ¥ä¹Ÿä¼šä»¥kickvimæä¾›çš„init.luaä¸ºä¾‹è®²è§£neovimå¯ä¾›é…ç½®çš„å†…å®¹ã€‚</p>
<h4 id="å®‰è£…neovim">å®‰è£…neovim<a href="#%e5%ae%89%e8%a3%85neovim" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨neovimï¼Œæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…å®ƒã€‚ä½ å¯ä»¥å®‰è£…ä»»æ„ä½ æƒ³è¦çš„ç‰ˆæœ¬ï¼Œä¸è¿‡è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Nvim 0.11.5ã€‚kickstartè¦æ±‚nvimç‰ˆæœ¬ä¸ºæœ€æ–°çš„ç¨³å®šç‰ˆï¼Œæˆ–è€…æ¯æ—¥å¤œæ™šè‡ªåŠ¨ç¼–è¯‘å¾—åˆ°çš„ä¸ç»è¿‡ç¨³å®šæ€§æµ‹è¯•çš„Nightlyç‰ˆï¼Œæˆ‘ä»¬æ­¤å¤„ä½¿ç”¨çš„æ˜¯æœ€æ–°çš„ç¨³å®šç‰ˆã€‚</p>
<p>å¯¹äºå¤§éƒ¨åˆ†æ™®é€šç”µè„‘ï¼Œcpué‡‡ç”¨x86_64æ¶æ„ï¼Œä½ éœ€è¦ä¸‹è½½nvim-linux-x86_64.tar.gzã€‚è¿™æ˜¯è½¯ä»¶æ–‡ä»¶çš„å‹ç¼©åŒ…ï¼Œä½ éœ€è¦æŠŠå®ƒç§»åŠ¨åˆ°ä½ æƒ³è¦å®ƒå­˜åœ¨çš„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>tar xzvf nvim-linux-x86_64.tar.gz <span style="color:#75715e">#æˆ–è€…ä½ å®é™…ä¸‹è½½çš„å‹ç¼©åŒ…</span>
</span></span></code></pre></div><p>æˆ‘è¿™è¾¹ä½¿ç”¨çš„æ˜¯termuxï¼Œå¹³æ¿ã€æ‰‹æœºä¸€èˆ¬cpuæ¶æ„æ˜¯arm64ï¼Œæ‰€ä»¥æˆ‘ä¸‹è½½çš„æ˜¯nvim-linux-arm64.tar.gzã€‚æ‰§è¡Œç›¸åŒå‘½ä»¤è§£å‹ä¹‹åå¾—åˆ°ä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ã€‚æ­¤æ—¶ï¼Œè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>./nvim-linux-x86_64/bin/nvim <span style="color:#75715e">#æ³¨æ„ç¬¬ä¸€ä¸ªåº”å½“æ˜¯ä½ å®é™…ä¸‹è½½çš„ç‰ˆæœ¬</span>
</span></span></code></pre></div><p>é€šå¸¸æ¥è¯´ï¼Œè¿™ä¸ªæ—¶å€™ä½ å°±ä¼šè¿›å…¥ä¸€ä¸ªnvimçš„é»˜è®¤çš„é»‘ç™½ç•Œé¢ã€‚è¿™å°±æ„å‘³ç€ä½ neovimå®‰è£…æˆåŠŸäº†ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œä½ æœ€å¥½è¿˜è¦å®‰è£…ä¸€äº›å‰ªåˆ‡æ¿å·¥å…·ï¼Œå¦‚xclipï¼Œä»¥åŠNerd Fontï¼Œç”¨æ¥æ˜¾ç¤ºæ›´ç¾è§‚çš„å›¾æ ‡ã€‚æ­¤éƒ¨åˆ†è‡ªè¡Œå‚è€ƒç›¸åº”çš„æ–‡æ¡£è‡ªå·±é€‰æ‹©è¿›è¡Œã€‚</p>
<h4 id="kickstartå®‰è£…">kickstartå®‰è£…<a href="#kickstart%e5%ae%89%e8%a3%85" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ç°åœ¨æˆ‘ä»¬æ¥å®‰è£…kickstartã€‚åœ¨kickstartçš„æ–‡æ¡£ä¸­ï¼Œå¼€å‘è€…æç¤ºè¯´å¯ä»¥å°†è¿™ä¸ªkickstartä»“åº“å¤åˆ»ä¸€ä»½åˆ°ä½ è‡ªå·±çš„ä»“åº“ä¸‹ï¼Œè¿™æ ·ä½ å¯ä»¥é€šè¿‡gitæ¥ç®¡ç†ä½ çš„é…ç½®ã€‚</p>
<p>å¦‚æœä½ æ‡’å¾—å¤åˆ»ä¸€ä»½ï¼Œç›´æ¥è¾“å…¥è¿™ä¸ªæŒ‡ä»¤ï¼Œkickstartå°±ä¼šå¼€å§‹è‡ªåŠ¨å®‰è£…ï¼ˆåè®°ï¼šè¿™é‡Œä½ æœ€å¥½è®°ä½è¿™ä¸ªæ–‡ä»¶ä½ç½®~/.config/nvimï¼Œå› ä¸ºä½ ä¹‹åæŠ˜è…¾é…ç½®çš„æ—¶å€™è¦ç»å¸¸æ‰“å¼€å®ƒï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>git clone https://github.com/nvim-lua/kickstart.nvim.git <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>XDG_CONFIG_HOME<span style="color:#66d9ef">:-</span>$HOME/.config<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>/nvim
</span></span></code></pre></div><p>å¦‚æœå¤åˆ»äº†ä¸€ä»½åˆ°è‡ªå·±çš„ä»“åº“ï¼Œç›´æ¥ä»è‡ªå·±çš„ä»“åº“å…‹éš†å³å¯ã€‚</p>
<p>åœ¨ä¸‹è½½å¥½åï¼Œå†æ¬¡è¾“å…¥<code>nvim</code>ï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ å°±ä¼šçœ‹è§ä¸€å †è¿›åº¦æ¡ï¼Œä¸€å †çœ‹ä¸æ‡‚çš„ä¸œè¥¿å®‰è£…å®Œåï¼Œç•Œé¢æ˜¾ç¤ºå‡ºTokyo nightçš„é…è‰²æ–¹æ¡ˆï¼Œè¿™å°±æ„å‘³ç€ä½ å®‰è£…æˆåŠŸäº†ã€‚</p>
<h4 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜">å¯èƒ½é‡åˆ°çš„é—®é¢˜<a href="#%e5%8f%af%e8%83%bd%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>åœ¨æŸäº›å¹³å°ä¸Šï¼Œstyluaæˆ–è€…ä¸€äº›å…¶ä»–æ’ä»¶å¹¶æ²¡æœ‰æä¾›é¢„ç¼–è¯‘ç‰ˆï¼Œè¿™æ„å‘³ç€Masonï¼ˆä½ å¯ä»¥ç†è§£ä¸ºnvimçš„åŒ…ç®¡ç†å™¨ï¼Œè‡ªåŠ¨å®‰è£…ã€ç®¡ç†å„ç§å¼€å‘å·¥å…·ï¼‰æ— æ³•è‡ªåŠ¨å®‰è£…è¿™äº›å·¥å…·ã€‚ä½ éœ€è¦è‡ªè¡Œç¼–è¯‘å®‰è£…ã€‚å…¶ä¸­æ¯”è¾ƒæ¨èçš„æ˜¯ä½¿ç”¨<strong>ä¸–ç•Œä¸Šæœ€å¥½çš„åŒ…ç®¡ç†å™¨</strong>cargoæ¥è¿›è¡Œç¼–è¯‘å®‰è£…ã€‚</p>
<p>è¦ä½¿ç”¨cargoï¼Œä½ éœ€è¦å…ˆå®‰è£…rustã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>pkg install rust <span style="color:#75715e">#è¿™é‡Œå¼€å¤´éœ€è¦ç”¨ä½ è‡ªå·±å®é™…çš„åŒ…ç®¡ç†å™¨</span>
</span></span></code></pre></div><p>å®‰è£…å®Œåï¼Œè¾“å…¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cargo install stylua
</span></span></code></pre></div><p>å¦‚æœæ²¡æœ‰æ„å¤–çš„è¯ï¼Œä¸‹è½½æˆåŠŸåäºŒè¿›åˆ¶æ–‡ä»¶ä¼šä½äº<code>~/.cargo/bin/stylua</code>ï¼ˆcargoç†è®ºä¸Šä¼šç»™å‡ºæç¤ºï¼‰ã€‚åœ¨<code>~/.bashrc</code>æˆ–è€…<code>~/.zshrc</code>ä¸­åŠ å…¥ä¸€è¡Œ<code>export PATH=&quot;$HOME/.cargo/bin:$PATH&quot;</code> é€€å‡ºåè¾“å…¥<code>source ~/.bashrc</code>æˆ–è€…<code>source ~/.zshrc</code>ï¼Œä¹‹åæŒ‰ç†æ¥è¯´styluaå°±å·²ç»å¯ä»¥å·¥ä½œäº†ã€‚</p>
<p>ä½†æ˜¯è¿™ä¸ªæ—¶å€™ï¼ŒMasonå¯èƒ½ä¼šå› ä¸ºåªè¯†åˆ«Masonå®‰è£…çš„styluaè€Œå¯¼è‡´è¿›å…¥nvimåä¾ç„¶æŠ¥é”™ã€‚ä½ å¯ä»¥:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>nvim ~/.config/nvim/init.lua
</span></span></code></pre></div><p>è¿™å°±æ˜¯æˆ‘ä»¬ä¸€ä¼šä¼šè®²åˆ°çš„æ–‡ä»¶ï¼Œé‡Œé¢ç½—åˆ—äº†æ‰€æœ‰ä½ å¯èƒ½ä¼šç”¨åˆ°çš„é…ç½®æ–‡æœ¬ã€‚åœ¨å…¶ä¸­å¤§æ¦‚718è¡Œçš„ä½ç½®ï¼Œä½ å¯ä»¥æ‰¾åˆ°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>require(<span style="color:#e6db74">&#34;mason-tool-installer&#34;</span>).setup {
</span></span><span style="display:flex;"><span>  ensure_installed <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">-- åˆ æ‰ stylua æˆ–è€…ä¸è¦å†™</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æ­£å¦‚ä¸Šæ–‡ä¸­çš„æ³¨é‡Šï¼Œæ­¤å¤„æœ¬æ¥åº”è¯¥æœ‰styluaç›¸å…³çš„å†…å®¹ã€‚å°†å®ƒåˆ æ‰æˆ–è€…æ³¨é‡Šæ‰å³å¯ã€‚ä¿å­˜é€€å‡ºï¼Œå†æ¬¡è¿›å…¥nvimï¼Œæ­¤æ—¶å°±ä¸ä¼šæœ‰styluaæŠ¥é”™äº†ã€‚ä½ å¯ä»¥é€šè¿‡<code>:!which stylua</code>æ¥éªŒè¯nvimå¯ä»¥æ‰¾åˆ°styluaåº”ç”¨ã€‚</p>
<p>é™¤styluaå¤–ï¼Œè¿˜æœ‰ä¸€äº›åŒ…ä¹Ÿå¯èƒ½ä¼šå› ä¸ºç¯å¢ƒç¼˜æ•…æ— æ³•ç›´æ¥é€šè¿‡masonå®‰è£…ï¼Œä¸å†ä¸€ä¸€åˆ—ä¸¾ã€‚</p>
<p>å¦‚æœä½ é‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œä½ å¯ä»¥æš‚æ—¶å…ˆæ”¾ä¸€æ”¾ï¼Œç»§ç»­é˜…è¯»ã€‚ä¹‹åä»ç„¶æ— æ³•è§£å†³ï¼Œåˆ™å»æ±‚åŠ©aiæˆ–è€…å…¶ä»–åšå®¢ã€‚</p>
<hr>
<h3 id="initlua">init.lua<a href="#initlua" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥è¿›å…¥æ ¹ç›®å½•çš„init.luaäº†ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>nvim ~/.config/nvim/init.lua
</span></span></code></pre></div><p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œä½ ä¼šè¿›å…¥ä¸€ä¸ª1000å¤šè¡Œçš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯kickstartçš„é…ç½®æ¨¡ç‰ˆã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šé€æ®µåˆ†æè¿™ä¸ªé…ç½®æ¨¡ç‰ˆã€‚</p>
<h3 id="å¼€å¤´éƒ¨åˆ†">å¼€å¤´éƒ¨åˆ†<a href="#%e5%bc%80%e5%a4%b4%e9%83%a8%e5%88%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<pre tabindex="0"><code>=====================================================================
==================== READ THIS BEFORE CONTINUING ====================
=====================================================================
========                                    .-----.          ========
========         .----------------------.   | === |          ========
========         |.-&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;-.|   |-----|          ========
========         ||                    ||   | === |          ========
========         ||   KICKSTART.NVIM   ||   |-----|          ========
========         ||                    ||   | === |          ========
========         ||                    ||   |-----|          ========
========         ||:Tutor              ||   |:::::|          ========
========         |&#39;-..................-&#39;|   |____o|          ========
========         `&#34;&#34;)----------------(&#34;&#34;`   ___________      ========
========        /::::::::::|  |::::::::::\  \ no mouse \     ========
========       /:::========|  |==hjkl==:::\  \ required \    ========
========      &#39;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#39;  &#39;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#39;  &#39;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#34;&#39;   ========
========                                                     ========
=====================================================================
=====================================================================

What is Kickstart?

  Kickstart.nvim is *not* a distribution.

  Kickstart.nvim is a starting point for your own configuration.
    The goal is that you can read every line of code, top-to-bottom, understand
    what your configuration is doing, and modify it to suit your needs.

    Once you&#39;ve done that, you can start exploring, configuring and tinkering to
    make Neovim your own! That might mean leaving Kickstart just the way it is for a while
    or immediately breaking it into modular pieces. It&#39;s up to you!

    If you don&#39;t know anything about Lua, I recommend taking some time to read through
    a guide. One possible example which will only take 10-15 minutes:
      - https://learnxinyminutes.com/docs/lua/

    After understanding a bit more about Lua, you can use `:help lua-guide` as a
    reference for how Neovim integrates Lua.
    - :help lua-guide
    - (or HTML version): https://neovim.io/doc/user/lua-guide.html
</code></pre><p>ç®€å•æ€»ç»“ï¼Œå°±æ˜¯å‘Šè¯‰ä½ è¿™ä¸æ˜¯ä¸€ä¸ªneovimå‘è¡Œç‰ˆï¼Œåªæ˜¯ä¸€ä¸ªæ¨¡ç‰ˆæ¡†æ¶ã€‚å…¶ä¸­å®ƒç»™å‡ºçš„ä¸€ä¸ª10-15minå­¦ä¹ luaçš„ç½‘ç«™ <a href="https://learnxinyminutes.com/zh-cn/lua/">https://learnxinyminutes.com/zh-cn/lua/</a> éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€ŸæŒæ¡ä½¿ç”¨luaçš„å…³é”®çŸ¥è¯†ã€‚luaå¹¶ä¸æ˜¯ä¸€ä¸ªå¤æ‚çš„è¯­è¨€ï¼Œç”šè‡³æ¯”pythonè¿˜è¦ç®€å•çš„å¤šã€‚ä¸‹é¢æˆ‘ç®€å•ç½—åˆ—ä¸€äº›æˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ°çš„luaçŸ¥è¯†ã€‚</p>
<h3 id="ä¸€äº›å¿…é¡»çš„luaåŸºç¡€çŸ¥è¯†">ä¸€äº›å¿…é¡»çš„luaåŸºç¡€çŸ¥è¯†<a href="#%e4%b8%80%e4%ba%9b%e5%bf%85%e9%a1%bb%e7%9a%84lua%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<h4 id="localå…³é”®å­—">localå…³é”®å­—<a href="#local%e5%85%b3%e9%94%ae%e5%ad%97" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>åœ¨luaå½“ä¸­ï¼Œå¦‚æœä¸ä½¿ç”¨localå£°æ˜ï¼Œå˜é‡å°±ä¼šè¢«è§†ä¸ºå…¨å±€å˜é‡ã€‚åœ¨å£°æ˜å‡½æ•°ä¹‹å‰åŠ ä¸Šlocalè¢«è§†ä¸ºæ˜¯luaç¼–ç¨‹çš„è‰¯å¥½é£æ ¼ã€‚</p>
<h4 id="requireå…³é”®å­—">requireå…³é”®å­—<a href="#require%e5%85%b3%e9%94%ae%e5%ad%97" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>è¿™ä¸ªå…³é”®å­—éå¸¸é‡è¦ï¼Œå®ƒçš„ä½œç”¨æ˜¯åŠ è½½å’Œä½¿ç”¨æ¨¡å—ã€‚ç®€å•æ¥è¯´ï¼Œä½ çš„é…ç½®æ–‡ä»¶å¯èƒ½æœ‰å¤æ‚çš„ç»“æ„ï¼Œä½†æ˜¯neovimå¹¶ä¸èƒ½å…¨è‡ªåŠ¨åœ°å»æœç´¢æ‰€æœ‰çš„.luaæ–‡ä»¶ã€‚æ­£å¦‚å¾ˆå¤šå…¶ä»–è¯­è¨€åªæœ‰ä¸€ä¸ªmain.xxæ–‡ä»¶ä¸€æ ·ï¼Œluaé€šå¸¸è€Œè¨€ä¹Ÿåªæœ‰ä¸€ä¸ªä¸»æ–‡ä»¶ï¼Œä½ éœ€è¦åœ¨è¿™ä¸ªä¸»æ–‡ä»¶ä¸­å¼•ç”¨å…¶ä»–æ–‡ä»¶çš„å†…å®¹ã€‚</p>
<p>åœ¨æˆ‘ä¸ªäººçœ‹æ¥ï¼Œluaçš„æ–‡ä»¶ç»„ç»‡æ–¹å¼å’Œpythonæœ‰è®¸å¤šç›¸ä¼¼ä¹‹å¤„ã€‚ä¸¤è€…éƒ½å°†å•ä¸ªçš„.luaæ–‡ä»¶æˆ–è€….pyæ–‡ä»¶çœ‹åšä¸€ä¸ª&quot;æ¨¡å—&quot;ï¼Œä¸åŒåŠŸèƒ½çš„æ¨¡å—ä¹‹é—´é™¤äº†æ–‡ä»¶å†…å®¹ä¹‹å¤–æ²¡æœ‰æ–‡ä»¶åç¼€åæˆ–è€…æ–‡ä»¶åçš„é™åˆ¶ã€‚ä½†æ˜¯pythonå’Œluaåœ¨ä¸€äº›ç»†èŠ‚çš„æœºåˆ¶ä¸Šè¿˜æ˜¯æœ‰æ‰€ä¸åŒã€‚</p>
<p>pythonçš„æ¨¡å—å¯¼å‡ºæœºåˆ¶å¯ä»¥çœ‹åšæ˜¯â€œé»˜è®¤å¯¼å‡ºâ€ã€‚ä¸€ä¸ªpythonæ¨¡å—æ–‡ä»¶ï¼ˆå³ä¸€ä¸ª.pyæ–‡ä»¶ï¼‰æ‰€æœ‰çš„é¡¶çº§å˜é‡ã€å‡½æ•°ã€ç±»å…¨éƒ½æ˜¯å…¬å¼€çš„ã€‚æ¯”å¦‚ä½ åœ¨<code>utils.py</code>ä¸­å†™äº†ä¸€ä¸ªåä¸º<code>myfunction()</code>çš„å‡½æ•°ï¼Œä½ æƒ³åœ¨å¦ä¸€ä¸ª.pyæ–‡ä»¶ä¸­ä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œä½ åªéœ€è¦å…ˆ<code>import utils</code>ï¼Œå†å†™<code>utils.myfunction()</code>å³å¯ã€‚å¯ä»¥è¯´ï¼Œpythonçš„æ¯ä¸ªå•ç‹¬çš„.pyæ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ªâ€œå‘½åç©ºé—´â€ï¼Œå°±åƒnamespace stdä¸€æ ·ã€‚</p>
<p>ä½†æ˜¯luaé‡‡ç”¨äº†ä¸€ä¸ªä¸æ­¤åŒºåˆ«è¾ƒå¤§çš„ç®¡ç†æ–¹å¼ã€‚ç®€å•æ¥è¯´ï¼Œluaçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯â€œç§æœ‰çš„â€ï¼Œå¦‚æœä½ æƒ³è®©åˆ«çš„.luaæ–‡ä»¶ä½¿ç”¨è¿™ä¸ª.luaæ–‡ä»¶ä¸­çš„å‡½æ•°ç­‰å†…å®¹ï¼Œä½ éœ€è¦æŠŠè¿™äº›ä¸œè¥¿â€œæ‰“åŒ…å‘å‡ºå»â€ã€‚ç†è§£è¿™ç‚¹å¯¹äºé…ç½®neoviméå¸¸å…³é”®ã€‚</p>
<p>æˆ‘ä»¬ä¸‹é¢æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- shopping.lua</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- (ä¸Šé¢çš„ local å‡½æ•°å’Œå˜é‡å®šä¹‰)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 1. æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªç©ºçš„â€œå‚¨ç‰©æŸœâ€ (table)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> M <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 2. æ‰‹åŠ¨æŠŠè¦å…¬å¼€çš„ä¸œè¥¿æ”¾è¿›å»</span>
</span></span><span style="display:flex;"><span>M.buy_apple <span style="color:#f92672">=</span> buy_apple <span style="color:#75715e">--è¿™æ˜¯ä¸€ä¸ªshopping.luaä¸­å®šä¹‰çš„å‡½æ•°</span>
</span></span><span style="display:flex;"><span>M.PRICE_PER_APPLE <span style="color:#f92672">=</span> PRICE_PER_APPLE <span style="color:#75715e">--è¿™æ˜¯ä¸€ä¸ªshopping.luaä¸­å®šä¹‰çš„å˜é‡</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- æ³¨æ„ï¼šæˆ‘ä»¬æ•…æ„ä¸æŠŠ buy_banana æ”¾è¿›å»</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- 3. æŠŠè¿™ä¸ªå¡«å……å¥½çš„å‚¨ç‰©æŸœä½œä¸ºæ¨¡å—çš„å‡ºå£</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> M
</span></span></code></pre></div><p>å½“æˆ‘ä»¬æƒ³ä»å¦ä¸€ä¸ª.luaä¸­è°ƒç”¨shopping.luaä¸­çš„å‡½æ•°æˆ–è€…å˜é‡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è¿™ä¹ˆå†™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#66d9ef">local</span> shopping <span style="color:#f92672">=</span> require(<span style="color:#e6db74">&#39;shopping&#39;</span>) <span style="color:#75715e">--æ­¤å¤„å°±ç”¨åˆ°äº†require</span>
</span></span></code></pre></div><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±åœ¨è¿™ä¸ª.luaæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œåå­—å«<code>shopping</code>ã€‚å®ƒçš„å†…å®¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯shopping.luaä¸­æœ€åâ€œæ‰“åŒ…â€å¥½çš„Mè¿™ä¸ªtableã€‚</p>
<p>æ­¤æ—¶ï¼Œå¦‚æœä½ æƒ³ä¹°è‹¹æœï¼Œä½ å°±å†™<code>shopping.buy_apple()</code>ï¼Œå¦‚æœä½ æƒ³çŸ¥é“è‹¹æœçš„å•ä»·ï¼Œé‚£ä½ å°±å†™<code>shopping.PRICE_PER_APPLE</code>ã€‚ä½†æ˜¯ä½ æ²¡åŠæ³•ä¹°é¦™è•‰ï¼Œå› ä¸ºä½ åœ¨shopping.luaä¸­æ²¡æœ‰æŠŠbuy_banana()æ‰“åŒ…å‘å‡ºå»ã€‚</p>
<p>è¯»åˆ°è¿™é‡Œï¼Œä½ åŸºæœ¬ä¸Šå·²ç»æ˜ç™½äº†luaçš„æ¨¡å—ç®¡ç†æœºåˆ¶äº†ï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿï¼ˆå› ä¸ºæ¥ä¸‹æ¥çš„å†…å®¹åŒæ ·éå¸¸é‡è¦ï¼‰ã€‚luaå¹¶ä¸èƒ½å®Œå…¨è‡ªåŠ¨åœ°æœç´¢æ ¹ç›®å½•ä¸‹åŒ¹é…åç§°çš„.luaæ–‡ä»¶ï¼Œè€Œæ˜¯éµå¾ªç€ä¸€ç§â€œå†…éƒ¨æœç´¢é¡ºåºâ€ã€‚ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªå†…éƒ¨æœç´¢é¡ºåºå°±æ˜¯ä¸€å †ç›¸å¯¹è·¯å¾„ï¼Œluaæ–‡ä»¶è¿è¡Œæ—¶ä¼šæŒ¨ä¸ªæœç´¢è¿™äº›è·¯å¾„å»æ‰¾ç¬¦åˆæ¡ä»¶çš„.luaæ–‡ä»¶ï¼ˆæ¯”å¦‚æˆ‘ä»¬å‰æ–‡å†™çš„shopping.lua)ï¼Œå¦‚æœå®ƒåœ¨æŒ‰ç…§å†…éƒ¨æœç´¢é¡ºåºå¯»æ‰¾æ— æœï¼Œé‚£ä¹ˆï¼Œå®ƒå°±ä¼šæŠ¥é”™ã€‚</p>
<p>è¿™ç‚¹ä¹‹æ‰€ä»¥é‡è¦ï¼Œå°±æ˜¯å› ä¸ºæœ‰çš„æ—¶å€™ä½ å¿…é¡»è¦è®©neovimçŸ¥é“å®ƒéœ€è¦çš„æ–‡ä»¶åˆ°åº•åœ¨å“ªï¼Œä½†æ˜¯è¿™ä¸ªå·¥ä½œæ˜¯æ²¡åŠæ³•äº¤ç»™aiçš„ï¼Œå› ä¸ºä½ æ²¡åŠæ³•æŠŠæ•´ä¸ªé¡¹ç›®éƒ½å‘ç»™aiï¼Œaiå‡­åˆ»æ¿å°è±¡ç»™å‡ºçš„ä»£ç åœ¨è§£å†³è¿™ç±»é—®é¢˜æ—¶é€šå¸¸æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºå®ƒæ ¹æœ¬ä¸äº†è§£ä½ åˆ°åº•æŠŠä»€ä¹ˆæ–‡ä»¶æ”¾åœ¨å“ªäº†ï¼ˆç”šè‡³ä½ è‡ªå·±ä¹Ÿå¾ˆå¯èƒ½æœªå¿…çŸ¥é“è‡ªå·±éœ€è¦çš„æ–‡ä»¶åœ¨å“ªï¼‰ã€‚è¿™ä¸ªæ—¶å€™å†æŠŠé—®é¢˜å‘ç»™aiè®©å®ƒè§£å†³ï¼Œaiå°±ä¼šç»§ç»­ç»™ä½ ä¸€ä¸ªæ›´é”™çš„ç­”æ¡ˆï¼Œæœ€åæ¶æ€§å¾ªç¯ã€‚ï¼ˆåˆ«é—®æˆ‘æ˜¯æ€ä¹ˆçŸ¥é“çš„ï¼‰</p>
<p>ä¸‹é¢æˆ‘æ¥è¯¦ç»†è®²è§£ä¸€ä¸‹â€œå†…ç½®æœç´¢é¡ºåºâ€çš„æœºåˆ¶ã€‚</p>
<h4 id="å†…ç½®æœç´¢é¡ºåº">å†…ç½®æœç´¢é¡ºåº<a href="#%e5%86%85%e7%bd%ae%e6%90%9c%e7%b4%a2%e9%a1%ba%e5%ba%8f" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>luaä¸­ç”¨äºæœç´¢luaæ¨¡å—çš„è·¯å¾„å˜é‡ç§°ä¸ºâ€œpackege.pathâ€ï¼Œå­˜å‚¨åœ¨å†…ç½®çš„packageè¡¨ä¸­ã€‚</p>
<p>å®ƒä»¬é€šå¸¸é•¿æˆè¿™æ ·ï¼š</p>
<pre tabindex="0"><code>./?.lua;./?/init.lua;/usr/local/share/lua/5.4/?.lua;/usr/local/share/lua/5.4/?/init.lua;...
</code></pre><p>å…¶ä¸­ï¼Œåˆ†å·åˆ†éš”äº†ä¸åŒçš„è·¯å¾„ï¼Œ<code>?</code>ä»£è¡¨æ­¤å¤„ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºä½ <code>require</code>ä¸­å¡«å†™çš„å†…å®¹ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾ä½ æ‰§è¡Œäº†Â require(&lsquo;socket.core&rsquo;)ï¼ŒLua ä¼šï¼š</p>
<ol>
<li>å°†æ¨¡å—åä¸­çš„Â .Â æ›¿æ¢ä¸ºç›®å½•åˆ†éš”ç¬¦ï¼ˆå¦‚Â /Â æˆ–Â \ï¼‰ã€‚æ‰€ä»¥Â socket.coreÂ å˜æˆäº†Â socket/coreã€‚</li>
<li>ç„¶åç”¨Â socket/coreÂ æ›¿æ¢æ‰Â package.pathÂ ä¸­æ¯ä¸ªæ¨¡æ¿çš„Â ?ï¼Œå¹¶ä¾æ¬¡æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š
<ul>
<li>./socket/core.luaÂ (åœ¨å½“å‰ç›®å½•ä¸‹æ‰¾)</li>
<li>./socket/core/init.luaÂ (åœ¨å½“å‰ç›®å½•ä¸‹çš„Â socketÂ ç›®å½•ä¸­æ‰¾Â init.lua)</li>
<li>/usr/local/share/lua/5.4/socket/core.luaÂ (åœ¨æ ‡å‡†çš„ Lua åº“ç›®å½•ä¸‹æ‰¾)</li>
<li>/usr/local/share/lua/5.4/socket/core/init.luaÂ (åœ¨æ ‡å‡†çš„ Lua åº“ç›®å½•çš„å­ç›®å½•ä¸­æ‰¾)</li>
<li>&hellip;ç­‰ç­‰ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ä¸ºæ­¢ã€‚</li>
</ul>
</li>
</ol>
<p>ä¸€æ—¦æ‰¾åˆ°ï¼Œluaå°±ä¼šæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶å¹¶è¿”å›ç»“æœï¼ˆåœ¨æˆ‘ä»¬å‰æ–‡çš„ä¾‹å­ä¸­ï¼Œè¿”å›çš„å°±æ˜¯æ‰“åŒ…å¥½çš„å‡½æ•°å’Œå˜é‡ï¼‰ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œrequireå°±ä¼šæŠ¥é”™ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“æˆ‘ä»¬éœ€è¦å»å¯»æ‰¾ä¸€ä¸ªä¸åœ¨é»˜è®¤æœç´¢è·¯å¾„ä¸­çš„æ–‡ä»¶è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­:</p>
<hr>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨éšä¾¿ä¸€ä¸ªæµ‹è¯•ç”¨çš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ç»“æ„ï¼š</p>
<pre tabindex="0"><code>.
â”œâ”€â”€ libs
â”‚   â””â”€â”€ myutils.lua
â””â”€â”€ main.lua
</code></pre><p>ç„¶åï¼Œè®©æˆ‘ä»¬åœ¨<code>myutils.lua</code>ä¸­éšä¾¿å†™ä¸€ç‚¹æµ‹è¯•ç”¨çš„ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- libs/myutils.lua</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- åˆ›å»ºä¸€ä¸ª table ç”¨äºå¯¼å‡º</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> M <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">M</span>.<span style="color:#a6e22e">greet</span>(name)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Hello, &#34;</span> <span style="color:#f92672">..</span> name <span style="color:#f92672">..</span> <span style="color:#e6db74">&#34;! Welcome to our module.&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å¯¼å‡ºè¿™ä¸ª table</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> M
</span></span></code></pre></div><p>ç„¶åï¼Œæˆ‘ä»¬æ¥åœ¨<code>main.lua</code>ä¸­å†™ä¸€ä¸ª<strong>é”™è¯¯</strong>çš„æ¨¡å—è°ƒç”¨ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- main.lua</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Attempting to load the &#39;myutils&#39; module...&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å°è¯•åŠ è½½ä½äº libs æ–‡ä»¶å¤¹ä¸­çš„ myutils æ¨¡å—</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- æ³¨æ„ï¼šæˆ‘ä»¬ç›´æ¥å†™ &#39;myutils&#39; è€Œä¸æ˜¯ &#39;libs.myutils&#39;ï¼Œå› ä¸º &#39;libs&#39; åªæ˜¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶å¤¹ï¼Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å¹¶ä¸æ˜¯ Lua çš„åŒ…åã€‚æˆ‘ä»¬éœ€è¦è®© Lua çŸ¥é“è¦å» &#39;libs&#39; è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œæ‰¾ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> utils <span style="color:#f92672">=</span> require(<span style="color:#e6db74">&#39;myutils&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å¦‚æœåŠ è½½æˆåŠŸï¼Œå°±ä½¿ç”¨å®ƒçš„åŠŸèƒ½</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> message <span style="color:#f92672">=</span> utils.greet(<span style="color:#e6db74">&#34;Alice&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Successfully loaded module!&#34;</span>)
</span></span><span style="display:flex;"><span>print(message)
</span></span></code></pre></div><p>è¿™æ®µä»£ç æ˜¯aiå†™çš„ã€‚ä½ å¯èƒ½ä¼šå¯¹å…¶ä¸­çš„æ³¨é‡Šæ„Ÿåˆ°ç–‘æƒ‘ï¼Œæˆ‘æ¥å°è¯•è§£ç­”ä¸€ä¸‹ï¼š</p>
<ul>
<li>ç›´æ¥å†™<code>require('libs.myutils')</code>å…¶å®æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ï¼Œä½†æ˜¯è¿™å¹¶ä¸åˆ©äºç»´æŠ¤ã€‚æˆ‘ä»¬å¸Œæœ›è®©luaè‡ªå·±é€šè¿‡package pathå»å¯»æ‰¾æ‰€éœ€è¦çš„æ¨¡å—ï¼Œè€Œä»£ç ä¸­åº”è¯¥åªè€ƒè™‘éœ€è¦ä»€ä¹ˆæ¨¡å—ã€‚å¦‚æœæˆ‘ä»¬åœ¨requireä¸­å¼ºè¡Œå†™å…¥ç‰©ç†ä½ç½®ï¼Œè™½ç„¶å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯ä¸€æ—¦æˆ‘ä»¬è°ƒæ•´äº†æ–‡ä»¶ä½ç½®ï¼Œå°±ä¸å¾—ä¸ä¿®æ”¹æ•´ä¸ªç¨‹åºä¸­æ‰€æœ‰ä»libsä¸­è°ƒç”¨æ¨¡å—çš„ä»£ç ï¼Œè¿™æ ·åšéå¸¸çš„ä½æ•ˆã€‚</li>
<li>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæ— æ³•é€šè¿‡package pathæ‰¾åˆ°æ‰€éœ€æ¨¡ç‰ˆçš„main.luaï¼Œè¿™å®Œå…¨æ˜¯åé¢ä¾‹å­ã€‚åæ–‡æˆ‘ä»¬ä¼šç»™å‡ºä¿®æ”¹ã€‚</li>
</ul>
<p>ä¿å­˜é€€å‡ºï¼Œè¾“å…¥<code>lua main.lua</code>ï¼Œä½ å°±ä¼šå–œææŠ¥é”™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ lua main.lua
</span></span><span style="display:flex;"><span>Attempting to load the <span style="color:#e6db74">&#39;myutils&#39;</span> module...
</span></span><span style="display:flex;"><span>lua: main.lua:8: module <span style="color:#e6db74">&#39;myutils&#39;</span> not found:
</span></span><span style="display:flex;"><span>        no field package.preload<span style="color:#f92672">[</span><span style="color:#e6db74">&#39;myutils&#39;</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/share/lua/5.3/myutils.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/share/lua/5.3/myutils/init.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/lib/lua/5.3/myutils.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/lib/lua/5.3/myutils/init.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;./myutils.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;./myutils/init.lua&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/lib/lua/5.3/myutils.so&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;/data/data/com.termux/files/usr/lib/lua/5.3/loadall.so&#39;</span>
</span></span><span style="display:flex;"><span>        no file <span style="color:#e6db74">&#39;./myutils.so&#39;</span>
</span></span><span style="display:flex;"><span>stack traceback:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>C<span style="color:#f92672">]</span>: in <span style="color:#66d9ef">function</span> <span style="color:#e6db74">&#39;require&#39;</span>
</span></span><span style="display:flex;"><span>        main.lua:8: in main chunk
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">[</span>C<span style="color:#f92672">]</span>: in ?
</span></span></code></pre></div><p>è¿™æ ·çš„æŠ¥é”™ä¿¡æ¯ä¼šåœ¨ä½ é…ç½®nvimè¿‡ç¨‹ä¸­æ—¶å¸¸å‡ºç°ï¼ˆå¦‚æœä½ å®Œå…¨ä¸å…³å¿ƒèƒŒåçš„åŸç†ï¼‰ã€‚</p>
<p>ä»æŠ¥é”™ä¿¡æ¯ä¸­ï¼Œä½ ä¼šçœ‹åˆ°luaæŸ¥æ‰¾äº†æ‰€æœ‰çš„å†…éƒ¨æœç´¢è·¯å¾„ï¼Œä½†æ˜¯éƒ½æ‰¾ä¸åˆ°ä½ è¦çš„<code>myutils.lua</code>è¿™ä¸ªæ¨¡å—ï¼Œå› ä¸ºä½ æŠŠå®ƒæ”¾åœ¨äº†libsä¸‹ï¼Œluaæ ¹æœ¬ä¸çŸ¥é“è¿˜æœ‰è¿™ä¸ªåœ°æ–¹ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•è§£å†³å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦è®©<code>main.lua</code>æŠŠ<code>libs</code>æ·»åŠ åˆ°package pathä¸­å°±è¡Œã€‚</p>
<p>å°†<code>main.lua</code>ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- main.lua</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;--- Experiment 2: Modifying package.path in script ---&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- æ‰“å°ä¿®æ”¹å‰çš„ pathï¼Œæ–¹ä¾¿å¯¹æ¯”</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Original package.path:&#34;</span>)
</span></span><span style="display:flex;"><span>print(package.path)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- å°†æˆ‘ä»¬çš„ libs ç›®å½•æ·»åŠ åˆ°æœç´¢è·¯å¾„çš„æœ€å‰é¢</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- &#39;./libs/?.lua&#39; æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œ&#39;?&#39; ä¼šè¢« require çš„æ¨¡å—åæ›¿æ¢</span>
</span></span><span style="display:flex;"><span>package.path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;./libs/?.lua;&#39;</span> <span style="color:#f92672">..</span> package.path
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Modified package.path:&#34;</span>)
</span></span><span style="display:flex;"><span>print(package.path)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Attempting to load the &#39;myutils&#39; module...&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> utils <span style="color:#f92672">=</span> require(<span style="color:#e6db74">&#39;myutils&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">local</span> message <span style="color:#f92672">=</span> utils.greet(<span style="color:#e6db74">&#34;Bob&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;Successfully loaded module!&#34;</span>)
</span></span><span style="display:flex;"><span>print(message)
</span></span></code></pre></div><p>å†æ¬¡é€€å‡ºï¼Œè¾“å…¥<code>lua main.lua</code>ä½ å°±å¯ä»¥å¾—åˆ°æƒ³è¦çš„å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ lua main.lua
</span></span><span style="display:flex;"><span>--- Experiment 2: Modifying package.path in script ---
</span></span><span style="display:flex;"><span>Original package.path:
</span></span><span style="display:flex;"><span>/data/data/com.termux/files/usr/share/lua/5.3/?.lua;/data/data/com.termux/files/usr/share/lua/5.3/?/init.lua;/data/data/com.termux/files/usr/lib/lua/5.3/?.lua;/data/data/com.termux/files/usr/lib/lua/5.3/?/init.lua;./?.lua;./?/init.lua
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Modified package.path:
</span></span><span style="display:flex;"><span>./libs/?.lua;/data/data/com.termux/files/usr/share/lua/5.3/?.lua;/data/data/com.termux/files/usr/share/lua/5.3/?/init.lua;/data/data/com.termux/files/usr/lib/lua/5.3/?.lua;/data/data/com.termux/files/usr/lib/lua/5.3/?/init.lua;./?.lua;./?/init.lua
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Attempting to load the <span style="color:#e6db74">&#39;myutils&#39;</span> module...
</span></span><span style="display:flex;"><span>Successfully loaded module!
</span></span><span style="display:flex;"><span>Hello, Bob! Welcome to our module.
</span></span></code></pre></div><p>æ³¨ï¼šä»¥ä¸Šæ˜¯æˆ‘åœ¨termuxä¸­è¿è¡Œçš„ä¿¡æ¯ï¼Œå…¶ä»–å¹³å°ä¸Šæ˜¾ç¤ºçš„pathå¯èƒ½ä¼šæœ‰æ‰€åŒºåˆ«ã€‚</p>
<p>æˆ‘ä»¬æ‰“å°äº†ä¿®æ”¹å‰åpackage.pathçš„å†…å®¹ï¼Œæ˜¾ç„¶ï¼Œåœ¨<code>Modified package.path</code>ä¸­ç¬¬ä¸€ä¸ªæœç´¢è·¯å¾„å°±æ˜¯æˆ‘ä»¬æ·»åŠ çš„<code>./libs/?.lua</code>ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¹Ÿç¡®å®æˆåŠŸä½¿ç”¨äº†<code>myutils.lua</code>ä¸­çš„å‡½æ•°ã€‚</p>
<p>æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿè®©æˆ‘ä»¬æ¥ä»”ç»†çœ‹ä¸€ä¸‹æˆ‘ä»¬ä¿®æ”¹çš„æ ¸å¿ƒå†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- å°†æˆ‘ä»¬çš„ libs ç›®å½•æ·»åŠ åˆ°æœç´¢è·¯å¾„çš„æœ€å‰é¢ </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- &#39;./libs/?.lua&#39; æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œ&#39;?&#39; ä¼šè¢« require çš„æ¨¡å—åæ›¿æ¢ </span>
</span></span><span style="display:flex;"><span>package.path <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;./libs/?.lua;&#39;</span> <span style="color:#f92672">..</span> package.path
</span></span></code></pre></div><p><code>..</code>åœ¨luaä¸­è¡¨ç¤ºå­—ç¬¦ä¸²è¿æ¥ã€‚è¿™æ®µä»£ç çš„å«ä¹‰éå¸¸æ¸…æ™°ï¼šåœ¨<code>package.path</code>è¿™ä¸ªå­—ç¬¦ä¸²å‰é¢åŠ ä¸Šæˆ‘ä»¬éœ€è¦çš„æœç´¢è·¯å¾„ã€‚å°±è¿™ä¹ˆç®€å•ã€‚<code>package.path</code>æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥éšæ„çš„æ ¹æ®éœ€è¦ä¿®æ”¹æœ¬å·¥ç¨‹çš„æœç´¢è·¯å¾„ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœä½ çš„æ‰€æœ‰luaå·¥ç¨‹éƒ½é‡‡ç”¨åŸºæœ¬ä¸€è‡´çš„æ–‡ä»¶ç»“æ„ï¼Œä½ å¯ä»¥æŠŠä½ éœ€è¦çš„è‡ªå®šä¹‰çš„æœç´¢è·¯å¾„å†™å…¥ç¯å¢ƒå˜é‡ä¸­ã€‚æ¯”å¦‚ä½ å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>export LUA_PATH=&quot;./libs/?.lua;;&quot;</code>ï¼Œå…¶ä¸­<code>;;</code>æ„å‘³ç€ä¿ç•™åŸæœ¬çš„è·¯å¾„ã€‚è¿™æ—¶å€™ï¼Œå³ä½¿ä½ ä¸åœ¨<code>main.lua</code>å¼€å¤´ç¼–è¾‘<code>package.path</code>ï¼Œluaä¹Ÿä¼šè‡ªåŠ¨æ‰¾åˆ°libsä¸‹çš„myutils.luaï¼Œå› ä¸ºæ‰€éœ€è¦çš„æœç´¢è·¯å¾„å·²ç»æˆä¸ºä¸€ä¸ªç¯å¢ƒçš„ä¸€éƒ¨åˆ†äº†ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½ å¸Œæœ›è‡ªå·±çš„ä»£ç å¯ä»¥ä¸€æ¬¡å†™å…¥ã€å¤„å¤„è¿è¡Œï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä½ è¿˜æ˜¯è€è€å®å®çš„æŠŠæ‰€éœ€è¦çš„æœç´¢è·¯å¾„å†™åœ¨å¼€å¤´ï¼Œä»¥ä¾¿åœ¨ä¸åŒç¯å¢ƒä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>
<hr>
<p>è®²åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¤§æ¦‚ç†è§£äº†luaçš„å·¥ä½œåŸç†ï¼Œç°åœ¨è®©æˆ‘ä»¬ç»§ç»­é˜…è¯»æ ¹ç›®å½•ä¸‹çš„init.luaæ–‡ä»¶ã€‚</p>
<h4 id="æ­£å¼å¼€å§‹åˆ†æinitlua">æ­£å¼å¼€å§‹åˆ†æinit.lua<a href="#%e6%ad%a3%e5%bc%8f%e5%bc%80%e5%a7%8b%e5%88%86%e6%9e%90initlua" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>Kickstart Guide:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  TODO: The very first thing you should <span style="color:#66d9ef">do</span> is to run the command <span style="color:#960050;background-color:#1e0010">`</span>:Tutor<span style="color:#960050;background-color:#1e0010">`</span> <span style="color:#66d9ef">in</span> Neovim.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    If you don<span style="color:#e6db74">&#39;t know what this means, type the following:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &lt;escape key&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - :
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - Tutor
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">      - &lt;enter key&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    (If you already know the Neovim basics, you can skip this step.)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">  Once you&#39;</span>ve completed that, you can continue working through <span style="color:#f92672">**</span>AND READING<span style="color:#f92672">**</span> the rest
</span></span><span style="display:flex;"><span>  of the kickstart init.lua.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Next, run AND READ <span style="color:#960050;background-color:#1e0010">`</span>:help<span style="color:#960050;background-color:#1e0010">`</span>.
</span></span><span style="display:flex;"><span>    This will open up a help window with some basic information
</span></span><span style="display:flex;"><span>    about reading, navigating <span style="color:#f92672">and</span> searching the builtin help documentation.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    This should be the first place you go to look when you<span style="color:#e6db74">&#39;re stuck or confused
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    with something. It&#39;</span>s one of my favorite Neovim features.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    MOST IMPORTANTLY, we provide a keymap <span style="color:#e6db74">&#34;&lt;space&gt;sh&#34;</span> to [s]earch the [h]elp documentation,
</span></span><span style="display:flex;"><span>    which is very useful when you<span style="color:#e6db74">&#39;re not exactly sure of what you&#39;</span>re looking <span style="color:#66d9ef">for</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  I have left several <span style="color:#960050;background-color:#1e0010">`</span>:help X<span style="color:#960050;background-color:#1e0010">`</span> comments throughout the init.lua
</span></span><span style="display:flex;"><span>    These are hints about where to find more information about the relevant settings,
</span></span><span style="display:flex;"><span>    plugins <span style="color:#f92672">or</span> Neovim features used <span style="color:#66d9ef">in</span> Kickstart.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   NOTE: Look <span style="color:#66d9ef">for</span> lines like this
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Throughout the file. These are <span style="color:#66d9ef">for</span> you, the reader, to help you understand what is happening.
</span></span><span style="display:flex;"><span>    Feel free to delete them once you know what you<span style="color:#e6db74">&#39;re doing, but they should serve as a guide
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    for when you are first encountering a few different constructs in your Neovim config.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">If you experience any errors while trying to install kickstart, run `:checkhealth` for more info.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">I hope you enjoy your Neovim journey,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">- TJ
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">P.S. You can delete this when you&#39;</span>re done too. It<span style="color:#e6db74">&#39;s your config now! :)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">--]]
</span></span></span></code></pre></div><p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li>ä½ å¯ä»¥åœ¨æ™®é€šæ¨¡å¼ä¸‹<code>:Tutor</code>æ¥è¿›å…¥ä¸€ä¸ªneovimçš„ä½¿ç”¨æ•™ç¨‹ï¼Œå‘Šè¯‰ä½ è¿™ä¸ªè½¯ä»¶çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ã€‚
<ul>
<li>vimçš„ä½¿ç”¨æ–¹å¼å¯ä»¥éå¸¸èŠ±å“¨ï¼Œå†…ç½®çš„æŒ‡ä»¤å¤šçš„æ•°ä¸è¿‡æ¥ã€‚é—æ†¾çš„æ˜¯æˆ‘åªä¼šå…¶ä¸­æœ€åŸºæœ¬çš„å‡ ä¸ªæŒ‡ä»¤ï¼Œä½†æ˜¯è¿™é€šå¸¸æ¥è®²å·²ç»è¶³å¤Ÿäº†ã€‚ä½ ä¸éœ€è¦ä¸ºäº†å°‘æŒ‰å‡ ä¸ªä¸Šä¸‹å·¦å³è€Œå»èƒŒä¸€å¤§å †æŒ‡ä»¤ï¼Œè¿™æ ·åšæœ‰ç”¨ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªå…¥é—¨çš„äººæ¥è¯´å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚</li>
</ul>
</li>
<li>ä½ å¯ä»¥åœ¨æ™®é€šæ¨¡å¼ä¸‹<code>:help</code>æ¥æŸ¥çœ‹å¸®åŠ©ã€‚é‡Œé¢ç½—åˆ—äº†nvimæ”¯æŒçš„å„ç§åŠŸèƒ½ï¼Œä»¥åŠä¸€äº›åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼ã€‚è¿™å°±æ˜¯ä¸€éƒ¨ä½¿ç”¨è¯´æ˜ä¹¦ï¼Œå°±å’Œä½ ä¹°çš„å®¶ç”¨ç”µå™¨é‡Œé™„å¸¦çš„è¯´æ˜ä¹¦æ˜¯ä¸€ä¸ªæ€§è´¨ã€‚</li>
<li>ä½ å¯ä»¥<code>&lt;space&gt;+s+h</code>æ¥è¿›å…¥ä¸€ä¸ªå¸®åŠ©æœç´¢ç•Œé¢ã€‚ï¼ˆç„¶è€Œæˆ‘ä¸ä¼šç”¨ï¼‰</li>
<li>æ–‡ä»¶å‰©ä½™çš„å†…å®¹éƒ½éšä¾¿ä½ é…ç½®ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- Set &lt;space&gt; as the leader key</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- See `:help mapleader`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  NOTE: Must happen before plugins are loaded (otherwise wrong leader will be used)</span>
</span></span><span style="display:flex;"><span>vim.g.mapleader <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39; &#39;</span>
</span></span><span style="display:flex;"><span>vim.g.maplocalleader <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39; &#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Set to true if you have a Nerd Font installed and selected in the terminal</span>
</span></span><span style="display:flex;"><span>vim.g.have_nerd_font <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span></code></pre></div><ul>
<li><code>vim.g</code>ï¼šä»£è¡¨å…¨å±€å˜é‡ã€‚è¿™é‡Œè®¾ç½®çš„å˜é‡åœ¨å…¨å±€éƒ½æœ‰æ•ˆã€‚</li>
<li><code>vim.g.mapleader = ' '</code>ï¼šå°†ç©ºæ ¼é”®è®¾ç½®ä¸ºâ€œå‰å¯¼é”®â€ï¼Œç”¨æ¥ä½œä¸ºä¸€ä¸ªé€šç”¨çš„å¿«æ·é”®å‰ç¼€ã€‚</li>
<li><code>vim.g.maplocalleader = ' '</code>ï¼šå±€éƒ¨æ˜ å°„ï¼Œç®€å•æ¥è¯´å°±æ˜¯åªåœ¨æŸäº›æ–‡ä»¶ä¸­æ‰ä¼šç”Ÿæ•ˆçš„â€œå‰å¯¼é”®â€ï¼Œä¹‹å<code>&lt;localleader&gt;x</code>å°±è¡¨ç¤ºåªåœ¨æ­¤æƒ…å†µä¸‹æ‰ç”Ÿæ•ˆçš„å¿«æ·é”®ã€‚</li>
<li><code>vim.g.have_nerd_font = false</code>ï¼šå£°æ˜ä½ çš„ç»ˆç«¯ç¯å¢ƒæœ‰æ²¡æœ‰å®‰è£…Nerd Fontã€‚å¾ˆå¤šnvimçš„æ’ä»¶éœ€è¦nerd fontæ¥æ”¯æŒä¸€äº›å¤æ‚çš„å›¾å½¢ç•Œé¢ï¼Œå¦‚æœä½ æ²¡æœ‰å®‰è£…nerd fontï¼Œé€šè¿‡åœ¨è¿™é‡Œå£°æ˜falseï¼Œé‚£äº›æ’ä»¶å°±ä¼šåªæ˜¾ç¤ºä¸€äº›æ™®é€šæ–‡æœ¬æ¥é€‚é…ä½ çš„ç¯å¢ƒã€‚
<ul>
<li>å¦‚æœä½ å®‰è£…äº†nerd fontï¼Œè®°å¾—æŠŠè¿™ä¸ªå˜é‡è®¾ç½®ä¸ºtrueã€‚</li>
</ul>
</li>
</ul>
<h5 id="setting-options">setting options<a href="#setting-options" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- [[ Setting options ]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- See `:help vim.o`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- NOTE: You can change these options as you wish!</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  For more options, you can see `:help option-list`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Make line numbers default</span>
</span></span><span style="display:flex;"><span>vim.o.number <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- You can also add relative line numbers, to help with jumping.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  Experiment for yourself to see if you like it!</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.o.relativenumber = true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Enable mouse mode, can be useful for resizing splits for example!</span>
</span></span><span style="display:flex;"><span>vim.o.mouse <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Don&#39;t show the mode, since it&#39;s already in the status line</span>
</span></span><span style="display:flex;"><span>vim.o.showmode <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Sync clipboard between OS and Neovim.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  Schedule the setting after `UiEnter` because it can increase startup-time.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  Remove this option if you want your OS clipboard to remain independent.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  See `:help &#39;clipboard&#39;`</span>
</span></span><span style="display:flex;"><span>vim.schedule(<span style="color:#66d9ef">function</span>()
</span></span><span style="display:flex;"><span>  vim.o.clipboard <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;unnamedplus&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Enable break indent</span>
</span></span><span style="display:flex;"><span>vim.o.breakindent <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Save undo history</span>
</span></span><span style="display:flex;"><span>vim.o.undofile <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Case-insensitive searching UNLESS \C or one or more capital letters in the search term</span>
</span></span><span style="display:flex;"><span>vim.o.ignorecase <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>vim.o.smartcase <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Keep signcolumn on by default</span>
</span></span><span style="display:flex;"><span>vim.o.signcolumn <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;yes&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Decrease update time</span>
</span></span><span style="display:flex;"><span>vim.o.updatetime <span style="color:#f92672">=</span> <span style="color:#ae81ff">250</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Decrease mapped sequence wait time</span>
</span></span><span style="display:flex;"><span>vim.o.timeoutlen <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Configure how new splits should be opened</span>
</span></span><span style="display:flex;"><span>vim.o.splitright <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>vim.o.splitbelow <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Sets how neovim will display certain whitespace characters in the editor.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  See `:help &#39;list&#39;`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  and `:help &#39;listchars&#39;`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  Notice listchars is set using `vim.opt` instead of `vim.o`.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  It is very similar to `vim.o` but offers an interface for conveniently interacting with tables.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--   See `:help lua-options`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--   and `:help lua-options-guide`</span>
</span></span><span style="display:flex;"><span>vim.o.list <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>vim.opt.listchars <span style="color:#f92672">=</span> { tab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Â» &#39;</span>, trail <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Â·&#39;</span>, nbsp <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;â£&#39;</span> }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Preview substitutions live, as you type!</span>
</span></span><span style="display:flex;"><span>vim.o.inccommand <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;split&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Show which line your cursor is on</span>
</span></span><span style="display:flex;"><span>vim.o.cursorline <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Minimal number of screen lines to keep above and below the cursor.</span>
</span></span><span style="display:flex;"><span>vim.o.scrolloff <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- if performing an operation that would fail due to unsaved changes in the buffer (like `:q`),</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- instead raise a dialog asking if you wish to save the current file(s)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- See `:help &#39;confirm&#39;`</span>
</span></span><span style="display:flex;"><span>vim.o.confirm <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><ul>
<li><code>vim.o</code>ï¼šè®¾ç½®nvimçš„å„ç§è¡Œä¸ºé€‰é¡¹ã€‚</li>
<li><code>vim.o.number = true</code>ï¼šæ˜¾ç¤º==è¡Œå·==ã€‚é»˜è®¤æ˜¾ç¤ºçš„æ˜¯ç»å¯¹è¡Œå·</li>
<li><code>vim.o.relativenumber = true</code>ï¼šæ˜¾ç¤º==ç›¸å¯¹è¡Œå·==ã€‚
<ul>
<li>ä½ å¯èƒ½ä¼šå¥½å¥‡å¦‚æœä¸¤ä¸ªéƒ½å¯ç”¨ä¼šæ€ä¹ˆæ ·ã€‚ç­”æ¡ˆå¾ˆç®€å•ï¼šä½ æ‰€å¤„çš„è¡Œä¼šæ˜¾ç¤ºç»å¯¹è¡Œå·ï¼Œè€Œå…¶ä»–è¡Œä¼šæ˜¾ç¤ºç›¸å¯¹è¡Œå·ã€‚è¿™æ ·ä½ æ—¢èƒ½ç¡®å®šè‡ªå·±çš„ç»å¯¹ä½ç½®ï¼Œåˆæ–¹ä¾¿è·³è½¬ä½ç½®ï¼Œè¿™æ˜¯å¾ˆå¤šäººçš„é€‰æ‹©ã€‚</li>
</ul>
</li>
<li><code>vim.o.mouse = 'a'</code>ï¼š==é¼ æ ‡æ¨¡å¼==ï¼Œaè¡¨ç¤ºå¯¹æ‰€æœ‰æ–‡ä»¶éƒ½é€‚ç”¨ã€‚å¦‚æœä½ æœ‰é¼ æ ‡ï¼Œä½ æ²¡æœ‰ç†ç”±æŠŠè¿™ä¸ªè¿™ä¸ªå…³æ‰ã€‚</li>
<li><code>vim.o.showmode = false</code>ï¼šä¸æ˜¾ç¤ºnvimå†…ç½®çš„==çŠ¶æ€æç¤º==ã€‚æ›´åŠ ç°ä»£çš„çŠ¶æ€æ æ’ä»¶å¯ä»¥æä¾›æ¯”æ–‡æœ¬æ›´ç¾è§‚çš„çŠ¶æ€æ ï¼Œæ‰€ä»¥é™¤éä½ æœ‰ç‰¹æ®Šçš„ç¾æœ¯è¿½æ±‚ï¼Œæ²¡å¿…è¦è°ƒä¸ºtrueã€‚</li>
<li><code>vim.schedule(function()vim.o.clipboard = 'unnamedplus'end)</code>ï¼š<code>vim.schedule</code>è¡¨ç¤ºåœ¨uiå®Œå…¨åŠ è½½å®Œä¹‹åå†æ‰§è¡Œï¼Œåé¢çš„å‡½æ•°è¡¨ç¤ºå°†nvimçš„==å‰ªåˆ‡æ¿ä¸æ“ä½œç³»ç»Ÿå‰ªåˆ‡æ¿åŒæ­¥==ã€‚ä½ å¯ä»¥åœ¨nvimä¸­<code>y</code>å¤åˆ¶æ–‡æœ¬ä¹‹ååœ¨å¤–éƒ¨<code>ctrl v</code>ç²˜è´´ï¼Œä¹Ÿå¯ä»¥å¤–éƒ¨<code>ctrl c</code>å¤åˆ¶ååœ¨nvimä¸­<code>p</code>ç²˜è´´ã€‚
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰å¿…è¦çš„è®¾ç½®ï¼Œå°¤å…¶æ˜¯å½“ä½ éœ€è¦å’Œaiåšå¼ˆçš„æ—¶å€™ã€‚</li>
</ul>
</li>
<li><code>vim.o.breakindent = true</code>ï¼š==æ‰“æ–­ç¼©è¿›==ï¼Œæ–‡æœ¬å¤ªé•¿è‡ªåŠ¨æ¢è¡Œåä¿æŒå’ŒåŸæ–‡æœ¬åŒæ ·çš„ç¼©è¿›ã€‚</li>
<li><code>vim.o.undofile = true</code>ï¼šä¿å­˜==æ’¤å›æ ‘==ï¼Œå½“ä½ å†æ¬¡æ‰“å¼€è¿™ä¸ªæ–‡ä»¶æ—¶ï¼Œä½ ä»ç„¶å¯ä»¥æ’¤å›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå³ä½¿ä¸­é—´ä½ ä¿å­˜äº†æ–‡ä»¶ã€‚å®ç°åŸç†æ˜¯å¦å¤–å»ºç«‹ä¸€ä¸ª<code>.un~</code>æ–‡ä»¶ï¼Œæ‰€ä»¥ç†è®ºä¸Šä½ å¯ä»¥æ’¤å›åˆ°å®‡å®™å¤§çˆ†ç‚¸ï¼ˆå¦‚æœä½ ä»é‚£æ—¶å°±å¼€å§‹å†™ä»£ç ï¼‰</li>
<li><code>vim.o.ignorecase = true</code> <code>vim.o.smartcase = true</code>ï¼š==æœç´¢==æ—¶å¿½è§†å¤§å°å†™ï¼Œä½†æ˜¯å¦‚æœä½ è¾“å…¥äº†è‡³å°‘ä¸€ä¸ªå¤§å†™æ—¶åˆä¼šè‡ªåŠ¨å¤§å°å†™æ•æ„Ÿã€‚</li>
<li><code>vim.o.signcolumn = 'yes'</code>ï¼š ä¿æŒ==ä¾§è¾¹æ æ˜¾ç¤º==ï¼ŒLspï¼ˆåé¢ä¼šæ¶‰åŠï¼‰å’Œä¸€äº›å…¶ä»–çš„æ’ä»¶éœ€è¦ä¾èµ–è¿™ä¸ªä¾§è¾¹æ æ¥æ˜¾ç¤ºä¸€äº›ä¿¡æ¯ï¼Œæ‰€ä»¥ä¿æŒå¼€å¯ã€‚</li>
<li><code>vim.o.updatetime = 250</code>ï¼š==æ›´æ–°æ—¶é—´==ï¼Œä½ å¯ä»¥ç†è§£ä¸ºminecraftä¸­çš„éšæœºåˆ»ï¼Œå¾ˆå¤šæ’ä»¶çš„ä½¿ç”¨ä¾èµ–äºè¿™ä¸ªæ›´æ–°æ—¶é—´ï¼Œå¦‚æœå‡å°‘ï¼Œä¸€äº›æ’ä»¶çš„å“åº”é€Ÿåº¦ä¼šåŠ å¿«ã€‚</li>
<li><code>vim.o.timeoutlen = 300</code>ï¼š==æ˜ å°„åºåˆ—ç­‰å¾…æ—¶é—´==ï¼Œæ¯”å¦‚ä½ çš„ä¸€ä¸ªæ˜ å°„æ˜¯<code>j+k</code>ï¼Œå½“ä½ æŒ‰ä¸‹<code>j</code>æ—¶ï¼Œnvimä¼šç­‰å¾…300msï¼Œå¦‚æœä½ åœ¨è¿™æ—¶é—´å†…æŒ‰ä¸‹<code>k</code>ï¼Œé‚£ä¹ˆå°±ä¼šæ‰§è¡Œæ˜ å°„ã€‚</li>
<li><code>vim.o.splitright = true</code> <code>vim.o.splitbelow = true</code>ï¼šæ–°çš„æ°´å¹³==åˆ†å±==å’Œå‚ç›´åˆ†å±ä¼šåˆ†åˆ«å‡ºç°åœ¨å³è¾¹å’Œä¸‹è¾¹ã€‚</li>
<li><code>vim.o.list = true</code>ï¼šå¼€å¯listæ¨¡å¼ï¼Œè®©nvimå¯ä»¥æ˜¾ç¤ºä¸€äº›ç‰¹æ®Šçš„==ç©ºç™½å­—ç¬¦==</li>
<li><code>vim.opt.listchars = { tab = 'Â» ', trail = 'Â·', nbsp = 'â£' }</code>ï¼šå°†tabæ˜¾ç¤ºä¸ºã€‹ï¼Œå°†å°¾éƒ¨çš„å¤šä½™ç©ºæ ¼æ˜¾ç¤ºä¸ºÂ·ï¼Œå°†ä¸å¯æ–­ç©ºæ ¼æ˜¾ç¤ºä¸ºâ£ã€‚</li>
<li><code>vim.o.inccommand = 'split'</code>ï¼šæ‰§è¡Œæ›¿æ¢å‘½ä»¤æ—¶åœ¨ä¸€ä¸ªæ–°çš„==åˆ†å±çª—å£==ä¸­å®æ—¶æ˜¾ç¤ºé¢„è§ˆæ•ˆæœã€‚</li>
<li><code>vim.o.cursorline = true</code>ï¼š==é«˜äº®==å…‰æ ‡æ‰€åœ¨çš„å½“å‰è¡Œã€‚</li>
<li><code>vim.o.scrolloff = 10</code>ï¼šå…‰æ ‡æ»šåŠ¨æ—¶ä¼š==åç§»ä¸Šä¸‹è¾¹ç¼˜10è¡Œ==ï¼Œæ–¹ä¾¿é˜…è¯»ã€‚</li>
<li><code>vim.o.confirm = true</code>ï¼šåœ¨ä¸€äº›å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±çš„æƒ…å†µä¸‹==è¦æ±‚ä½ ç¡®è®¤==ï¼Œæ¯”å¦‚æœªä¿å­˜æ—¶å°±é€€å‡ºã€‚é™¤éä½ æ˜¯äººå½¢è®¡ç®—æœºæ°¸è¿œå¯ä»¥ä¿è¯æ­£ç¡®ï¼Œé‚£ä¹ˆå»ºè®®ä½ ä¿æŒå¼€å¯ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span><span style="color:#75715e">-- [[ Basic Keymaps ]]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  See `:help vim.keymap.set()`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Clear highlights on search when pressing &lt;Esc&gt; in normal mode</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  See `:help hlsearch`</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;Esc&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;nohlsearch&lt;CR&gt;&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Diagnostic keymaps</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;q&#39;</span>, vim.diagnostic.setloclist, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Open diagnostic [Q]uickfix list&#39;</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Exit terminal mode in the builtin terminal with a shortcut that is a bit easier</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- for people to discover. Otherwise, you normally need to press &lt;C-\&gt;&lt;C-n&gt;, which</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- is not what someone will guess without a bit more experience.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- NOTE: This won&#39;t work in all terminal emulators/tmux/etc. Try your own mapping</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- or just use &lt;C-\&gt;&lt;C-n&gt; to exit terminal mode</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;&lt;Esc&gt;&lt;Esc&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">&gt;&lt;C-n&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Exit terminal mode&#39;</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- TIP: Disable arrow keys in normal mode</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#39;n&#39;, &#39;&lt;left&gt;&#39;, &#39;&lt;cmd&gt;echo &#34;Use h to move!!&#34;&lt;CR&gt;&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#39;n&#39;, &#39;&lt;right&gt;&#39;, &#39;&lt;cmd&gt;echo &#34;Use l to move!!&#34;&lt;CR&gt;&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#39;n&#39;, &#39;&lt;up&gt;&#39;, &#39;&lt;cmd&gt;echo &#34;Use k to move!!&#34;&lt;CR&gt;&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#39;n&#39;, &#39;&lt;down&gt;&#39;, &#39;&lt;cmd&gt;echo &#34;Use j to move!!&#34;&lt;CR&gt;&#39;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- Keybinds to make split navigation easier.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  Use CTRL+&lt;hjkl&gt; to switch between windows</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">--  See `:help wincmd` for a list of all window commands</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-h&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-w&gt;&lt;C-h&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Move focus to the left window&#39;</span> })
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-l&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-w&gt;&lt;C-l&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Move focus to the right window&#39;</span> })
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-j&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-w&gt;&lt;C-j&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Move focus to the lower window&#39;</span> })
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-k&gt;&#39;</span>, <span style="color:#e6db74">&#39;&lt;C-w&gt;&lt;C-k&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Move focus to the upper window&#39;</span> })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- NOTE: Some terminals have colliding keymaps or are not able to send distinct keycodes</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#34;n&#34;, &#34;&lt;C-S-h&gt;&#34;, &#34;&lt;C-w&gt;H&#34;, { desc = &#34;Move window to the left&#34; })</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#34;n&#34;, &#34;&lt;C-S-l&gt;&#34;, &#34;&lt;C-w&gt;L&#34;, { desc = &#34;Move window to the right&#34; })</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#34;n&#34;, &#34;&lt;C-S-j&gt;&#34;, &#34;&lt;C-w&gt;J&#34;, { desc = &#34;Move window to the lower&#34; })</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">-- vim.keymap.set(&#34;n&#34;, &#34;&lt;C-S-k&gt;&#34;, &#34;&lt;C-w&gt;K&#34;, { desc = &#34;Move window to the upper&#34; })</span>
</span></span></code></pre></div><ul>
<li><code>vim.keymap.set()</code>ï¼šè¿™æ˜¯ Neovim æ¨èçš„ç”¨æ¥è®¾ç½®å¿«æ·é”®çš„å‡½æ•°ã€‚å®ƒæ¯”è€å¼çš„ <code>map</code> å‘½ä»¤æ›´æ¸…æ™°ã€åŠŸèƒ½æ›´å¼ºå¤§ã€‚</li>
<li><code>vim.keymap.set('n', '&lt;Esc&gt;', '&lt;cmd&gt;nohlsearch&lt;CR&gt;')</code>ï¼šåœ¨<strong>æ™®é€šæ¨¡å¼</strong> (Normal Mode)ä¸‹ï¼ˆnå°±è¡¨ç¤ºæ™®é€šæ¨¡å¼ï¼‰ï¼Œå½“ä½ æŒ‰ä¸‹ <code>&lt;Esc&gt;</code> é”®æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œ <code>:nohlsearch</code> å‘½ä»¤æ¥æ¸…é™¤ä¸Šä¸€æ¬¡æœç´¢ç»“æœçš„é«˜äº®ã€‚
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªæå…¶èˆ’é€‚çš„è®¾ç½®ã€‚ä½ ç”¨ <code>/</code> æœç´¢å®Œä¸€ä¸ªè¯åï¼Œæ‰€æœ‰åŒ¹é…é¡¹éƒ½ä¼šé«˜äº®ï¼Œæœ‰æ—¶ä¼šå¾ˆæ™ƒçœ¼ã€‚è¿™ä¸ªå¿«æ·é”®è®©ä½ å¯ä»¥åœ¨ä¸ç»æ„é—´ï¼ˆå› ä¸º <code>&lt;Esc&gt;</code> æ˜¯æœ€å¸¸ç”¨çš„é”®ä¹‹ä¸€ï¼‰å°±æ¸…é™¤æ‰è¿™äº›é«˜äº®ï¼Œè®©ç•Œé¢æ¢å¤æ¸…çˆ½ã€‚</li>
</ul>
</li>
<li><code>vim.keymap.set('n', '&lt;leader&gt;q', vim.diagnostic.setloclist)</code>ï¼šåœ¨<strong>æ™®é€šæ¨¡å¼</strong>ä¸‹ï¼ŒæŒ‰ä¸‹ä½ ä¹‹å‰è®¾ç½®çš„ <code>Leader</code> é”®ï¼ˆæ¯”å¦‚ç©ºæ ¼ï¼‰ï¼Œå†æŒ‰ä¸‹ <code>q</code>ï¼Œå°±ä¼šæ‰“å¼€ä¸€ä¸ª<strong>è¯Šæ–­ä¿¡æ¯çš„åˆ—è¡¨ (Quickfix list)</strong>ã€‚
<ul>
<li>å½“ä½ çš„ä»£ç æœ‰é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼ˆç”± LSP æä¾›ï¼‰ï¼Œè¿™ä¸ªåˆ—è¡¨ä¼šæŠŠæ‰€æœ‰é—®é¢˜éƒ½é›†ä¸­å±•ç¤ºå‡ºæ¥ï¼Œæ–¹ä¾¿ä½ é€ä¸ªè·³è½¬å’Œä¿®å¤ã€‚<code>q</code> å¾ˆå¥½è®°ï¼Œå¯ä»¥è”æƒ³æˆ â€œQuickfixâ€ã€‚</li>
</ul>
</li>
<li><code>vim.keymap.set('t', '&lt;Esc&gt;&lt;Esc&gt;', '&lt;C-\\&gt;&lt;C-n&gt;')</code>ï¼šåœ¨<strong>ç»ˆç«¯æ¨¡å¼</strong> (Terminal Mode)ä¸‹ï¼Œ<strong>è¿æŒ‰ä¸¤æ¬¡ <code>&lt;Esc&gt;</code> é”®</strong>ï¼Œæ•ˆæœç­‰åŒäºæŒ‰ä¸‹é‚£ä¸ªéå¸¸éš¾è®°çš„ <code>&lt;C-\&gt;&lt;C-n&gt;</code> ç»„åˆé”®ï¼Œä»è€Œ<strong>é€€å‡ºç»ˆç«¯æ¨¡å¼</strong>å›åˆ°æ™®é€šæ¨¡å¼ã€‚
<ul>
<li>Neovim å†…ç½®çš„ç»ˆç«¯éå¸¸å¥½ç”¨ï¼Œä½†å®ƒçš„é»˜è®¤é€€å‡ºæ–¹å¼ç®€ç›´åäººç±»ã€‚è¿™ä¸ªè®¾ç½®ç”¨ä¸€ä¸ªæ›´ç¬¦åˆç›´è§‰çš„æ–¹å¼è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä¸è¿‡æ³¨é‡Šä¹Ÿæé†’äº†ï¼Œè¿™ä¸ªæ˜ å°„åœ¨æŸäº›å¤æ‚çš„ç»ˆç«¯ç¯å¢ƒï¼ˆæ¯”å¦‚ tmux åµŒå¥—ï¼‰ä¸‹å¯èƒ½ä¸ç”Ÿæ•ˆï¼Œé‚£æ—¶å°±åªèƒ½è€è€å®å®æŒ‰é»˜è®¤çš„ç»„åˆé”®äº†ã€‚</li>
</ul>
</li>
<li><code>-- TIP: Disable arrow keys in normal mode</code> (è¢«æ³¨é‡Šæ‰çš„ä»£ç å—)ï¼šè¿™æ˜¯ä¸€ä¸ªç»™æ–°æ‰‹çš„<strong>æç¤ºæ€§é…ç½®</strong>ï¼Œå»ºè®®<strong>ç¦ç”¨åœ¨æ™®é€šæ¨¡å¼ä¸‹çš„æ–¹å‘é”®</strong>ã€‚
<ul>
<li>è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†â€œå¼ºè¿«â€è‡ªå·±ä¹ æƒ¯ä½¿ç”¨ <code>h j k l</code> æ¥ç§»åŠ¨å…‰æ ‡ã€‚è¿™æ˜¯ Vim çš„ç²¾é«“ä¹‹ä¸€ï¼Œå› ä¸ºä½ çš„æ‰‹ä¸éœ€è¦ç¦»å¼€ä¸»é”®åŒºï¼Œç§»åŠ¨æ•ˆç‡ä¼šé«˜å¾—å¤šã€‚ä¸€æ—¦ä½ ä¹ æƒ¯äº†ï¼Œå°±ä¼šå‘ç°æ–¹å‘é”®åˆè¿œåˆæ…¢ã€‚å¦‚æœä½ æƒ³å…»æˆè¿™ä¸ªå¥½ä¹ æƒ¯ï¼Œå¯ä»¥æŠŠè¿™æ®µä»£ç çš„æ³¨é‡Šå»æ‰ã€‚</li>
</ul>
</li>
<li><code>vim.keymap.set('n', '&lt;C-h&gt;', '&lt;C-w&gt;&lt;C-h&gt;')</code> (ä»¥åŠä¸‹é¢ <code>jkl</code> çš„ä¸‰è¡Œ)ï¼šè¿™ä¸€ç»„å¿«æ·é”®è®©ä½ å¯ä»¥åœ¨<strong>æ™®é€šæ¨¡å¼</strong>ä¸‹ï¼Œä½¿ç”¨ <code>Ctrl + h/j/k/l</code> æ¥<strong>åœ¨ä¸åŒçš„åˆ†å±çª—å£ä¹‹é—´åˆ‡æ¢ç„¦ç‚¹</strong>ã€‚
<ul>
<li>Neovim åŸç”Ÿçš„çª—å£åˆ‡æ¢å‘½ä»¤æ˜¯ <code>&lt;C-w&gt;</code> å†åŠ ä¸Š <code>h/j/k/l</code>ï¼Œéœ€è¦æŒ‰ä¸¤æ¬¡ã€‚è¿™ç»„è®¾ç½®æŠŠä¸¤æ­¥æ“ä½œç®€åŒ–æˆäº†ä¸€æ­¥ï¼Œè®©çª—å£å¯¼èˆªå˜å¾—åƒåœ¨å•ä¸ªæ–‡ä»¶ä¸­ç§»åŠ¨å…‰æ ‡ä¸€æ ·æµç•…è‡ªç„¶ï¼Œæå¤§åœ°æå‡äº†åˆ†å±å·¥ä½œçš„æ•ˆç‡ã€‚</li>
</ul>
</li>
<li><code>-- NOTE: Some terminals have colliding keymaps...</code> (è¢«æ³¨é‡Šæ‰çš„ä»£ç å—)ï¼šè¿™æ˜¯å¦ä¸€ç»„<strong>æç¤ºæ€§é…ç½®</strong>ï¼Œå®ƒå°è¯•å°† <code>Ctrl + Shift + h/j/k/l</code> æ˜ å°„ä¸º<strong>ç§»åŠ¨æ•´ä¸ªçª—å£çš„ä½ç½®</strong>ï¼Œè€Œä¸æ˜¯ä»…ä»…ç§»åŠ¨ç„¦ç‚¹ã€‚
<ul>
<li>æ¯”å¦‚ï¼ŒæŒ‰ä¸‹ <code>Ctrl + Shift + h</code> ä¼šæŠŠå½“å‰æ‰€åœ¨çš„çª—å£æ•´ä¸ªç§»åŠ¨åˆ°å·¦è¾¹å»ã€‚è¿™å¯¹äºæ•´ç†çª—å£å¸ƒå±€å¾ˆæœ‰ç”¨ã€‚</li>
<li>ä½†æ˜¯ï¼Œæ³¨é‡Šæ˜ç¡®æŒ‡å‡ºï¼Œå¾ˆå¤šç»ˆç«¯ç¨‹åºæ— æ³•æ­£ç¡®è¯†åˆ« <code>Ctrl + Shift</code> å’Œ <code>Ctrl</code> çš„åŒºåˆ«ï¼Œå¯¼è‡´è¿™ä¸ªå¿«æ·é”®å¯èƒ½æ— æ³•ç”Ÿæ•ˆã€‚æ‰€ä»¥å®ƒè¢«é»˜è®¤æ³¨é‡Šæ‰äº†ï¼Œéœ€è¦ä½ è‡ªå·±æµ‹è¯•å’Œå†³å®šæ˜¯å¦å¯ç”¨ã€‚</li>
</ul>
</li>
</ul>
<p>åŸè°…æˆ‘ä¸Šé¢è¿™æ®µæ–‡å­—ç”¨äº†aiã€‚aiæè¿°é€šå¸¸ä¼šæœ‰è¿‡å¤šçš„æè¿°ï¼Œå¯¼è‡´çœ‹èµ·æ¥è§‚æ„Ÿä¸é‚£ä¹ˆæ¸…çˆ½ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘æ¥æ€»ç»“ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>vim.keymap.set('&lt;mode&gt;','&lt;key&gt;','&lt;command&gt;',{desc = &quot;&quot;})</code>æ˜¯é…ç½®é”®ç›˜æ˜ å°„çš„åŸºæœ¬è¯­å¥ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ¨¡å¼ï¼Œn,v,i,c,tåˆ†åˆ«ä»£è¡¨æ™®é€šæ¨¡å¼ã€å¯è§†æ¨¡å¼ã€æ’å…¥æ¨¡å¼ã€å‘½ä»¤è¡Œæ¨¡å¼ã€ç»ˆç«¯æ¨¡å¼ã€‚è¿™è¡¨æ˜äº†è¯¥æ˜ å°„çš„ç”Ÿæ•ˆåœºæ™¯ã€‚</li>
<li>ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºä½ æŒ‰ä¸‹çš„æŒ‰é”®ï¼Œç‰¹æ®ŠæŒ‰é”®ä½¿ç”¨å°–æ‹¬å·åŒ…è£¹ã€‚å¤§è‡´å¦‚ä¸‹ï¼š
<ul>
<li>&lt;CR&gt;: å›è½¦é”® (Carriage Return)</li>
<li>&lt;Esc&gt;: Escape é”®</li>
<li>&lt;Space&gt;: ç©ºæ ¼é”®</li>
<li>&lt;leader&gt;: ä½ è®¾ç½®çš„ Leader é”®</li>
<li>&lt;C-h&gt;: Ctrl + h</li>
<li>&lt;S-h&gt;: Shift + h</li>
<li>&lt;A-h&gt;: Alt + h (åœ¨ Lua ä¸­ä¹Ÿå†™ä½œÂ &lt;M-h&gt;)</li>
<li>ä¾‹ï¼š
<ul>
<li><code>&lt;leader&gt;q</code>å‰å¯¼é”®+q</li>
<li><code>&lt;C-h&gt;</code>Ctrl+h</li>
<li><code>&lt;Esc&gt;&lt;Esc&gt;</code>æŒ‰ä¸¤æ¬¡esc</li>
</ul>
</li>
</ul>
</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°è¡¨ç¤ºæŒ‡ä»¤ï¼Œä½ å¯ä»¥ç”¨å•å¼•å·åŒ…è£¹ä¸€ä¸ªæŒ‡ä»¤æ¥ç›´æ¥è¡¨ç¤ºä¸€ä¸ªæŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥ä»¿ç…§ç¬¬äºŒä¸ªå‚æ•°æ¥æ¨¡æ‹ŸæŒ‰é”®ã€‚</li>
<li>ç¬¬å››ä¸ªå‚æ•°æ˜¯é€‰é¡¹ï¼Œå†™å…¥descå¯ä»¥ä¸ºå¿«æ·é”®å†™å…¥æè¿°ã€‚å…¶ä»–çš„å¯é€‰é¡¹ä¸åœ¨æ­¤ç½—åˆ—ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å†™ä¸€äº›ç®€å•çš„å¿«æ·é”®ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç¼–å†™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;i&#39;</span>,<span style="color:#e6db74">&#39;jk&#39;</span>,<span style="color:#e6db74">&#39;&lt;Esc&gt;&#39;</span>) <span style="color:#75715e">--ç”¨jkæ¥ä»æ’å…¥æ¨¡å¼å¿«é€Ÿåˆ‡æ¢å›æ™®é€šæ¨¡å¼ï¼Œæ¯”æŒ‰escå¿«çš„å¤š</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;v&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;vsplit&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[V]ertical split&#39;</span> }) <span style="color:#75715e">--åˆ›å»ºå‚ç›´åˆ†å±çš„å¿«é€Ÿæ–¹å¼</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;v&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;vsplit&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[V]ertical split&#39;</span> }) <span style="color:#75715e">--åˆ›å»ºæ°´å¹³åˆ†å±</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;c&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;close&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[C]lose window&#39;</span> }) <span style="color:#75715e">--å…³é—­åˆ†å±</span>
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;bn&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;bnext&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Go to [N]ext [B]uffer&#39;</span> })
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;bp&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;bprevious&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Go to [P]revious [B]uffer&#39;</span> })
</span></span><span style="display:flex;"><span>vim.keymap.set(<span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;&lt;leader&gt;bd&#39;</span>, <span style="color:#e6db74">&#39;&lt;cmd&gt;bdelete&lt;CR&gt;&#39;</span>, { desc <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[D]elete/close buffer&#39;</span> })
</span></span></code></pre></div><p>æ€»ä¹‹ï¼Œè¿™éƒ¨åˆ†ä»£ç ä¸»è¦å°±æ˜¯è®©ä½ åœ¨æ„Ÿè§‰æœ‰çš„å¿«æ·é”®æ¯”è¾ƒåäººç±»çš„æ—¶å€™å¯ä»¥éšæ„å°†å®ƒä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„å¿«æ·é”®ã€‚ä»¥ä¸Šéƒ¨åˆ†ä»£ç ä»…ä¾›å‚è€ƒã€‚</p>
<hr>
<p>é™äºç¯‡å¹…ï¼Œinit.luaå†…å®¹çš„ä»‹ç»æš‚æ—¶åˆ°è¿™é‡Œã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰ç»“æŸï¼šæ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥å°è¯•å°†optionså’Œkeymapéƒ¨åˆ†çš„ä»£ç ç§»æ¤åˆ°å…¶ä»–åœ°æ–¹å»ã€‚æ‰€æœ‰çš„é…ç½®å…¨éƒ¨éƒ½æ”¾åœ¨ä¸€ä¸ªinit.luaæ–‡ä»¶ä¸­å¹¶ä¸åˆ©äºåæœŸçš„ç»´æŠ¤ä¸è°ƒæ•´ã€‚ç†è®ºä¸Šï¼Œæ ¹æ®æˆ‘ä»¬å‰æ–‡æ‰€å­¦çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å·²ç»è¶³å¤Ÿå¯ä»¥å®ç°é…ç½®æ–‡ä»¶çš„åˆ†æ¨¡å—ç®¡ç†äº†ã€‚</p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›åˆ°æ ¹ç›®å½•ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cd ~/.config/nvim
</span></span></code></pre></div><p>æ¥ç€ï¼Œåœ¨<code>~/.config/nvim/lua/custom</code>ç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªæ–°çš„luaæ–‡ä»¶æ¥å­˜æ”¾æˆ‘ä»¬å†™å¥½çš„keymapå’Œoptionéƒ¨åˆ†ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>touch lua/custom/options.lua
</span></span><span style="display:flex;"><span>touch lua/custom/keymaps.lua
</span></span></code></pre></div><p>ç„¶åï¼Œå°†æ ¹ç›®å½•ä¸‹init.luaä¸­<code>vim.o</code>ä¸<code>vim.keymaps</code>ç›¸å…³çš„ä»£ç åˆ†åˆ«å‰ªåˆ‡åˆ°è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚æ³¨æ„ï¼Œå½“ä½ ä½¿ç”¨vimå†…ç½®çš„<code>d</code>ä¸<code>p</code>å‰ªåˆ‡ç²˜è´´å·¥å…·æ—¶ï¼Œå› ä¸ºä½ è¦ç§»åŠ¨çš„<code>vim.o</code>æ¶‰åŠåˆ°äº†å‰ªåˆ‡æ¿å·¥å…·ï¼Œ<code>vim.keymap</code>æ¶‰åŠåˆ°äº†å¿«æ·é”®è®¾ç½®ï¼Œä½ å¯èƒ½åœ¨æ­¤è¿‡ç¨‹ä¸­ä¼šé‡åˆ°ä¸€ç‚¹å°é—®é¢˜ã€‚ä»¥é˜²ä¸‡ä¸€ï¼Œä½ å¯ä»¥å…ˆæŠŠä»£ç å¤åˆ¶åˆ°å¤–éƒ¨ï¼Œå†æŒ¨ä¸ªå¤åˆ¶è¿›å¯¹åº”æ–‡ä»¶ï¼Œè¿™æ ·ä»¥é˜²ä»£ç ä¸¢å¤±ã€‚</p>
<p>æ­¤æ—¶ï¼Œä½ å°±å¯ä»¥å®Œå…¨åˆ é™¤init.luaå¼€å¤´åˆ°keymapsä½ç½®çš„å…¨éƒ¨ä»£ç ï¼ˆé™¤äº†å…¨å±€å˜é‡ï¼‰ï¼Œå¹¶è¡¥ä¸Šï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lua" data-lang="lua"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;custom.options&#39;</span>
</span></span><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;custom.keymaps&#39;</span>
</span></span></code></pre></div><p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œä¿å­˜é€€å‡ºå†é‡è¿›ï¼Œä½ åŸå…ˆå†™åœ¨init.luaä¸­çš„é…ç½®æ­¤æ—¶å†æ¬¡ä¼šå‘æŒ¥ä½œç”¨ã€‚ä½ å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è®©ä½ çš„é…ç½®æ–‡ä»¶æ›´åŠ æ˜“äºç»´æŠ¤ã€‚</p>
<p>å¤§æ¦‚å…ˆè¿™æ ·ï¼Œæˆ‘è¿˜ä¼šå°±ç•Œé¢ä¸ªæ€§åŒ–ã€lspç­‰æ¯”è¾ƒæ£˜æ‰‹çš„é…ç½®é—®é¢˜å†å†™å‡ ç¯‡åšå®¢ã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>Test</title>
			<link>http://localhost:1313/zh-cn/posts/test/</link>
			<pubDate>Fri, 21 Nov 2025 14:06:57 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/test/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h1 id="test">test<a href="#test" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h1>
<h2 id="test-1">test<a href="#test-1" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<h3 id="test-2">test<a href="#test-2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h3>
<p><strong>test</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;test&#39;</span>)
</span></span></code></pre></div><hr>
]]></content>
		</item>
		
		<item>
			<title>Hellohugo</title>
			<link>http://localhost:1313/zh-cn/posts/hellohugo/</link>
			<pubDate>Wed, 19 Nov 2025 23:20:43 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/hellohugo/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h2 id="hellohugo">Hellohugo<a href="#hellohugo" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>è¿™æ˜¯æ–°çš„å¼€å§‹ï¼</p>
<p>æœŸä¸­ä¹‹åï¼Œæˆ‘å†³å®šæ”¹ç”¨hugoåšå®¢æ¡†æ¶æ¥é‡æ–°æ­å»ºè‡ªå·±çš„åšå®¢ã€‚åŸå…ˆä½¿ç”¨hexoçš„åšå®¢å› ä¸ºèµ·åˆæŠ€æœ¯åŠ›ä¸è¶³å¯¼è‡´ç§ç§é…ç½®å›°éš¾ï¼Œæœ€è¿‘æƒ³æŠŠæ–‡ç« æŠ•é€ä¸Šå»æ—¶çªç„¶å‘ç°orangesä¸»é¢˜çš„ä»£ç å—æ„å¤–çš„å¾ˆä¸‘ã€‚ä¸æ­¤åŒæ—¶ï¼Œè€åšå®¢æ˜¯åœ¨æˆ‘çš„windowsä¸»ç³»ç»Ÿä¸­å®Œæˆæ­å»ºçš„ï¼Œè€Œæˆ‘ç°åœ¨ä»£ç å·¥ä½œåŸºæœ¬å®Œå…¨è½¬å‘äº†linuxï¼ˆè™½ç„¶åªæ˜¯wslï¼‰ï¼Œç»§ç»­åœ¨windowsä¸‹ç»´æŠ¤åšå®¢åˆä¼šå¸¦æ¥ç§ç§ä¸ä¾¿ï¼Œæ‰€ä»¥ç´¢æ€§å®Œå…¨å¼ƒç”¨åŸæœ¬çš„åšå®¢ï¼Œåœ¨wslä¸­å¦èµ·ç‚‰ç¶ã€‚</p>
]]></content>
		</item>
		
		<item>
			<title>é›¶åŸºç¡€å¦‚ä½•æ­å»ºåšå®¢</title>
			<link>http://localhost:1313/zh-cn/posts/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</link>
			<pubDate>Sat, 20 Sep 2025 20:49:03 +0800</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<h4 id="ä»æ—§ç«™ç§»æ¤æ¥çš„æ—§æ–‡æ—§ç«™ä½¿ç”¨çš„æ˜¯hexoæ¡†æ¶">ä»æ—§ç«™ç§»æ¤æ¥çš„æ—§æ–‡ï¼Œæ—§ç«™ä½¿ç”¨çš„æ˜¯hexoæ¡†æ¶<a href="#%e4%bb%8e%e6%97%a7%e7%ab%99%e7%a7%bb%e6%a4%8d%e6%9d%a5%e7%9a%84%e6%97%a7%e6%96%87%e6%97%a7%e7%ab%99%e4%bd%bf%e7%94%a8%e7%9a%84%e6%98%afhexo%e6%a1%86%e6%9e%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>å¤§æ¦‚åœ¨æœ¬æœˆçš„14å·å·¦å³ï¼Œæˆ‘çªç„¶æƒ³èµ·æ¥ä¹‹å‰çŸ¥ä¹ä¸Šæœ‰äººå’Œæˆ‘è¯´è¿‡å¯ä»¥æ­å»ºä¸€ä¸ªåšå®¢ï¼Œå†™å†™é¢˜è§£ä»€ä¹ˆçš„ã€‚å½“ç„¶ï¼Œæ­ä¸€ä¸ªåšå®¢å’Œå†™é¢˜è§£ä¹‹é—´æ²¡æœ‰å¿…ç„¶å…³ç³»ï¼Œä½†æ˜¯å°±é‚£å‡ å¤©æˆ‘çªç„¶å¼€å§‹å¥½å¥‡ä»€ä¹ˆæ˜¯åšå®¢ã€‚ä¸æŸ¥ä¸çŸ¥é“ï¼Œåšå®¢ç«Ÿç„¶æ˜¯ä¸€ç±»ç½‘ç«™çš„ç»Ÿç§°ã€‚ç»è¿‡äº†ä¸€ç•ªæŠ˜è…¾æ€»ç®—æ˜¯æŠŠè‡ªå·±çš„åšå®¢ç½‘ç«™æ­å»ºèµ·æ¥äº†ã€‚</p>
<p>ä¸‹é¢ï¼Œè¯·è®©æˆ‘ç®€è¿°æˆ‘çš„åšå®¢æ˜¯å¦‚ä½•æ­å»ºèµ·æ¥çš„ã€‚</p>
<h2 id="1é™æ€æ¡†æ¶hexo">1.é™æ€æ¡†æ¶hexo<a href="#1%e9%9d%99%e6%80%81%e6%a1%86%e6%9e%b6hexo" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>å› ä¸ºåšå®¢å®é™…ä¸Šæ˜¯ä¸€ç§è¿‡å»ç››è¡Œçš„ç½‘ç»œç¤¾äº¤æ–¹å¼ï¼Œå¤§å¤šæ•°åšå®¢éƒ½å¤§åŒå°å¼‚ï¼Œæ‰€ä»¥ï¼Œæ­å»ºåšå®¢å¾ˆå¤šæ—¶å€™æ˜¯ä¸€ä»¶ç›¸å½“åŒè´¨åŒ–çš„äº‹æƒ…ã€‚è¿™å°±æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç›¸ä¼¼çš„æ¡†æ¶æ¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚è¿™å°±æ˜¯åšå®¢æ¡†æ¶ã€‚</p>
<p>åšå®¢æ¡†æ¶æ›¿ç”¨æˆ·å‡ ä¹é“ºå¹³äº†æ‰€æœ‰æŠ€æœ¯å›°éš¾ï¼Œè€Œç”¨æˆ·å¯ä»¥èšç„¦åœ¨ä¸šåŠ¡é—®é¢˜ï¼ˆå¦‚å†™åšå®¢ï¼‰ä¸Šã€‚åšå®¢æ¡†æ¶å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œé™æ€æ¡†æ¶å’ŒåŠ¨æ€æ¡†æ¶ã€‚åè€…çš„å­¦ä¹ æˆæœ¬æ›´é«˜ï¼Œä½†æ˜¯å¯ä»¥åšå‡ºæ›´å¤šçš„äº¤äº’ã€‚è€Œå‰è€…è™½ç„¶ä¸ä¾¿äºåšäº¤äº’ï¼Œä½†æ˜¯ç”¨æ¥å†™å†™ç®€å•çš„åšå®¢æ–‡å·²ç»è¶³å¤Ÿäº†ã€‚æ‰€ä»¥å¯¹æˆ‘è€Œè¨€ï¼Œæ€§ä»·æ¯”æœ€é«˜çš„æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨é™æ€åšå®¢æ¡†æ¶æ­å»ºè‡ªå·±çš„åšå®¢ã€‚</p>
<p>åœ¨é™æ€åšå®¢æ¡†æ¶ä¸­ï¼Œæˆ‘é€‰æ‹©äº†hexoã€‚æ²¡ä»€ä¹ˆç†ç”±ï¼Œåªæ˜¯å› ä¸ºä¸»é¢˜å¤šå¹¶ä¸”å­¦ä¹ æˆæœ¬ä½è€Œå·²ã€‚å¯¹äºå…¶æ€§èƒ½æ–¹é¢æˆ–è®¸å­˜åœ¨çš„é—®é¢˜ï¼Œæˆ‘çš„è¯„ä»·æ˜¯æˆ‘çš„å¢ƒç•Œè¿˜ä¸è¶³ä»¥è®©æˆ‘æ„Ÿå—åˆ°å®ƒçš„é—®é¢˜ã€‚</p>
<h2 id="2æ€ä¹ˆç”¨hexo">2.æ€ä¹ˆç”¨hexoï¼Ÿ<a href="#2%e6%80%8e%e4%b9%88%e7%94%a8hexo" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆç°å®çš„é—®é¢˜ã€‚å¯¹äºå¤§å¤šæ•°ç”µè„‘ä½¿ç”¨è€…è€Œè¨€ï¼Œç”¨ç”µè„‘å‡ ä¹ç­‰åŒäºä¸å›¾å½¢åŒ–ç•Œé¢æ‰“äº¤é“ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æƒ³åˆ›å»ºä¸€ä¸ªå¾®ä¿¡å…¬ä¼—å·ï¼Œä½ åªéœ€è¦å‰å¾€å¾®ä¿¡å…¬ä¼—å¹³å°åœ¨å›¾å½¢åŒ–ç•Œé¢æ³¨å†Œå³å¯ã€‚ä½†æ˜¯å¯¹äºåšå®¢æ¡†æ¶å’Œå¤§å¤šæ•°æ‹“å±•åŒ…è€Œè¨€ï¼Œå®ƒä»¬å¹¶ä¸é‡‡ç”¨å›¾å½¢åŒ–ç•Œé¢çš„äº¤äº’æ–¹å¼ï¼Œè€Œæ˜¯é‡‡ç”¨å‘½ä»¤è¡Œå·¥å…·æ¥å®Œæˆå„é¡¹å·¥ä½œã€‚</p>
<p>è¿™å°±æ„å‘³ç€ï¼Œæƒ³ä½¿ç”¨hexoæ­å»ºæ¡†æ¶ï¼Œæœ€å¥½å…ˆå­¦ä¸€ç‚¹å‘½ä»¤è¡Œå·¥å…·çš„ç”¨æ³•ã€‚</p>
<h4 id="å‘½ä»¤è¡Œå·¥å…·">å‘½ä»¤è¡Œå·¥å…·<a href="#%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>åŸè°…æˆ‘åªç”¨è¿‡windowsç³»ç»Ÿã€‚åœ¨winç³»ç»Ÿä¸­ï¼Œæœ‰ä¸¤ç§å‘½ä»¤è¡Œå·¥å…·ï¼šcmdå’Œpowershellã€‚å‰è€…å¤§å¤šç”¨æ¥åšåŸºç¡€å‘½ä»¤å’Œå…¼å®¹æ€§ï¼ŒåŠŸèƒ½æœ‰é™ã€‚æ­¤å¤„æˆ‘ä»¬ä½¿ç”¨powershellã€‚</p>
<p>æ­¤å¤–ï¼Œä½ è¿˜éœ€è¦å®‰è£…gitã€‚å¦‚æœä½ ä»æ¥æ²¡æœ‰å¬è¯´è¿‡å®ƒï¼Œè¿™æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œä¸“é—¨ç”¨æ¥ç®¡ç†ä½ çš„å·¥ç¨‹ä»£ç ã€‚é‰´äºåšå®¢æœ¬è´¨ä¸Šå°±æ˜¯æ­å»ºç½‘ç«™ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸å¾—ä¸å“çš„ä¸€ç¯ã€‚å®‰è£…gitä¹‹åï¼Œä½ çš„ç”µè„‘é‡Œè¿˜ä¼šå‡ºç°å¦ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼šgit bashã€‚</p>
<p>æ‰€ä»¥ï¼Œgit bashå’Œpowershellåˆæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¯·çœ‹chatgptç»™å‡ºçš„è§£é‡Šï¼š</p>
<pre tabindex="0"><code>1. è¿è¡Œç¯å¢ƒä¸åŒ

Git Bash

æä¾›ä¸€ä¸ªç±» Linux çš„ bash shell ç¯å¢ƒï¼ˆåŸºäº MinGWï¼‰ã€‚

å†…ç½®äº†å¾ˆå¤šå¸¸è§çš„ Unix å·¥å…·ï¼ˆå¦‚ lsã€grepã€catã€rmï¼‰ã€‚

é»˜è®¤å‘½ä»¤è¯­æ³•æ›´æ¥è¿‘ Linux / macOSã€‚

é€‚åˆä¹ æƒ¯ Linux å‘½ä»¤è¡Œçš„ç”¨æˆ·ã€‚

PowerShell

Windows åŸç”Ÿçš„ shellï¼ŒåŸºäº .NETã€‚

Git æœ¬èº«å¹¶ä¸è‡ªå¸¦ PowerShellï¼Œä½†ä½ è£…äº† Git for Windows åï¼Œgit.exe ä¼šæ³¨å†Œåˆ°ç³»ç»Ÿ PATHï¼Œå› æ­¤ PowerShell ä¹Ÿèƒ½ç›´æ¥ç”¨ gitã€‚

å‘½ä»¤è¯­æ³•æ˜¯ PowerShell é£æ ¼ï¼ˆGet-Commandã€| ç®¡é“ä¼ å¯¹è±¡ï¼‰ã€‚

æ›´é€‚åˆåš Windows ç³»ç»Ÿç®¡ç† + Git æ··åˆåœºæ™¯ã€‚

2. å‘½ä»¤è¡Œä¸ºä¸Šçš„å·®å¼‚

è·¯å¾„æ ¼å¼

Git Bashï¼šç”¨ Linux é£æ ¼è·¯å¾„ /c/Users/...

PowerShellï¼šç”¨ Windows é£æ ¼è·¯å¾„ C:\Users\...

Git å†…éƒ¨èƒ½è‡ªåŠ¨é€‚é…ï¼Œä½†æœ‰æ—¶è„šæœ¬é‡Œè·¯å¾„å†™æ³•è¦æ³¨æ„ã€‚

è„šæœ¬å…¼å®¹æ€§

Git Bash èƒ½ç›´æ¥è·‘ .sh è„šæœ¬ï¼ˆLinux å†™çš„è„šæœ¬å‡ ä¹ä¸ç”¨æ”¹ï¼‰ã€‚

PowerShell åªèƒ½è·‘ .ps1ï¼Œè¦æƒ³è·‘ .shï¼Œå¾—é¢å¤–é…ç½®ï¼ˆæ¯”å¦‚ç”¨ WSLï¼‰ã€‚

è¾“å‡ºå’Œç®¡é“

Git Bashï¼šè¾“å‡ºå°±æ˜¯ æ–‡æœ¬ï¼Œå¸¸ç”¨ grepã€awk å¤„ç†ã€‚

PowerShellï¼šè¾“å‡ºæ˜¯ å¯¹è±¡ï¼Œå¯ä»¥ git log | Out-File log.txtï¼Œä½†æœ‰äº› git è¾“å‡ºå¹¶ä¸æ˜¯å¯¹è±¡ï¼Œè¿˜æ˜¯æ™®é€šæ–‡æœ¬ï¼Œè¿™æ—¶å°±å½“æˆå­—ç¬¦ä¸²å¤„ç†ã€‚

3. ä½“éªŒä¸Šçš„å·®å¼‚

Git Bash

æ›´åƒåœ¨ Linux ä¸‹ç”¨ Gitï¼Œæ•™ç¨‹å’Œ Stack Overflow ç¤ºä¾‹å‡ ä¹å¯ä»¥åŸæ ·ç…§æ¬ã€‚

æœ‰è¡¥å…¨ã€é¢œè‰²æ”¯æŒç­‰ã€‚

PowerShell

è·Ÿ Windows ç³»ç»Ÿèåˆåº¦é«˜ï¼Œæ¯”å¦‚ç›´æ¥ç»“åˆ Windows æ–‡ä»¶ç³»ç»Ÿã€æœåŠ¡ç®¡ç†ã€‚
</code></pre><p>æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ï¼Œå¤§æ¦‚å°±æ˜¯git bashé£æ ¼ä¸Šæ›´åƒlinuxç³»ç»Ÿï¼Œæ›´èƒ½é€‚é…å„ç±»æ•™ç¨‹ï¼›è€Œpowershellå’Œwinç³»ç»Ÿçš„é€‚é…åº¦æ›´é«˜ã€‚</p>
<p>æ‰€ä»¥æˆ‘æ€ä¹ˆç”¨å‘¢ï¼Ÿæˆ‘çš„è¯„ä»·æ˜¯é»˜è®¤ç”¨powershellï¼ŒæŠ¥é”™å‡ºè¯­æ³•é”™è¯¯ä¹‹åå†è¯•è¯•git bashä¸Šèƒ½ä¸èƒ½è¡Œã€‚ä¸ºä»€ä¹ˆè¦åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå‘½ä»¤è¡Œå·¥å…·å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå› ä¸ºå½“ä½ ä½œä¸ºåˆå­¦è€…ä½¿ç”¨gitæ—¶ï¼Œä¸å…è¦é—®é—®LLMçš„æ„è§ï¼Œè¿™ä¸ªæ—¶å€™LLMå°±æœ‰å¯èƒ½ä»ç½‘ç»œçš„å„ä¸ªè§’è½ç»™ä½ æœç½—æ¥å‘½ä»¤ï¼Œå…¶ä¸­å¾ˆå¯èƒ½ç›¸å½“ä¸€éƒ¨åˆ†åªèƒ½åœ¨git bashä¸Šä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœæƒ³æœ¬åœ°è°ƒè¯•åšå®¢çš„è¯åˆæœ€å¥½ä½¿ç”¨powershallã€‚æ‰€ä»¥ï¼Œè½®ç€ç”¨å§ã€‚</p>
<p>å¯¹äºpowershellï¼Œåªéœ€è¦çŸ¥é“ä¸¤ä¸ªæœ€åŸºæœ¬çš„æŒ‡ä»¤å°±è¡Œäº†ã€‚</p>
<pre tabindex="0"><code>cd &lt;path&gt;
dir
</code></pre><p>ç¬¬ä¸€ä¸ªæŒ‡ä»¤æ˜¯æ”¹å˜ä½ å‘½ä»¤è¡Œæœ€å‰é¢çš„é‚£ä¸ªåœ°å€ã€‚ä¹‹åä½ éœ€è¦å°†åœ°å€æ”¹åˆ°ä½ åšå®¢æ–‡ä»¶çš„æ ¹ç›®å½•ä¸Šæ‰èƒ½ç»§ç»­ä½¿ç”¨hexoçš„ç›¸å…³å‘½ä»¤ã€‚
ç¬¬äºŒä¸ªå‘½ä»¤æ˜¯ç½—åˆ—è¯¥ç›®å½•ä¸‹æœ‰ä»€ä¹ˆæ–‡ä»¶ï¼Œæ–¹ä¾¿ä½ cdã€‚</p>
<p>å¥½çš„ï¼Œç°åœ¨ä½ çŸ¥é“äº†æ€ä¹ˆç”¨å‘½ä»¤è¡Œå·¥å…·åˆ‡æ¢æ–‡ä»¶ç›®å½•äº†ï¼Œæ˜¯æ—¶å€™è®©æˆ‘ä»¬å¼€å§‹åœ¨æœ¬åœ°å®‰è£…æˆ‘ä»¬çš„hexoæ¡†æ¶äº†ã€‚</p>
<h4 id="hexoç¯å¢ƒå®‰è£…">hexoç¯å¢ƒå®‰è£…<a href="#hexo%e7%8e%af%e5%a2%83%e5%ae%89%e8%a3%85" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>hexoæ¡†æ¶æ˜¯ä½¿ç”¨nodejså†™çš„ã€‚å°±åƒC++éœ€è¦ç¼–è¯‘æ‰èƒ½è¿è¡Œï¼Œjavaéœ€è¦JDKæ‰èƒ½è¿è¡Œï¼Œnodejså†™çš„ç¨‹åºä¹Ÿä¸€æ ·ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…nodejsã€‚</p>
<p>å®‰è£…ç½‘ç«™ï¼š<a href="https://nodejs.org/">nodejs</a></p>
<p>æ­¤å¤–ï¼Œåœ¨å‰æ–‡ä¸­æˆ‘ä»¬æåˆ°äº†gitã€‚å¦‚æœä½ æƒ³æ›´æ–°ç½‘ç«™å†…å®¹ï¼Œå¯¹äºhexoæ¡†æ¶è€Œè¨€æœ€æ–¹ä¾¿çš„é€”å¾„å°±æ˜¯ä½¿ç”¨gitã€‚åæ­£gitå·¥å…·å¯¹äºä¸€ä¸ªå†™ä»£ç çš„äººè€Œè¨€æ—©æ™šéƒ½è¦å­¦çš„ï¼Œä¸å¦‚å°±è¶ç°åœ¨å­¦ä¸€ä¸‹å§ã€‚</p>
<p>å®‰è£…ç½‘ç«™ï¼š<a href="https://git-scm.com/downloads">git</a>
(åè®°ï¼šå®é™…ä¸Šå¤šæ•°æ—¶å€™ç›´æ¥ä½¿ç”¨åŒ…ç®¡ç†å™¨å°±å¯ä»¥éå¸¸è½»æ¾åœ°ä¸‹è½½ã€‚)</p>
<p>æœ€åï¼Œæ¯«æ— ç–‘é—®ï¼Œä½ éœ€è¦å®‰è£…hexoã€‚ä½†æ˜¯è¿™æ¬¡ï¼Œä½ ä¸éœ€è¦è®¿é—®ä»»ä½•ç½‘ç«™ã€‚nodejså†…ç½®äº†npmåŒ…ç®¡ç†å™¨ã€‚ä½ åªéœ€è¦è¾“å…¥ä¸€ä¸²æŒ‡ä»¤å°±å¯ä»¥è‡ªåŠ¨å®‰è£…hexoã€‚</p>
<pre tabindex="0"><code>npm install -g hexo-cli
</code></pre><p>åœ¨powershellä¸­è¾“å…¥ã€‚ä¸ºä»€ä¹ˆä¸åœ¨git bashä¸­è¾“å…¥å‘¢ï¼Ÿå› ä¸ºæˆ‘æ²¡è¯•è¿‡ã€‚(å®é™…ä¸Šåº”è¯¥å·®ä¸å¤š)</p>
<h4 id="åˆ›å»ºä¸€ä¸ªåšå®¢é¡¹ç›®">åˆ›å»ºä¸€ä¸ªåšå®¢é¡¹ç›®<a href="#%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e5%8d%9a%e5%ae%a2%e9%a1%b9%e7%9b%ae" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>åœ¨ç¯å¢ƒæ­å»ºå®Œæ¯•ä¹‹åï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªåšå®¢é¡¹ç›®ã€‚hexoæ˜¯ä¸€ä¸ªä¸ºä½ ç”Ÿæˆåšå®¢ç½‘ç«™æºç çš„å·¥å…·ï¼Œå®ƒçš„äº§å‡ºå•å…ƒå°±æ˜¯åšå®¢ã€‚æ‰€ä»¥ï¼Œåˆ›å»ºä¸€ä¸ªåšå®¢ã€‚
cdåˆ°ä½ è§‰å¾—åˆé€‚çš„åœ°å€ï¼Œè¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre tabindex="0"><code>hexo init myblog   # åˆ›å»ºä¸€ä¸ªåä¸º myblog çš„åšå®¢ç›®å½•
cd myblog
npm install         # å®‰è£…ä¾èµ–
</code></pre><p>æ‰§è¡Œå®Œåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„åšå®¢é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŒ…æ‹¬ï¼š</p>
<ul>
<li>source/_posts/ï¼šæ”¾æ–‡ç« çš„åœ°æ–¹</li>
<li>themes/ï¼šåšå®¢å¤–è§‚ä¸»é¢˜</li>
<li>config.ymlï¼šå…¨å±€é…ç½®æ–‡ä»¶</li>
</ul>
<p>å¥½çš„ï¼Œç°åœ¨ä½ å°±æˆåŠŸäº†ç›¸å½“ä¸€éƒ¨åˆ†äº†ã€‚ä½ å·²ç»æœ‰äº†åšå®¢çš„ä¸»è¦æ–‡ä»¶ï¼Œä½ åªéœ€è¦å¾€é‡Œé¢å¡«å†…å®¹ç„¶åéƒ¨ç½²å³å¯ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•å¡«å†…å®¹å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹æ€ä¹ˆæœ¬åœ°æµ‹è¯•ã€‚</p>
<pre tabindex="0"><code>hexo clean
hexo g
hexo s
</code></pre><p>è¿™ä¸‰ä¸ªæŒ‡ä»¤é€šå¸¸æ˜¯è¿ç€è¾“çš„ï¼Œå¤§å¤šæ•°æ—¶å€™ä½ æ ¹æœ¬ä¸ç”¨å…³å¿ƒä¸‰ä¸ªæŒ‡ä»¤åˆ†åˆ«æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä½ åªéœ€è¦çŸ¥é“ï¼šä¸‰ä¸ªæŒ‡ä»¤è¾“å®Œä¹‹åï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªç½‘å€<code>http://localhost:4000/</code>ï¼ŒæŠŠå®ƒè¾“å…¥åˆ°æµè§ˆå™¨ä¸­ä½ å°±å¯ä»¥æœ¬åœ°é¢„è§ˆä½ çš„åšå®¢ç½‘ç«™ã€‚é€šå¸¸è€Œè¨€ï¼Œé¢„è§ˆçš„ç»“æœå°±æ˜¯éƒ¨ç½²å¾—åˆ°çš„ç»“æœã€‚
(åè®°ï¼šå®åˆ™ä¸ç„¶ï¼Œç¬¬äºŒæ¬¡éƒ¨ç½²åšå®¢è´¹äº†è€åŠ²ï¼Œé¢„è§ˆçš„ç»“æœå’Œéƒ¨ç½²çš„ç»“æœå§‹ç»ˆä¸åŒï¼Œæ”¹äº†å¥½ä¹…ç¯å¢ƒå˜é‡ã€‚)</p>
<h2 id="å¦‚ä½•å†™åšå®¢">å¦‚ä½•å†™åšå®¢ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e5%86%99%e5%8d%9a%e5%ae%a2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>åœ¨ä¸Šæ–‡ä¸­ä½ å·²ç»å­¦ä¼šäº†hexoçš„åŸºæœ¬ç”¨æ³•ã€‚ç°åœ¨æ˜¯æ—¶å€™å¡«å……ä¸€äº›å®é™…å†…å®¹äº†ã€‚åšå®¢æ¡†æ¶æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯æ”¯æŒmarkdownè¯­æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªç¨‹åºå‘˜å†™READMEçš„ç»å…¸æ ‡è®°è¯­æ³•ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…æ¥è¯´å¯èƒ½ä¼šæœ‰ä¸€ç‚¹ç‚¹é—¨æ§›ã€‚</p>
<p>è¿™é‡Œä¸å†ç½—åˆ—markdownçš„è¯­æ³•ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ æƒ³å­¦markdownï¼Œæˆ‘çš„ç»éªŒæ˜¯ä½ å¯ä»¥å…ˆä»å­¦obsidianå¼€å§‹ã€‚æˆ‘åœ¨bç«™ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªéå¸¸é€‚åˆåˆå­¦è€…å­¦ä¹ çš„obsidianæ•™ç¨‹ã€‚ç”¨obsidianå­¦markdownæœ€å¤§çš„å¥½å¤„å°±æ˜¯markdownçš„æ•ˆæœèƒ½ç«‹ç«¿è§å½±ï¼Œé«˜åº¦å¯è§†åŒ–ã€‚<a href="https://www.bilibili.com/video/BV1Hj411E7ra/?spm_id_from=333.337.search-card.all.click&amp;vd_source=31ba3d75fa2995f7e1b776de7a637bd4">æ•™ç¨‹è§†é¢‘</a></p>
<p>å¦‚æœä½ æƒ³å†™ä¸€ç¯‡åšå®¢ï¼Œåœ¨powershellä¸­è¾“å…¥ï¼š</p>
<pre tabindex="0"><code>hexo new post &lt;post_name&gt;
</code></pre><p>ç„¶åï¼ŒæŠŠmyblogæ•´ä¸ªæ–‡ä»¶å¤¹ä¸¢åˆ°vscodeé‡Œã€‚åœ¨source/_postsé‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°â€œæ–‡ç« å.mdâ€çš„æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œç”¨markdownè¯­è¨€æ’°å†™ä½ çš„åšå®¢ã€‚</p>
<p>åœ¨å†™å®Œä¸€ç¯‡åšå®¢ä¹‹åï¼Œè®°å¾—ä¿å­˜ï¼Œéšååœ¨ç»ˆç«¯è¾“å…¥ä¸Šæ–‡ä¸­çš„æµ‹è¯•æŒ‡ä»¤ï¼Œä½ å°±å¯ä»¥åœ¨æœ¬åœ°çœ‹åˆ°ä½ çš„åšå®¢æ–‡ç« äº†ã€‚</p>
<h2 id="å¦‚ä½•ä½¿ç”¨ä¸»é¢˜">å¦‚ä½•ä½¿ç”¨ä¸»é¢˜ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e4%b8%bb%e9%a2%98" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œhexoè‡ªå¸¦äº†ä¸€ä¸ªä¸»é¢˜ï¼Œä½ ä¸éœ€è¦æ’å…¥ä¸»é¢˜ä¹Ÿå¯ä»¥æ­å»ºè‡ªå·±çš„åšå®¢ã€‚ä½†æ˜¯hexoçš„ä¼˜åŠ¿å°±åœ¨äºæ´»è·ƒçš„ä¸­æ–‡ç¤¾åŒºä¸å¤§é‡çš„å¼€æºä¸»é¢˜ã€‚å¦‚æœä½ ä¸ä¼šå¯¼å…¥ä¸»é¢˜çš„è¯ç»å¯¹æ˜¯ä¸€ä»¶é—æ†¾ã€‚</p>
<p>ä½¿ç”¨ä¸»é¢˜å¹¶ä¸æ˜¯ä¸€ä»¶éš¾äº‹ï¼Œä½†æ˜¯å¯¹äºåˆå­¦è€…ï¼ˆæ¯”å¦‚æˆ‘ï¼‰è€Œè¨€ï¼Œå› ä¸ºè¯¯æ“ä½œgitå¯¼è‡´ç»™è‡ªå·±åˆ›é€ äº†ä¸€ç³»åˆ—å›°éš¾æ˜¯å¸¸æœ‰çš„äº‹ã€‚æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨ä¸»é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬æœ€å¥½å…ˆäº†è§£ä¸€ä¸‹gitå’Œgithubçš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<h4 id="å¦‚ä½•ä½¿ç”¨git">å¦‚ä½•ä½¿ç”¨gitï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8git" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>åœ¨å‰æ–‡ä¸­æˆ‘ä»¬æœ‰æåˆ°è¿‡gitã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ç¨‹åºç®¡ç†å™¨ï¼Œä½ å¯ä»¥å°†å…¶ç±»æ¯”ä¸ºç å†œçš„æ¸¸æˆå­˜æ¡£ï¼Œä½†æ˜¯å®ƒçš„åŠŸèƒ½æ¯”ç®€å•çš„å­˜æ¡£æ›´åŠ å¼ºå¤§ï¼Œå®ƒå¯ä»¥éšæ—¶å­˜æ¡£ï¼Œè¯»æ¡£ï¼Œåˆ›å»ºåˆ†æ”¯ï¼Œåˆå¹¶åˆ†æ”¯ã€‚ä¸å…¶å°†å®ƒæ¯”ä½œæ˜¯ä¸€ä¸ªå­˜æ¡£å™¨ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ªåŠŸèƒ½æå¼ºçš„æ—¶é—´æœºå™¨ã€‚</p>
<p>å½“ç„¶ï¼Œåœ¨æ­¤å¤„ï¼Œä½ åŒæ ·åªéœ€è¦äº†è§£ä¸€äº›åŸºç¡€çŸ¥è¯†å³å¯ã€‚</p>
<pre tabindex="0"><code>git add .
git add &lt;file_name&gt;
git commit -m &lt;message&gt;
git branch &lt;branch_name&gt;
git checkout &lt;branch_name&gt;
git log
git branch -m &lt;new-name&gt;
</code></pre><p>ç®€å•æ¥è¯´ï¼Œç¬¬ä¸€ä¸ªå‘½ä»¤æ˜¯å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒºï¼Œç¬¬äºŒä¸ªå‘½ä»¤æ˜¯å°†æŒ‡å®šæ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒºã€‚
ç¬¬ä¸‰ä¸ªå‘½ä»¤æ˜¯æäº¤ç¼“å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶ï¼Œå½¢æˆä¸€æ¬¡æäº¤ï¼Œå¹¶ä¸”å¸¦æœ‰ä¸€æ¡å†™å…¥çš„messageã€‚
ç¬¬å››æ¡æ˜¯åœ¨å½“å‰æäº¤å¤„åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ã€‚
ç¬¬äº”ä¸ªæ˜¯è¯»æ¡£ï¼Œå›æ¡£åˆ°æŸä¸ªåˆ†æ”¯çš„çŠ¶æ€ã€‚
ç¬¬å…­ä¸ªæ˜¯æŸ¥çœ‹gitæäº¤è®°å½•ï¼Œä½ å¯ä»¥çœ‹åˆ°é¡¹ç›®çš„æ‰€æœ‰æäº¤è®°å½•ï¼ŒåŒ…æ‹¬æ—¶é—´ï¼Œå“ˆå¸Œå€¼ï¼Œmessageä»¥åŠåˆ†æ”¯ã€‚
æœ€åä¸€ä¸ªæ˜¯ä¿®æ”¹å½“å‰åˆ†æ”¯çš„åç§°ã€‚</p>
<p>å¿˜äº†å†™äº†ï¼Œè¿˜æœ‰<code>git init</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„å‘½ä»¤ï¼Œéœ€è¦åœ¨ä»¥ä¸Šå‘½ä»¤å†™ä¹‹å‰å†™å…¥ã€‚ä¸€ä¸ªå·¥ç¨‹åªéœ€è¦å†™ä¸€æ¬¡å°±å¤Ÿäº†ã€‚è¿™ä¼šå‘Šè¯‰gitï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶éœ€è¦gitæ’æ‰‹ï¼Œå³åˆå§‹åŒ–gitï¼Œä¹‹åæ­¤ç›®å½•ä¸‹æ‰èƒ½ä½¿ç”¨gitå‘½ä»¤ã€‚</p>
<p>çœ‹ä¸æ‡‚ä¸Šé¢æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ²¡å…³ç³»ã€‚å°½ç®¡gitæœ¬èº«æ˜¯å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†æ˜¯å½“å‰ç½‘è·¯ä¸Šä¸ä¹è®¸å¤šç›´è§‚çš„æ•™ç¨‹ã€‚ä¸‹é¢æ¨èå‡ ä¸ª</p>
<p><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a> - ç”¨æ¸¸æˆå¼çš„äº¤äº’ç›´è§‚å±•ç¤ºgitå·¥ä½œæµç¨‹ã€‚åœ¨branchæ–¹é¢æ›´åŠ æ¸…æ™°ã€‚
<a href="https://www.youtube.com/watch?v=mJ-qvsxPHpY&amp;t=602s">Git Tutorial For Dummies</a> - é¡¾åæ€ä¹‰ï¼Œç»™è ¢è›‹ä¸Šçš„gitæ•™ç¨‹ã€‚è·Ÿç€èµ°ä¸€éå°±ä¼šç”¨gitäº†ã€‚
ï¼ˆåè®°ï¼šå…¶å®æˆ‘ç°åœ¨è¿˜æ˜¯ä¸å¤ªèƒ½å®Œå…¨ç†è§£gitåˆ†æ”¯ç‰ˆæœ¬æ§åˆ¶çš„åŸç†ï¼Œå¤§å¤šæ•°æ—¶å€™git add .,git commit,git pushå°±è¶³å¤Ÿæ»¡è¶³éœ€æ±‚äº†ã€‚ï¼‰</p>
<p>ç„¶è€Œï¼Œåªç”¨gitæ˜¯ä¸å¤Ÿçš„ï¼Œå®‰è£…ä¸»é¢˜éœ€è¦ä»githubä¸Šå¯¼å…¥ï¼Œå› æ­¤ï¼Œä½ ä¹Ÿå¿…é¡»å­¦ä¹ ä¸€ç‚¹githubçŸ¥è¯†ã€‚</p>
<h4 id="å¦‚ä½•ä½¿ç”¨github">å¦‚ä½•ä½¿ç”¨githubï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8github" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>hubåœ¨è‹±æ–‡ä¸­è¡¨ç¤ºâ€œä¸­å¿ƒâ€ï¼Œgithubå³gitä¸­å¿ƒã€‚å°½ç®¡æ˜¯ä¸€ä¸ªé«˜åº¦å›¾å½¢åŒ–çš„ç½‘ç«™ï¼Œgithubçš„ä½¿ç”¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºgitã€‚
ä¸‹é¢æˆ‘ä»¬ç½—åˆ—å‡ ä¸ªä¸githubç›¸å…³çš„gitæŒ‡ä»¤ã€‚</p>
<pre tabindex="0"><code>git clone &lt;è¿œç¨‹ä»“åº“åœ°å€&gt; &lt;æœ¬åœ°ç›¸å¯¹åœ°å€&gt; - å°†githubä¸Šçš„æŸä»“åº“å…‹éš†åˆ°æœ¬åœ°
git remote add origin &lt;è¿œç¨‹ä»“åº“åœ°å€&gt; - ç»™å½“å‰é¡¹ç›®æ·»åŠ  GitHub ä»“åº“ï¼ˆä¸€èˆ¬ç¬¬ä¸€æ¬¡ push æ—¶ç”¨ï¼‰
git push origin main - å°†æœ¬åœ° main åˆ†æ”¯æ¨é€åˆ° GitHub ä¸Š
git push -u origin main - ç¬¬ä¸€æ¬¡æ¨é€æ—¶ç”¨ï¼Œä¹‹åå¯ç›´æ¥ git push
</code></pre><p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘å¸Œæœ›æˆ‘çš„åšå®¢ä½¿ç”¨Orangesä¸»é¢˜ï¼Œæˆ‘å°±è¿™ä¹ˆåšï¼š</p>
<ul>
<li>cdåˆ°åšå®¢æ ¹ç›®å½•/myblog</li>
<li><code>git clone https://github.com/zchengsite/hexo-theme-oranges themes/Oranges</code>
è¾“å…¥ç¬¬äºŒè¡Œçš„å‘½ä»¤ä¹‹åï¼Œä½ çš„themesæ–‡ä»¶å¤¹ä¸­å°±ä¼šå‡ºç°Orangesæ–‡ä»¶ã€‚è¿™æ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨è¯¥ä¸»é¢˜äº†ã€‚</li>
</ul>
<p>æ³¨æ„ï¼šä¸åŒä¸»é¢˜å„è‡ªæœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œè¯·å‚è€ƒgithubä¸Šå„ä¸ªä¸»é¢˜çš„readme.mdæ–‡ä»¶äº†è§£é…ç½®æ–¹æ³•ã€‚</p>
<p>æœ‰çš„ä¸»é¢˜ä¼šå»ºè®®ä½ ä½¿ç”¨submoduleæ–¹å¼æ·»åŠ ä¸»é¢˜ã€‚è¿™éœ€è¦ä¸€å®šçš„gitåŸºç¡€ï¼Œå¹¶ä¸”ä¼šé€ æˆæäº¤éƒ¨ç½²ä¸Šæµç¨‹çš„å¤æ‚åŒ–ã€‚åæ­£æˆ‘æš‚æ—¶ä¸ä¼šã€‚æˆ‘çš„æ–¹æ¡ˆæ˜¯ç›´æ¥cloneåˆ°æœ¬åœ°ï¼Œä¹‹ååˆ é™¤å…¶ä¸­çš„æ‰€æœ‰.gitç›¸å…³çš„æ–‡ä»¶ï¼Œè¿™æ ·è¿™äº›å¯¼å…¥çš„æ–‡ä»¶å°±ä¸ä¼šè¢«è§†ä½œæ˜¯ä¸€ä¸ªå­ä»“åº“ï¼Œè€Œæ˜¯ä½ å·¥ç¨‹æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ã€‚é™¤éä½ æœ‰é¢‘ç¹æ›´æ–°ä¸»é¢˜çš„éœ€æ±‚ï¼Œä¸€èˆ¬è€Œè¨€å¯¼å…¥ä¸€æ¬¡å°±ä¸ä¼šå†å»æ›´æ–°ä¸»é¢˜äº†ã€‚
ï¼ˆåè®°ï¼šç°åœ¨ä»ç„¶ä¸ä¼šä½¿ç”¨å­æ¨¡å—ã€‚ï¼‰</p>
<h2 id="å¦‚ä½•éƒ¨ç½²åšå®¢">å¦‚ä½•éƒ¨ç½²åšå®¢ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e9%83%a8%e7%bd%b2%e5%8d%9a%e5%ae%a2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>é€šè¿‡ä¸Šæ–‡çš„æµç¨‹ï¼Œä½ å·²ç»å¯ä»¥åœ¨æœ¬åœ°ç¼–è¾‘å’Œé¢„è§ˆä½ çš„åšå®¢ç½‘ç«™äº†ã€‚ä½†æ˜¯è¿™ä¸å¤Ÿï¼Œå› ä¸ºä½ éœ€è¦è®©å®ƒéƒ¨ç½²åˆ°å…¬ç½‘ä¸Šæ‰èƒ½è®©å®ƒè¢«å…¶ä»–äººçœ‹åˆ°ã€‚
æ‰€ä»¥ï¼Œå¦‚ä½•éƒ¨ç½²å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œä½ çš„åšå®¢éœ€è¦ä¸€ä¸ªåœ°æ–¹å­˜æ”¾å®ƒçš„å·¥ç¨‹æ–‡ä»¶ï¼Œå³ä½ çš„myblogæ–‡ä»¶å¤¹ã€‚è¿™ä¸ªä½ç½®ä¸èƒ½æ˜¯ä½ çš„æœ¬åœ°ï¼Œå› ä¸ºåšå®¢ç½‘ç«™24å°æ—¶è¿è½´è½¬ï¼Œä½ çš„ç”µè„‘å¯æ˜¯éœ€è¦ä¼‘æ¯çš„ã€‚</li>
<li>æ­¤å¤–ï¼Œä½ çš„åšå®¢éœ€è¦ä¸€ä¸ªåŸŸåï¼Œä¾‹å¦‚baidu.comã€‚ä¸ç„¶åˆ«äººæ€ä¹ˆè®¿é—®ä½ çš„åšå®¢ã€‚</li>
<li>ä¹‹åï¼Œä½ éœ€è¦ä¸€ä¸ªå¹³å°æ¥ä»£æ›¿ä½ çš„ç”µè„‘æ¥è¿è¡Œç½‘ç«™ã€‚å½“ç„¶å¦‚æœä½ ä¼šæ­è‡ªå·±çš„æœåŠ¡å™¨é‚£å½“æˆ‘æ²¡è¯´ï¼Œä¸è¿‡æœ‰è¿™å®åŠ›ä¹Ÿä¸è‡³äºæ¥çœ‹æˆ‘çš„æ–‡ç« äº†ã€‚</li>
</ul>
<p>æ„Ÿè§‰å¾ˆå¤æ‚å—ï¼Ÿæ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸€æ¡ä¸€æ¡æ¥ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€æ¡ã€‚åœ¨å“ªé‡Œå¯ä»¥å­˜æ”¾ä½ çš„å·¥ç¨‹æ–‡ä»¶å‘¢ï¼Ÿå¯¹äºä¸€ä¸ªæ¯«æ— ç¼–ç¨‹åŸºç¡€çš„äººè€Œè¨€ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ç½‘ç›˜ã€‚å¾ˆä¸é”™äº†ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰æ›´ä¼˜åŒ–çš„æ–¹æ¡ˆã€‚è¿™å°±æ˜¯æˆ‘ä»¬å‰æ–‡ä¸­æåˆ°çš„githubã€‚
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆæ­£å¼ä»‹ç»ä¸€ä¸‹githubã€‚</p>
<h4 id="ä»€ä¹ˆæ˜¯github">ä»€ä¹ˆæ˜¯githubï¼Ÿ<a href="#%e4%bb%80%e4%b9%88%e6%98%afgithub" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>æˆ‘çŸ¥é“ä½ å¯èƒ½å¾ˆæƒ³åæ§½ä¸ºä»€ä¹ˆæˆ‘å…ˆè®²æ€ä¹ˆç”¨githubå†ä»‹ç»githubï¼Œä½†æ˜¯ä½ å…ˆåˆ«æ€¥ã€‚</p>
<p>GitHubï¼Œæ˜¯ä¸€ä¸ªåŸºäºgitçš„ä»£ç æ‰˜ç®¡å¹³å°ã€‚å®ƒå°±åƒæ˜¯ä¸€ä¸ªå‡ ä¹æ— é™å¤§çš„ç½‘ç›˜ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œæ­å»ºä»“åº“ï¼Œå­˜æ”¾ä»£ç ï¼Œç”šè‡³å’Œä»–äººåˆä½œå®Œæˆé¡¹ç›®ã€‚</p>
<p>æ€ä¹ˆåšåˆ°æ— é™å¤§çš„ï¼Ÿå¥½å§ï¼Œå®é™…ä¸Šå¹¶ä¸æ˜¯æ— é™å¤§ã€‚githubè¦æ±‚å•ä¸ªä»“åº“ä¸Šçº¿å¤§å°ä¸º1GBï¼Œå•ä¸ªæ–‡ä»¶ä¸Šé™å¤§å°ä¸º100MBã€‚ä½†æ˜¯ï¼Œå¯¹äºä»£ç è¿™ç§çº¯ç²¹å­—ç¬¦ç»„æˆçš„æ–‡ä»¶ï¼Œä¸€èˆ¬è€Œè¨€ç©ºé—´å ç”¨é‡å¾ˆå°ï¼ŒåŠ ä¸Šå¾—ç›Šäºgitçš„é«˜æ•ˆå‚¨å­˜ï¼Œå¯¹äºå¤§éƒ¨åˆ†ä»£ç å·¥ç¨‹è€Œè¨€ä½¿ç”¨githubéƒ½æ˜¯è¶³å¤Ÿä½¿ç”¨äº†ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æƒ³åœ¨è¿™é‡Œä¸Šä¼ è§†é¢‘ç­‰å¤§ä½“ç§¯æ–‡ä»¶ï¼Œè¿™å°±æœ‰ç‚¹å›°éš¾äº†ã€‚</p>
<h4 id="å¦‚ä½•åœ¨githubä¸Šå­˜æ”¾ä½ çš„å·¥ç¨‹æ–‡ä»¶">å¦‚ä½•åœ¨githubä¸Šå­˜æ”¾ä½ çš„å·¥ç¨‹æ–‡ä»¶ï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e5%9c%a8github%e4%b8%8a%e5%ad%98%e6%94%be%e4%bd%a0%e7%9a%84%e5%b7%a5%e7%a8%8b%e6%96%87%e4%bb%b6" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>éå¸¸ç®€å•ã€‚åœ¨æˆ‘ä»¬å‰æ–‡ä¸­æœ‰è®²è¿‡å¦‚ä½•æŠŠæœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°githubã€‚ç°åœ¨æˆ‘å†æ¥è¯¦ç»†ä»‹ç»ä¸€éã€‚</p>
<ul>
<li>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªä»“åº“ã€‚ä½ å¯ä»¥åœ¨githubä¸­è½»æ¾æ‰¾åˆ°åˆ›å»ºä»“åº“çš„æŒ‰é”®ã€‚è¾“å…¥ä½ æƒ³å‘½åçš„ä»“åº“åå°±å¤§åŠŸå‘Šæˆäº†ã€‚</li>
<li>ä¹‹åï¼Œè¿›å…¥ä½ çš„ä»“åº“ç•Œé¢ã€‚å¤åˆ¶æ­¤å¤„çš„ç½‘å€ã€‚</li>
<li><code>git remote add origin &lt;è¿œç¨‹ä»“åº“åœ°å€&gt;</code>, å°†å½“å‰é¡¹ç›®é“¾æ¥åˆ°ä½ åˆšåˆ›å»ºçš„githubä»“åº“ã€‚</li>
<li><code>git add .</code> <code>git commit -m &lt;message&gt;</code>,å°†å½“å‰é¡¹ç›®æäº¤ä¸€æ¬¡gitå­˜æ¡£ã€‚</li>
<li><code>git push -u origin main</code>,å°†å½“å‰æäº¤ä¸Šä¼ åˆ°githubã€‚</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œå»ä½ çš„githubä»“åº“é‡Œï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä½ çš„å·¥ç¨‹æ–‡ä»¶æˆåŠŸå‡ºç°åœ¨äº†é‚£é‡Œã€‚æˆåŠŸä¸Šä¼ ã€‚</p>
<p>æ³¨æ„ï¼šä¹‹ååœ¨ç›¸åŒçš„å·¥ç¨‹æ–‡ä»¶ä¸­ï¼Œä½ åªéœ€è¦è¾“å…¥<code>git push</code>å°±å¯ä»¥ä»£æ›¿<code>git push -u origin main</code>ï¼Œæ›´åŠ å¿«æ·ã€‚</p>
<h4 id="å¦‚ä½•è·å¾—åŸŸå">å¦‚ä½•è·å¾—åŸŸåï¼Ÿ<a href="#%e5%a6%82%e4%bd%95%e8%8e%b7%e5%be%97%e5%9f%9f%e5%90%8d" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>è¿™æ˜¯å…¨è¿‡ç¨‹æœ€ç®€å•çš„ä¸€ç¯ï¼Œæ‹¿é’±æ‘†äº‹å³å¯ã€‚</p>
<p>å›½å†…çš„ä¸»è¦åŸŸåå•†å°±æ˜¯é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘ã€‚æˆ‘ä¸ªäººæ˜¯åœ¨è…¾è®¯äº‘ä¸Šä¹°çš„åŸŸåã€‚</p>
<p>åŸŸåçš„ä¸åŒä»·æ ¼ä¸»è¦å°±æ˜¯åç¼€å†³å®šçš„ã€‚ä¸è¦è¢«æŸäº›åŸŸåè¾ƒä½çš„é¦–å¹´ä»·æ ¼å¸å¼•äº†ï¼Œæ²¡å¿…è¦æä¸€ä¸ªå¤ªèŠ±é‡Œèƒ¡å“¨çš„åŸŸåï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯æ›´è¿½æ±‚ç¨³å®šã€‚</p>
<p>åœ¨è…¾è®¯äº‘ä¸Šè´­ä¹°åŸŸåä¹‹åï¼Œä½ ä¼šåœ¨è¿™é‡Œæ‰¾åˆ°ç›¸å…³çš„å·¥ä½œå°ã€‚è¿™å¾ˆé‡è¦ï¼Œä¹‹åéƒ¨ç½²åšå®¢çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</p>
<h4 id="éƒ¨ç½²åšå®¢">éƒ¨ç½²åšå®¢<a href="#%e9%83%a8%e7%bd%b2%e5%8d%9a%e5%ae%a2" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h4>
<p>ç°åœ¨ï¼Œä½ å·²ç»æœ‰äº†åŸŸåå’Œåšå®¢ç½‘ç«™çš„å†…å®¹ï¼Œæ˜¯æ—¶å€™è®©å®ƒéƒ¨ç½²åˆ°å…¬ç½‘ä¸Šäº†ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ±‚äº‘è®¡ç®—æœåŠ¡å¹³å°çš„å¸®åŠ©ï¼Œæ¥æ‰˜ç®¡æˆ‘ä»¬çš„ç½‘ç«™ä»£ç ã€‚åœ¨å…¶ä¸­ï¼Œæˆ‘ä¸ªäººé€‰æ‹©çš„æ˜¯vercelï¼Œåœ¨ä¸­æ–‡ç¤¾åŒºå¹¿å—å¥½è¯„çš„æ‰˜ç®¡å¹³å°ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ å»é—®chatgptæˆ–è€…geminiç­‰å¤–å›½LLMï¼Œä½ å¯èƒ½ä¼šè¢«å‘ŠçŸ¥vercelåœ¨å›½å†…çš„é€Ÿåº¦å¹¶ä¸å¥½ï¼Œå¹¶æ¨èä½¿ç”¨cloudflareã€‚ç„¶è€Œäº‹å®æˆªç„¶ç›¸åï¼Œæˆ‘èº«è¾¹ç”¨è¿‡çš„äººéƒ½è¯´cfåˆæ…¢åˆçˆ±æŠ½é£ã€‚äº‹å®è¯æ˜ï¼Œæœ‰æ—¶å€™æœ‰ç»éªŒçš„çœŸäººä¼šæ¯”å¤§æ•°æ®æ›´æ‡‚ä½ çš„éœ€æ±‚ã€‚</p>
<p>è‡³å°‘åœ¨vercelä¸­ï¼Œéƒ¨ç½²åšå®¢å‡ ä¹æ˜¯ä¸€æ¡é¾™æœåŠ¡ï¼Œè·Ÿç€å¼•å¯¼èµ°å°±è¡Œäº†ã€‚è¿™è¾¹æå‡ ä¸ªå¯èƒ½äº§ç”Ÿè¯¯ä¼šçš„åœ°æ–¹ã€‚</p>
<h6 id="1å¦‚ä½•ä½¿ç”¨è‡ªå·±çš„åŸŸå">1.å¦‚ä½•ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼Ÿ<a href="#1%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e8%87%aa%e5%b7%b1%e7%9a%84%e5%9f%9f%e5%90%8d" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h6>
<p>è¿™é‡Œéœ€è¦å¼•å…¥DNSçš„æ¦‚å¿µã€‚</p>
<p>DNSï¼šDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼Œç”¨æ¥å®ç°åŸŸåå’ŒIPåœ°å€çš„ç›¸äº’æ˜ å°„ã€‚ç®€å•æ¥è¯´ï¼Œç”¨æˆ·æƒ³é€šè¿‡åŸŸåæ¥è®¿é—®ç½‘ç«™ï¼Œä½†æ˜¯è®¡ç®—æœºéœ€è¦IPåœ°å€ã€‚DNSå°±æä¾›äº†è¿™æ ·çš„å¯»å€åŠŸèƒ½ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³é€šè¿‡åŸŸåæ¥è®¿é—®è‡ªå·±çš„åšå®¢ï¼Œæˆ‘ä»¬å°±éœ€è¦è®©æˆ‘ä»¬çš„åŸŸåé€šè¿‡DNSè®°å½•é“¾æ¥åˆ°äº‘è®¡ç®—æœåŠ¡å¹³å°çš„IPåœ°å€ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è¿”å›åŸŸåå•†çš„å·¥ä½œå°ã€‚åœ¨æ­¤å¤„ä¸ºæˆ‘ä»¬çš„åŸŸåæ·»åŠ DNSè®°å½•ã€‚æ­¤å¤„ï¼Œä½ éœ€è¦å»è·çŸ¥ä½ æ‰€é€‰äº‘è®¡ç®—æœåŠ¡å¹³å°çš„IPåœ°å€ã€‚</p>
<p>æˆ‘å…¶å®ä¸å¤ªæ˜ç™½æ€ä¹ˆè·çŸ¥è¿™ä¸ªIPåœ°å€ï¼Œè¯¯æ‰“è¯¯æ’å°±å¡«å¯¹äº†ã€‚æ‰€ä»¥éœ€è¦ä½ è‡ªå·±å»æ¢ç´¢æ–¹æ³•ã€‚</p>
<h6 id="2å¦‚ä½•æ›´æ–°">2.å¦‚ä½•æ›´æ–°ï¼Ÿ<a href="#2%e5%a6%82%e4%bd%95%e6%9b%b4%e6%96%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h6>
<p>å¦‚æœä½ æƒ³æ›´æ–°åšå®¢ï¼Œä½ éœ€è¦é‡æ–°éƒ¨ç½²ä¸€éå—ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä¸ç”¨ã€‚vercelè¿™æ ·çš„å¹³å°ä¼šè‡ªåŠ¨æ£€æµ‹githubä»“åº“çš„æäº¤å¹¶é‡‡ç”¨å½“å‰åˆ†æ”¯çš„æœ€æ–°è®°å½•ã€‚ä½ åªéœ€è¦git pushä¸€ä¸‹ä½ å°±å¯ä»¥çœ‹åˆ°å…¬ç½‘ä¸Šä½ çš„åšå®¢å†…å®¹æ›´æ–°äº†ã€‚</p>
<h2 id="å°¾å£°">å°¾å£°<a href="#%e5%b0%be%e5%a3%b0" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>è¿™æ˜¯æˆ‘æ­£å¼å†™çš„ç¬¬ä¸€ç¯‡åšå®¢ã€‚ç å­—ç äº†åŠå¤©ã€‚å› ä¸ºå®é™…ä¸Šæœ¬äººä¹Ÿæ˜¯åˆšåˆšå¼€å§‹æ¥è§¦åšå®¢ï¼Œæ²¡æœ‰å¾ˆä¸°å¯Œçš„ç»éªŒä¸çŸ¥è¯†åŸºç¡€ï¼Œå¸Œæœ›å¤šå¤šè§è°…ã€‚</p>
<p>å› ä¸ºç°åœ¨æ²¡æœ‰å›¾åºŠï¼Œå¯¼å…¥å›¾ç‰‡ä¸å¤ªæ–¹ä¾¿ï¼Œä¹‹åå¸Œæœ›èƒ½å°½å¿«è§£å†³ã€‚ï¼ˆ2025-11-23ï¼Œç°åœ¨ä¹Ÿæ²¡æœ‰è§£å†³ï¼‰</p>
]]></content>
		</item>
		
		<item>
			<title></title>
			<link>http://localhost:1313/zh-cn/posts/readme/</link>
			<pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><author>Moonhalf</author><guid>http://localhost:1313/zh-cn/posts/readme/</guid>
			<description><![CDATA[&lt;no value&gt;]]></description><content type="text/html" mode="escaped"><![CDATA[<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>A fast and flexible static site generator built with love by <a href="https://github.com/bep">bep</a>, <a href="https://github.com/spf13">spf13</a>, and <a href="https://github.com/gohugoio/hugo/graphs/contributors">friends</a> in <a href="https://go.dev/">Go</a>.</p>
<hr>
<p><a href="https://godoc.org/github.com/gohugoio/hugo"><img src="https://godoc.org/github.com/gohugoio/hugo?status.svg" alt="GoDoc"></a>
<a href="https://github.com/gohugoio/hugo/actions?query=workflow%3ATest"><img src="https://github.com/gohugoio/hugo/workflows/Test/badge.svg" alt="Tests on Linux, MacOS and Windows"></a>
<a href="https://goreportcard.com/report/github.com/gohugoio/hugo"><img src="https://goreportcard.com/badge/github.com/gohugoio/hugo" alt="Go Report Card"></a></p>
<p><a href="https://gohugo.io">Website</a> | <a href="https://gohugo.io/installation">Installation</a> | <a href="https://gohugo.io/documentation">Documentation</a> | <a href="https://discourse.gohugo.io">Support</a> | <a href="CONTRIBUTING.md">Contributing</a> | <!-- raw HTML omitted -->Mastodon<!-- raw HTML omitted --></p>
<h2 id="overview">Overview<a href="#overview" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Hugo is a <a href="https://en.wikipedia.org/wiki/Static_site_generator">static site generator</a> written in <a href="https://go.dev/">Go</a>, optimized for speed and designed for flexibility. With its advanced templating system and fast asset pipelines, Hugo renders a complete site in seconds, often less.</p>
<p>Due to its flexible framework, multilingual support, and powerful taxonomy system, Hugo is widely used to create:</p>
<ul>
<li>Corporate, government, nonprofit, education, news, event, and project sites</li>
<li>Documentation sites</li>
<li>Image portfolios</li>
<li>Landing pages</li>
<li>Business, professional, and personal blogs</li>
<li>Resumes and CVs</li>
</ul>
<p>Use Hugo&rsquo;s embedded web server during development to instantly see changes to content, structure, behavior, and presentation. Then deploy the site to your host, or push changes to your Git provider for automated builds and deployment.</p>
<p>Hugo&rsquo;s fast asset pipelines include:</p>
<ul>
<li>Image processing â€“ Convert, resize, crop, rotate, adjust colors, apply filters, overlay text and images, and extract EXIF data</li>
<li>JavaScript bundling â€“ Transpile TypeScript and JSX to JavaScript, bundle, tree shake, minify, create source maps, and perform SRI hashing.</li>
<li>Sass processing â€“ Transpile Sass to CSS, bundle, tree shake, minify, create source maps, perform SRI hashing, and integrate with PostCSS</li>
<li>Tailwind CSS processing â€“ Compile Tailwind CSS utility classes into standard CSS, bundle, tree shake, optimize, minify, perform SRI hashing, and integrate with PostCSS</li>
</ul>
<p>And with <a href="https://gohugo.io/hugo-modules/">Hugo Modules</a>, you can share content, assets, data, translations, themes, templates, and configuration with other projects via public or private Git repositories.</p>
<p>See the <a href="https://gohugo.io/about/features/">features</a> section of the documentation for a comprehensive summary of Hugo&rsquo;s capabilities.</p>
<h2 id="sponsors">Sponsors<a href="#sponsors" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<!-- raw HTML omitted -->
<h2 id="editions">Editions<a href="#editions" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Hugo is available in three editions: standard, extended, and extended/deploy. While the standard edition provides core functionality, the extended and extended/deploy editions offer advanced features.</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">Feature</th>
          <th style="text-align: center">extended edition</th>
          <th style="text-align: center">extended/deploy edition</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">Encode to the WebP format when <a href="https://gohugo.io/content-management/image-processing/">processing images</a>. You can decode WebP images with any edition.</td>
          <td style="text-align: center">&#x2714;&#xfe0f;</td>
          <td style="text-align: center">&#x2714;&#xfe0f;</td>
      </tr>
      <tr>
          <td style="text-align: left"><a href="https://gohugo.io/functions/css/sass/">Transpile Sass to CSS</a> using the embedded LibSass transpiler. You can use the <a href="https://gohugo.io/functions/css/sass/#dart-sass">Dart Sass</a> transpiler with any edition.</td>
          <td style="text-align: center">&#x2714;&#xfe0f;</td>
          <td style="text-align: center">&#x2714;&#xfe0f;</td>
      </tr>
      <tr>
          <td style="text-align: left">Deploy your site directly to a Google Cloud Storage bucket, an AWS S3 bucket, or an Azure Storage container. SeeÂ <a href="https://gohugo.io/hosting-and-deployment/hugo-deploy/">details</a>.</td>
          <td style="text-align: center">&#x274c;</td>
          <td style="text-align: center">&#x2714;&#xfe0f;</td>
      </tr>
  </tbody>
</table>
<p>Unless your specific deployment needs require the extended/deploy edition, we recommend the extended edition.</p>
<h2 id="installation">Installation<a href="#installation" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Install Hugo from a <a href="https://github.com/gohugoio/hugo/releases/latest">prebuilt binary</a>, package manager, or package repository. Please see the installation instructions for your operating system:</p>
<ul>
<li><a href="https://gohugo.io/installation/macos">macOS</a></li>
<li><a href="https://gohugo.io/installation/linux">Linux</a></li>
<li><a href="https://gohugo.io/installation/windows">Windows</a></li>
<li><a href="https://gohugo.io/installation/bsd">DragonFly BSD, FreeBSD, NetBSD, and OpenBSD</a></li>
</ul>
<h2 id="build-from-source">Build from source<a href="#build-from-source" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Prerequisites to build Hugo from source:</p>
<ul>
<li>Standard edition: Go 1.24.0 or later</li>
<li>Extended edition: Go 1.24.0 or later, and GCC</li>
<li>Extended/deploy edition: Go 1.24.0 or later, and GCC</li>
</ul>
<p>Build the standard edition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>go install github.com/gohugoio/hugo@latest
</span></span></code></pre></div><p>Build the extended edition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>CGO_ENABLED=1 go install -tags extended github.com/gohugoio/hugo@latest
</span></span></code></pre></div><p>Build the extended/deploy edition:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>CGO_ENABLED=1 go install -tags extended,withdeploy github.com/gohugoio/hugo@latest
</span></span></code></pre></div><h2 id="star-history">Star History<a href="#star-history" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p><a href="https://star-history.com/#gohugoio/hugo&amp;Timeline"><img src="https://api.star-history.com/svg?repos=gohugoio/hugo&amp;type=Timeline" alt="Star History Chart"></a></p>
<h2 id="documentation">Documentation<a href="#documentation" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Hugo&rsquo;s <a href="https://gohugo.io/documentation">documentation</a> includes installation instructions, a quick start guide, conceptual explanations, reference information, and examples.</p>
<p>Please submit documentation issues and pull requests to the <a href="https://github.com/gohugoio/hugoDocs">documentation repository</a>.</p>
<h2 id="support">Support<a href="#support" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Please <strong>do not use the issue queue</strong> for questions or troubleshooting. Unless you are certain that your issue is a software defect, use the <a href="https://discourse.gohugo.io">forum</a>.</p>
<p>Hugoâ€™s <a href="https://discourse.gohugo.io">forum</a> is an active community of users and developers who answer questions, share knowledge, and provide examples. A quick search of over 20,000 topics will often answer your question. Please be sure to read about <a href="https://discourse.gohugo.io/t/requesting-help/9132">requesting help</a> before asking your first question.</p>
<h2 id="contributing">Contributing<a href="#contributing" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>You can contribute to the Hugo project by:</p>
<ul>
<li>Answering questions on the <a href="https://discourse.gohugo.io">forum</a></li>
<li>Improving the <a href="https://gohugo.io/documentation">documentation</a></li>
<li>Monitoring the <a href="https://github.com/gohugoio/hugo/issues">issue queue</a></li>
<li>Creating or improving <a href="https://themes.gohugo.io/">themes</a></li>
<li>Squashing <a href="https://github.com/gohugoio/hugo/issues?q=is%3Aopen&#43;is%3Aissue&#43;label%3ABug">bugs</a></li>
</ul>
<p>Please submit documentation issues and pull requests to the <a href="https://github.com/gohugoio/hugoDocs">documentation repository</a>.</p>
<p>If you have an idea for an enhancement or new feature, create a new topic on the <a href="https://discourse.gohugo.io">forum</a> in the &ldquo;Feature&rdquo; category. This will help you to:</p>
<ul>
<li>Determine if the capability already exists</li>
<li>Measure interest</li>
<li>Refine the concept</li>
</ul>
<p>If there is sufficient interest, <a href="https://github.com/gohugoio/hugo/issues/new?labels=Proposal%2C&#43;NeedsTriage&amp;template=feature_request.md">create a proposal</a>. Do not submit a pull request until the project lead accepts the proposal.</p>
<p>For a complete guide to contributing to Hugo, see the <a href="CONTRIBUTING.md">Contribution Guide</a>.</p>
<h2 id="dependencies">Dependencies<a href="#dependencies" class="anchor" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path>
      <line x1="8" y1="12" x2="16" y2="12"></line>
   </svg></a></h2>
<p>Hugo stands on the shoulders of great open source libraries. Run <code>hugo env --logLevel info</code> to display a list of dependencies.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>github.com/BurntSushi/locker=&#34;v0.0.0-20171006230638-a6e239ea1c69&#34;
</span></span><span style="display:flex;"><span>github.com/PuerkitoBio/goquery=&#34;v1.10.1&#34;
</span></span><span style="display:flex;"><span>github.com/alecthomas/chroma/v2=&#34;v2.15.0&#34;
</span></span><span style="display:flex;"><span>github.com/andybalholm/cascadia=&#34;v1.3.3&#34;
</span></span><span style="display:flex;"><span>github.com/armon/go-radix=&#34;v1.0.1-0.20221118154546-54df44f2176c&#34;
</span></span><span style="display:flex;"><span>github.com/bep/clocks=&#34;v0.5.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/debounce=&#34;v1.2.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/gitmap=&#34;v1.6.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/goat=&#34;v0.5.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/godartsass/v2=&#34;v2.3.2&#34;
</span></span><span style="display:flex;"><span>github.com/bep/golibsass=&#34;v1.2.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/gowebp=&#34;v0.3.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/imagemeta=&#34;v0.8.4&#34;
</span></span><span style="display:flex;"><span>github.com/bep/lazycache=&#34;v0.7.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/logg=&#34;v0.4.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/mclib=&#34;v1.20400.20402&#34;
</span></span><span style="display:flex;"><span>github.com/bep/overlayfs=&#34;v0.9.2&#34;
</span></span><span style="display:flex;"><span>github.com/bep/simplecobra=&#34;v0.5.0&#34;
</span></span><span style="display:flex;"><span>github.com/bep/tmc=&#34;v0.5.1&#34;
</span></span><span style="display:flex;"><span>github.com/cespare/xxhash/v2=&#34;v2.3.0&#34;
</span></span><span style="display:flex;"><span>github.com/clbanning/mxj/v2=&#34;v2.7.0&#34;
</span></span><span style="display:flex;"><span>github.com/cpuguy83/go-md2man/v2=&#34;v2.0.4&#34;
</span></span><span style="display:flex;"><span>github.com/disintegration/gift=&#34;v1.2.1&#34;
</span></span><span style="display:flex;"><span>github.com/dlclark/regexp2=&#34;v1.11.5&#34;
</span></span><span style="display:flex;"><span>github.com/dop251/goja=&#34;v0.0.0-20250125213203-5ef83b82af17&#34;
</span></span><span style="display:flex;"><span>github.com/evanw/esbuild=&#34;v0.24.2&#34;
</span></span><span style="display:flex;"><span>github.com/fatih/color=&#34;v1.18.0&#34;
</span></span><span style="display:flex;"><span>github.com/frankban/quicktest=&#34;v1.14.6&#34;
</span></span><span style="display:flex;"><span>github.com/fsnotify/fsnotify=&#34;v1.8.0&#34;
</span></span><span style="display:flex;"><span>github.com/getkin/kin-openapi=&#34;v0.129.0&#34;
</span></span><span style="display:flex;"><span>github.com/ghodss/yaml=&#34;v1.0.0&#34;
</span></span><span style="display:flex;"><span>github.com/go-openapi/jsonpointer=&#34;v0.21.0&#34;
</span></span><span style="display:flex;"><span>github.com/go-openapi/swag=&#34;v0.23.0&#34;
</span></span><span style="display:flex;"><span>github.com/go-sourcemap/sourcemap=&#34;v2.1.4+incompatible&#34;
</span></span><span style="display:flex;"><span>github.com/gobuffalo/flect=&#34;v1.0.3&#34;
</span></span><span style="display:flex;"><span>github.com/gobwas/glob=&#34;v0.2.3&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/go-i18n/v2=&#34;v2.1.3-0.20230805085216-e63c13218d0e&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/hashstructure=&#34;v0.5.0&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/httpcache=&#34;v0.7.0&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/hugo-goldmark-extensions/extras=&#34;v0.2.0&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/hugo-goldmark-extensions/passthrough=&#34;v0.3.0&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/locales=&#34;v0.14.0&#34;
</span></span><span style="display:flex;"><span>github.com/gohugoio/localescompressed=&#34;v1.0.1&#34;
</span></span><span style="display:flex;"><span>github.com/golang/freetype=&#34;v0.0.0-20170609003504-e2365dfdc4a0&#34;
</span></span><span style="display:flex;"><span>github.com/google/go-cmp=&#34;v0.6.0&#34;
</span></span><span style="display:flex;"><span>github.com/google/pprof=&#34;v0.0.0-20250208200701-d0013a598941&#34;
</span></span><span style="display:flex;"><span>github.com/gorilla/websocket=&#34;v1.5.3&#34;
</span></span><span style="display:flex;"><span>github.com/hairyhenderson/go-codeowners=&#34;v0.7.0&#34;
</span></span><span style="display:flex;"><span>github.com/hashicorp/golang-lru/v2=&#34;v2.0.7&#34;
</span></span><span style="display:flex;"><span>github.com/jdkato/prose=&#34;v1.2.1&#34;
</span></span><span style="display:flex;"><span>github.com/josharian/intern=&#34;v1.0.0&#34;
</span></span><span style="display:flex;"><span>github.com/kr/pretty=&#34;v0.3.1&#34;
</span></span><span style="display:flex;"><span>github.com/kr/text=&#34;v0.2.0&#34;
</span></span><span style="display:flex;"><span>github.com/kyokomi/emoji/v2=&#34;v2.2.13&#34;
</span></span><span style="display:flex;"><span>github.com/lucasb-eyer/go-colorful=&#34;v1.2.0&#34;
</span></span><span style="display:flex;"><span>github.com/mailru/easyjson=&#34;v0.7.7&#34;
</span></span><span style="display:flex;"><span>github.com/makeworld-the-better-one/dither/v2=&#34;v2.4.0&#34;
</span></span><span style="display:flex;"><span>github.com/marekm4/color-extractor=&#34;v1.2.1&#34;
</span></span><span style="display:flex;"><span>github.com/mattn/go-colorable=&#34;v0.1.13&#34;
</span></span><span style="display:flex;"><span>github.com/mattn/go-isatty=&#34;v0.0.20&#34;
</span></span><span style="display:flex;"><span>github.com/mattn/go-runewidth=&#34;v0.0.9&#34;
</span></span><span style="display:flex;"><span>github.com/mazznoer/csscolorparser=&#34;v0.1.5&#34;
</span></span><span style="display:flex;"><span>github.com/mitchellh/mapstructure=&#34;v1.5.1-0.20231216201459-8508981c8b6c&#34;
</span></span><span style="display:flex;"><span>github.com/mohae/deepcopy=&#34;v0.0.0-20170929034955-c48cc78d4826&#34;
</span></span><span style="display:flex;"><span>github.com/muesli/smartcrop=&#34;v0.3.0&#34;
</span></span><span style="display:flex;"><span>github.com/niklasfasching/go-org=&#34;v1.7.0&#34;
</span></span><span style="display:flex;"><span>github.com/oasdiff/yaml3=&#34;v0.0.0-20241210130736-a94c01f36349&#34;
</span></span><span style="display:flex;"><span>github.com/oasdiff/yaml=&#34;v0.0.0-20241210131133-6b86fb107d80&#34;
</span></span><span style="display:flex;"><span>github.com/olekukonko/tablewriter=&#34;v0.0.5&#34;
</span></span><span style="display:flex;"><span>github.com/pbnjay/memory=&#34;v0.0.0-20210728143218-7b4eea64cf58&#34;
</span></span><span style="display:flex;"><span>github.com/pelletier/go-toml/v2=&#34;v2.2.3&#34;
</span></span><span style="display:flex;"><span>github.com/perimeterx/marshmallow=&#34;v1.1.5&#34;
</span></span><span style="display:flex;"><span>github.com/pkg/browser=&#34;v0.0.0-20240102092130-5ac0b6a4141c&#34;
</span></span><span style="display:flex;"><span>github.com/pkg/errors=&#34;v0.9.1&#34;
</span></span><span style="display:flex;"><span>github.com/rivo/uniseg=&#34;v0.4.7&#34;
</span></span><span style="display:flex;"><span>github.com/rogpeppe/go-internal=&#34;v1.13.1&#34;
</span></span><span style="display:flex;"><span>github.com/russross/blackfriday/v2=&#34;v2.1.0&#34;
</span></span><span style="display:flex;"><span>github.com/sass/libsass=&#34;3.6.6&#34;
</span></span><span style="display:flex;"><span>github.com/spf13/afero=&#34;v1.11.0&#34;
</span></span><span style="display:flex;"><span>github.com/spf13/cast=&#34;v1.7.1&#34;
</span></span><span style="display:flex;"><span>github.com/spf13/cobra=&#34;v1.8.1&#34;
</span></span><span style="display:flex;"><span>github.com/spf13/fsync=&#34;v0.10.1&#34;
</span></span><span style="display:flex;"><span>github.com/spf13/pflag=&#34;v1.0.6&#34;
</span></span><span style="display:flex;"><span>github.com/tdewolff/minify/v2=&#34;v2.20.37&#34;
</span></span><span style="display:flex;"><span>github.com/tdewolff/parse/v2=&#34;v2.7.15&#34;
</span></span><span style="display:flex;"><span>github.com/tetratelabs/wazero=&#34;v1.8.2&#34;
</span></span><span style="display:flex;"><span>github.com/webmproject/libwebp=&#34;v1.3.2&#34;
</span></span><span style="display:flex;"><span>github.com/yuin/goldmark-emoji=&#34;v1.0.4&#34;
</span></span><span style="display:flex;"><span>github.com/yuin/goldmark=&#34;v1.7.8&#34;
</span></span><span style="display:flex;"><span>go.uber.org/automaxprocs=&#34;v1.5.3&#34;
</span></span><span style="display:flex;"><span>golang.org/x/crypto=&#34;v0.33.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/exp=&#34;v0.0.0-20250210185358-939b2ce775ac&#34;
</span></span><span style="display:flex;"><span>golang.org/x/image=&#34;v0.24.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/mod=&#34;v0.23.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/net=&#34;v0.35.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/sync=&#34;v0.11.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/sys=&#34;v0.30.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/text=&#34;v0.22.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/tools=&#34;v0.30.0&#34;
</span></span><span style="display:flex;"><span>golang.org/x/xerrors=&#34;v0.0.0-20240903120638-7835f813f4da&#34;
</span></span><span style="display:flex;"><span>gonum.org/v1/plot=&#34;v0.15.0&#34;
</span></span><span style="display:flex;"><span>google.golang.org/protobuf=&#34;v1.36.5&#34;
</span></span><span style="display:flex;"><span>gopkg.in/yaml.v2=&#34;v2.4.0&#34;
</span></span><span style="display:flex;"><span>gopkg.in/yaml.v3=&#34;v3.0.1&#34;
</span></span><span style="display:flex;"><span>oss.terrastruct.com/d2=&#34;v0.6.9&#34;
</span></span><span style="display:flex;"><span>oss.terrastruct.com/util-go=&#34;v0.0.0-20241005222610-44c011a04896&#34;
</span></span><span style="display:flex;"><span>rsc.io/qr=&#34;v0.2.0&#34;
</span></span><span style="display:flex;"><span>software.sslmate.com/src/go-pkcs12=&#34;v0.2.0&#34;
</span></span></code></pre></div><!-- raw HTML omitted -->
]]></content>
		</item>
		
	</channel>
</rss>
